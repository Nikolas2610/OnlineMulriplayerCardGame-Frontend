import{d as $,u as k,a as R,b as C,e as w,t as S,r as M,g as T,o as a,c as n,i as s,E as f,J as h,H as g,I as x,C as v}from"./index.34c63cb3.js";import{c as r,u as B,r as y,m as L,s as U}from"./index.esm.c8aa7dce.js";import{_ as V}from"./_plugin-vue_export-helper.cdc0426e.js";const i=k(),P=R(),A=$({setup(){C(()=>{P.user.forgotPasswordToken||w.push({name:"home"})});const e=S({password:"",confirmPassword:""}),t=M(!1),l=r.regex(/^(?=.*[A-Z]).*$/),c=r.regex(/^(?=.*[a-z])/),m=r.regex(/^(?=.*[0-9])/),u=r.regex(/[-._!"`'#%&,:;<>=@{}~\$\(\)\*\+\/\\\?\[\]\^\|]+/),o=T(()=>({password:{required:y,minLength:L(6),passwordUppercase:r.withMessage("The Password must contain at least one Uppercase character.",l),passwordLowercase:r.withMessage("The Password must contain at least one Lowercase character.",c),passwordDigit:r.withMessage("The Password must contain at least one digit.",m),passwordSpecialCharacter:r.withMessage("The Password must have at least one Special Symbol.",u)},confirmPassword:{required:y,sameAs:U(e.password)}})),d=B(o,e),b=async()=>{if(t.value=!0,await d.value.$validate(),d.value.$error)i.error("Please complete correct the form!");else{const p=await P.resetPassword(e.password);p==="success"?(_(),d.value.$reset(),i.success("Your password has been changed!"),w.push({name:"login"})):i.error(`Reset password fail!
${p}`)}t.value=!1},_=()=>{e.password="",e.confirmPassword=""};return{userResetPassword:e,v$:d,loadingButton:t,submitResetPassword:b}}}),D={class:"flex min-h-full flex-col justify-center py-12 sm:px-6 lg:px-8 bg-dark one-page"},z={class:"container py-20"},j=s("div",{class:"sm:mx-auto sm:w-full sm:max-w-lg"},[s("h2",{class:"mt-6 text-center text-3xl font-bold tracking-tight text-white"}," Reset Password ")],-1),E={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},F={class:"bg-primary py-8 px-4 shadow sm:rounded-lg sm:px-10"},H={class:"space-y-6"},q=s("label",{for:"password",class:"block text-sm font-medium text-white"},"Password",-1),I={class:"mt-1"},J=s("label",{for:"confirmPassword",class:"block text-sm font-medium text-white"},"Confirm Password",-1),N={class:"mt-1"},Y={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},Z=s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),G=s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),K=[Z,G],O={key:1};function Q(e,t,l,c,m,u){return a(),n("div",D,[s("div",z,[j,s("div",E,[s("div",F,[s("form",H,[s("div",null,[q,s("div",I,[f(s("input",{id:"password",type:"password","onUpdate:modelValue":t[0]||(t[0]=o=>e.userResetPassword.password=o),class:"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-secondary focus:outline-none sm:text-sm"},null,512),[[h,e.userResetPassword.password]])]),(a(!0),n(g,null,x(e.v$.password.$errors,o=>(a(),n("div",{key:o.$uid,class:"text-rose-700 text-base font-medium mt-1 px-2"},v(o.$message),1))),128))]),s("div",null,[J,s("div",N,[f(s("input",{id:"confirmPassword",type:"password","onUpdate:modelValue":t[1]||(t[1]=o=>e.userResetPassword.confirmPassword=o),class:"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-secondary focus:outline-none sm:text-sm"},null,512),[[h,e.userResetPassword.confirmPassword]])]),(a(!0),n(g,null,x(e.v$.confirmPassword.$errors,o=>(a(),n("div",{key:o.$uid,class:"text-rose-700 text-base font-medium mt-1 px-2"},v(o.$message),1))),128))]),s("div",null,[s("div",{onClick:t[2]||(t[2]=o=>e.submitResetPassword()),class:"mt-14 flex w-full justify-center rounded-md cursor-pointer border border-transparent bg-dark py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-secondary"},[e.loadingButton?(a(),n("svg",Y,K)):(a(),n("div",O,"Submit"))])])])])])])])}const es=V(A,[["render",Q]]);export{es as default};
