import{b as re}from"./helpers.341acb79.js";import{d as te,r as W,h as Ke,o as g,L as R,l as d,j as p,m as O,i as n,k as r,c as y,G as P,a0 as Kt,u as ma,O as ga,H as Z,I as q,C as Y,D as H,q as et,a1 as Ra,U as Ga,V as La,W as Va,M as va,b as kt,w as xe,a2 as Ha,a as Yt,p as ba,$ as wa,E as Ba,J as Ua,a3 as ja,a4 as Fa,e as $t,a5 as Qt}from"./index.5fcca771.js";import{u as Ae,T as x,H as ea,R as nt,M as ta,a as ve,S as aa}from"./PlayerStore.5432a49f.js";import{_ as k}from"./Flex.vue_vue_type_script_setup_true_lang.cc6ea895.js";import{o as Ya,b as Za,a as _a,M as vt}from"./ModalSecondaryButton.1ba37829.js";import{_ as Tt}from"./SelectField.vue_vue_type_script_setup_true_lang.df4b67ea.js";import{_ as Wa}from"./CheckBoxField.vue_vue_type_script_setup_true_lang.7c206d54.js";import{D as Gt,a as Le,_ as ya}from"./DarkTableCell.vue_vue_type_script_setup_true_lang.70554d77.js";import{_ as oa}from"./PrimaryButton.vue_vue_type_script_setup_true_lang.c997a560.js";import{_ as rt}from"./InputField.vue_vue_type_script_setup_true_lang.94bbe422.js";import{_ as Xa}from"./_plugin-vue_export-helper.cdc0426e.js";import{c as qa}from"./cards.91b306de.js";import{_ as Ja}from"./BackButton.vue_vue_type_script_setup_true_lang.f2c1a87c.js";import{l as Qe}from"./helpers.414745e0.js";import{D as Ka}from"./DeckType.enum.90a9c7f8.js";const Qa=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"})],-1),eo=["disabled"],to={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},ao=n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.25 5C5.56 5 5 5.56 5 6.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C7.5 5.56 6.94 5 6.25 5zm3.5 0c-.69 0-1.25.56-1.25 1.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C11 5.56 10.44 5 9.75 5z"},null,-1),oo=[ao],no={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},ro=n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"},null,-1),so=[ro],lo=["disabled"],io=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),n("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})],-1),uo=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.5 5A1.5 1.5 0 0 0 5 6.5v3A1.5 1.5 0 0 0 6.5 11h3A1.5 1.5 0 0 0 11 9.5v-3A1.5 1.5 0 0 0 9.5 5h-3z"})],-1),co=["disabled"],ho=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M2.5 15a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11zm2-13v1c0 .537.12 1.045.337 1.5h6.326c.216-.455.337-.963.337-1.5V2h-7zm3 6.35c0 .701-.478 1.236-1.011 1.492A3.5 3.5 0 0 0 4.5 13s.866-1.299 3-1.48V8.35zm1 0v3.17c2.134.181 3 1.48 3 1.48a3.5 3.5 0 0 0-1.989-3.158C8.978 9.586 8.5 9.052 8.5 8.351z"})],-1),fo=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M1.5 15a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1H13V2.5A1.5 1.5 0 0 0 11.5 1H11V.5a.5.5 0 0 0-.57-.495l-7 1A.5.5 0 0 0 3 1.5V15H1.5zM11 2h.5a.5.5 0 0 1 .5.5V15h-1V2zm-2.5 8c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1z"})],-1),po=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.79-2.907L8.5 7.028V5.5a.5.5 0 0 0-.79-.407L5 7.028V5.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0V8.972l2.71 1.935a.5.5 0 0 0 .79-.407V8.972l2.71 1.935A.5.5 0 0 0 12 10.5v-5a.5.5 0 0 0-.79-.407z"})],-1),mo=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.79 5.093A.5.5 0 0 0 4 5.5v5a.5.5 0 0 0 .79.407L7.5 8.972V10.5a.5.5 0 0 0 .79.407L11 8.972V10.5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-1 0v1.528L8.29 5.093a.5.5 0 0 0-.79.407v1.528L4.79 5.093z"})],-1),go=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"})],-1),vo=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{"fill-rule":"evenodd",d:"M0 3.5A.5.5 0 0 1 .5 3H1c2.202 0 3.827 1.24 4.874 2.418.49.552.865 1.102 1.126 1.532.26-.43.636-.98 1.126-1.532C9.173 4.24 10.798 3 13 3v1c-1.798 0-3.173 1.01-4.126 2.082A9.624 9.624 0 0 0 7.556 8a9.624 9.624 0 0 0 1.317 1.918C9.828 10.99 11.204 12 13 12v1c-2.202 0-3.827-1.24-4.874-2.418A10.595 10.595 0 0 1 7 9.05c-.26.43-.636.98-1.126 1.532C4.827 11.76 3.202 13 1 13H.5a.5.5 0 0 1 0-1H1c1.798 0 3.173-1.01 4.126-2.082A9.624 9.624 0 0 0 6.444 8a9.624 9.624 0 0 0-1.317-1.918C4.172 5.01 2.796 4 1 4H.5a.5.5 0 0 1-.5-.5z"}),n("path",{d:"M13 5.466V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192zm0 9v-3.932a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192z"})],-1),bo=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM7.729 5.055A.5.5 0 0 1 8 5.5v1.886l3.21-2.293A.5.5 0 0 1 12 5.5v5a.5.5 0 0 1-.79.407L8 8.614V10.5a.5.5 0 0 1-.79.407l-3.5-2.5a.5.5 0 0 1 0-.814l3.5-2.5a.5.5 0 0 1 .519-.038Z"})],-1),wo=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM4.79 5.093 8 7.386V5.5a.5.5 0 0 1 .79-.407l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 8 10.5V8.614l-3.21 2.293A.5.5 0 0 1 4 10.5v-5a.5.5 0 0 1 .79-.407Z"})],-1),_o=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"})],-1),yo=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"})],-1),xo=n("path",{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"},null,-1),ko=n("path",{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"},null,-1),Co=[xo,ko],$o=te({__name:"GameMasterMenu",emits:["openSettings","stopGame","exitTable","newGame","updateTableGameStatus","showAllCards","setNextPlayer","shuffleDeck","historyMovement"],setup(a,{emit:e}){const t=W(!1),o=Ae(),s=()=>{var i,u,c,f;if(!o.clickCardId)return!1;const l=(u=(i=o.cards)==null?void 0:i.find(h=>h.id===o.clickCardId))==null?void 0:u.table_deck.id;return!l||((c=o.table)==null?void 0:c.status)!==x.PLAYING&&((f=o.table)==null?void 0:f.status)!==x.GAME_MASTER_EDIT?!1:l===o.getJunkTableDeckId?!0:o.dropZones.deck.some(h=>h.tableDeckId===l)};return(l,i)=>{const u=Ke("VTooltip");return g(),R(k,{class:P(["border text-white fixed bottom-32 rounded-3xl h-14 bg-dark py-0 transition duration-1000 group cursor-pointer z-[2147483639]",t.value?"-translate-x-[20px]":"-translate-x-[685px] hover:-translate-x-[20px]"]),items:"center",justify:"center"},{default:d(()=>[p(k,{class:"border-r h-full px-6 pl-10",items:"center",gap:4},{default:d(()=>{var c,f;return[p(k,{justify:"center",items:"center",class:"hover:text-primary duration-300 transition",onClick:i[0]||(i[0]=h=>l.$emit("newGame"))},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[O(" New Game ")]),default:d(()=>[Qa]),_:1})]),_:1}),p(k,{justify:"center",items:"center",class:"hover:text-primary duration-300 transition"},{default:d(()=>{var h,b,T,A,E,z;return[n("button",{onClick:i[1]||(i[1]=I=>{var v;return((v=r(o).table)==null?void 0:v.status)===r(x).PLAYING?l.$emit("updateTableGameStatus",r(x).PAUSE):l.$emit("updateTableGameStatus",r(x).PLAYING)}),disabled:((h=r(o).table)==null?void 0:h.status)===r(x).FINISH||((b=r(o).table)==null?void 0:b.status)===r(x).WAITING||((T=r(o).table)==null?void 0:T.status)===r(x).GAME_MASTER_EDIT,class:P(((A=r(o).table)==null?void 0:A.status)===r(x).FINISH||((E=r(o).table)==null?void 0:E.status)===r(x).WAITING||((z=r(o).table)==null?void 0:z.status)===r(x).GAME_MASTER_EDIT?"cursor-not-allowed opacity-50":"")},[p(u,{distance:"22"},{popper:d(()=>[O(" Pause / Resume Game ")]),default:d(()=>{var I;return[((I=r(o).table)==null?void 0:I.status)!==r(x).PAUSE?(g(),y("svg",to,oo)):(g(),y("svg",no,so))]}),_:1})],10,eo)]}),_:1}),p(k,{justify:"center",items:"center",class:"hover:text-primary duration-300 transition"},{default:d(()=>{var h,b,T,A;return[n("button",{onClick:i[2]||(i[2]=E=>{var z,I;return((z=r(o).table)==null?void 0:z.status)===r(x).PLAYING||((I=r(o).table)==null?void 0:I.status)===r(x).PAUSE?l.$emit("updateTableGameStatus",r(x).GAME_MASTER_EDIT):l.$emit("updateTableGameStatus",r(x).PLAYING)}),disabled:((h=r(o).table)==null?void 0:h.status)===r(x).FINISH||((b=r(o).table)==null?void 0:b.status)===r(x).WAITING,class:P(((T=r(o).table)==null?void 0:T.status)===r(x).FINISH||((A=r(o).table)==null?void 0:A.status)===r(x).WAITING?"cursor-not-allowed opacity-50":"")},[p(u,{distance:"22"},{popper:d(()=>[O(" Hide table from other players to edit the table ")]),default:d(()=>[io]),_:1})],10,lo)]}),_:1}),p(k,{justify:"center",items:"center",class:P(["hover:text-primary duration-300 transition",((c=r(o).table)==null?void 0:c.status)===r(x).WAITING||((f=r(o).table)==null?void 0:f.status)===r(x).FINISH?"cursor-not-allowed opacity-50":""]),onClick:i[3]||(i[3]=h=>{var b;return((b=r(o).table)==null?void 0:b.status)!==r(x).WAITING?l.$emit("stopGame"):""})},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[O(" End Game ")]),default:d(()=>[uo]),_:1})]),_:1},8,["class"]),p(k,{justify:"center",items:"center"},{default:d(()=>{var h,b;return[n("button",{disabled:((h=r(o).table)==null?void 0:h.status)!==r(x).FINISH,onClick:i[4]||(i[4]=T=>l.$emit("updateTableGameStatus",r(x).WAITING)),class:P(["hover:text-primary duration-300 transition",((b=r(o).table)==null?void 0:b.status)!==r(x).FINISH?"cursor-not-allowed opacity-50":""])},[p(u,{distance:"22"},{popper:d(()=>[O(" Wait For New Players ")]),default:d(()=>[ho]),_:1})],10,co)]}),_:1}),p(k,{justify:"center",items:"center",class:"hover:text-primary duration-300 transition",onClick:i[5]||(i[5]=h=>l.$emit("exitTable"))},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[O(" Leave Game All Players ")]),default:d(()=>[fo]),_:1})]),_:1})]}),_:1}),p(k,{class:"border-r h-full px-6",items:"center",gap:4},{default:d(()=>{var c,f,h,b,T,A,E,z,I,v;return[p(k,{justify:"center",items:"center",onClick:i[6]||(i[6]=m=>{var w,_;return((w=r(o).table)==null?void 0:w.status)===r(x).PLAYING||((_=r(o).table)==null?void 0:_.status)===r(x).GAME_MASTER_EDIT?l.$emit("setNextPlayer",!1):""}),class:P([((c=r(o).table)==null?void 0:c.status)===r(x).PLAYING||((f=r(o).table)==null?void 0:f.status)===r(x).GAME_MASTER_EDIT?"":"cursor-not-allowed opacity-50","hover:text-primary duration-300 transition"])},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[O(" Previous Player ")]),default:d(()=>[po]),_:1})]),_:1},8,["class"]),p(k,{justify:"center",items:"center",onClick:i[7]||(i[7]=m=>{var w,_;return((w=r(o).table)==null?void 0:w.status)===r(x).PLAYING||((_=r(o).table)==null?void 0:_.status)===r(x).GAME_MASTER_EDIT?l.$emit("setNextPlayer",!0):""}),class:P(["hover:text-primary duration-300 transition",((h=r(o).table)==null?void 0:h.status)===r(x).PLAYING||((b=r(o).table)==null?void 0:b.status)===r(x).GAME_MASTER_EDIT?"":"cursor-not-allowed opacity-50"])},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[O(" Next Player ")]),default:d(()=>[mo]),_:1})]),_:1},8,["class"]),p(k,{justify:"center",items:"center",class:P(["hover:text-primary duration-300 transition",((T=r(o).table)==null?void 0:T.status)===r(x).PLAYING||((A=r(o).table)==null?void 0:A.status)===r(x).PAUSE?"":"cursor-not-allowed opacity-50"]),onClick:i[8]||(i[8]=m=>{var w,_;return((w=r(o).table)==null?void 0:w.status)===r(x).PLAYING||((_=r(o).table)==null?void 0:_.status)===r(x).PAUSE?l.$emit("showAllCards"):""})},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[O(" Show all cards to players ")]),default:d(()=>[go]),_:1})]),_:1},8,["class"]),p(k,{justify:"center",items:"center",class:P(["hover:text-primary duration-300 transition",s()?"":"cursor-not-allowed opacity-50"]),onClick:i[9]||(i[9]=m=>s()?l.$emit("shuffleDeck"):"")},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[O(" Shuffle selected deck ")]),default:d(()=>[vo]),_:1})]),_:1},8,["class"]),p(k,{justify:"center",items:"center",class:P(["hover:text-primary duration-300 transition",(((E=r(o).table)==null?void 0:E.status)===r(x).PLAYING||((z=r(o).table)==null?void 0:z.status)===r(x).GAME_MASTER_EDIT)&&r(o).refUndoHistory.length>0?"":"cursor-not-allowed opacity-50"]),onClick:i[10]||(i[10]=m=>{var w,_;return(((w=r(o).table)==null?void 0:w.status)===r(x).PLAYING||((_=r(o).table)==null?void 0:_.status)===r(x).GAME_MASTER_EDIT)&&r(o).refUndoHistory.length>0?l.$emit("historyMovement",r(ea).UNDO):""})},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[O(" Undo Card Movement ")]),default:d(()=>[bo]),_:1})]),_:1},8,["class"]),p(k,{justify:"center",items:"center",class:P(["hover:text-primary duration-300 transition",(((I=r(o).table)==null?void 0:I.status)===r(x).PLAYING||((v=r(o).table)==null?void 0:v.status)===r(x).GAME_MASTER_EDIT)&&r(o).refRedoHistory.length>0?"":"cursor-not-allowed opacity-50"]),onClick:i[11]||(i[11]=m=>{var w,_;return(((w=r(o).table)==null?void 0:w.status)===r(x).PLAYING||((_=r(o).table)==null?void 0:_.status)===r(x).GAME_MASTER_EDIT)&&r(o).refRedoHistory.length>0?l.$emit("historyMovement",r(ea).REDO):""})},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[O(" Redo Card Movement ")]),default:d(()=>[wo]),_:1})]),_:1},8,["class"])]}),_:1}),p(k,{class:"border-r h-full px-6",items:"center",gap:4},{default:d(()=>{var c,f;return[p(k,{justify:"center",items:"center",onClick:i[12]||(i[12]=h=>l.$emit("openSettings",2)),class:"hover:text-primary duration-300 transition"},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[O(" Open User List ")]),default:d(()=>[_o]),_:1})]),_:1}),p(k,{justify:"center",items:"center",onClick:i[13]||(i[13]=h=>{var b,T;return((b=r(o).table)==null?void 0:b.status)===r(x).FINISH||((T=r(o).table)==null?void 0:T.status)===r(x).WAITING?"":l.$emit("openSettings",3)}),class:P([((c=r(o).table)==null?void 0:c.status)===r(x).FINISH||((f=r(o).table)==null?void 0:f.status)===r(x).WAITING?"cursor-not-allowed opacity-50":"","hover:text-primary duration-300 transition"])},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[O(" Edit Rank Table ")]),default:d(()=>[yo]),_:1})]),_:1},8,["class"])]}),_:1}),p(k,{justify:"center",items:"center",class:"px-8",onClick:i[14]||(i[14]=c=>t.value=!t.value)},{default:d(()=>[p(u,{distance:"18"},{popper:d(()=>[O(" Click to keep the menu bar open or close ")]),default:d(()=>[(g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#fff",viewBox:"0 0 16 16",class:P(["hover:fill-primary transition duration-300 h-8 w-8 focus:outline-none",t.value?"animate-spin fill-primary":""])},Co,2))]),_:1})]),_:1})]),_:1},8,["class"])}}});/*!
  * vue-draggable-next v2.1.0
  * (c) 2021 Anish George
  * @license MIT
  *//**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function na(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);e&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable})),t.push.apply(t,o)}return t}function ye(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?na(Object(t),!0).forEach(function(o){To(a,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):na(Object(t)).forEach(function(o){Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(t,o))})}return a}function ct(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ct=function(e){return typeof e}:ct=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ct(a)}function To(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function Ce(){return Ce=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},Ce.apply(this,arguments)}function Mo(a,e){if(a==null)return{};var t={},o=Object.keys(a),s,l;for(l=0;l<o.length;l++)s=o[l],!(e.indexOf(s)>=0)&&(t[s]=a[s]);return t}function So(a,e){if(a==null)return{};var t=Mo(a,e),o,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);for(s=0;s<l.length;s++)o=l[s],!(e.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,o)||(t[o]=a[o]))}return t}var Eo="1.14.0";function ke(a){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(a)}var $e=ke(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),tt=ke(/Edge/i),ra=ke(/firefox/i),Ze=ke(/safari/i)&&!ke(/chrome/i)&&!ke(/android/i),xa=ke(/iP(ad|od|hone)/i),Do=ke(/chrome/i)&&ke(/android/i),ka={capture:!1,passive:!1};function j(a,e,t){a.addEventListener(e,t,!$e&&ka)}function U(a,e,t){a.removeEventListener(e,t,!$e&&ka)}function bt(a,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),a)try{if(a.matches)return a.matches(e);if(a.msMatchesSelector)return a.msMatchesSelector(e);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(e)}catch{return!1}return!1}}function Ao(a){return a.host&&a!==document&&a.host.nodeType?a.host:a.parentNode}function we(a,e,t,o){if(a){t=t||document;do{if(e!=null&&(e[0]===">"?a.parentNode===t&&bt(a,e):bt(a,e))||o&&a===t)return a;if(a===t)break}while(a=Ao(a))}return null}var sa=/\s+/g;function he(a,e,t){if(a&&e)if(a.classList)a.classList[t?"add":"remove"](e);else{var o=(" "+a.className+" ").replace(sa," ").replace(" "+e+" "," ");a.className=(o+(t?" "+e:"")).replace(sa," ")}}function G(a,e,t){var o=a&&a.style;if(o){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(a,""):a.currentStyle&&(t=a.currentStyle),e===void 0?t:t[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=t+(typeof t=="string"?"":"px")}}function Be(a,e){var t="";if(typeof a=="string")t=a;else do{var o=G(a,"transform");o&&o!=="none"&&(t=o+" "+t)}while(!e&&(a=a.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(t)}function Ca(a,e,t){if(a){var o=a.getElementsByTagName(e),s=0,l=o.length;if(t)for(;s<l;s++)t(o[s],s);return o}return[]}function _e(){var a=document.scrollingElement;return a||document.documentElement}function oe(a,e,t,o,s){if(!(!a.getBoundingClientRect&&a!==window)){var l,i,u,c,f,h,b;if(a!==window&&a.parentNode&&a!==_e()?(l=a.getBoundingClientRect(),i=l.top,u=l.left,c=l.bottom,f=l.right,h=l.height,b=l.width):(i=0,u=0,c=window.innerHeight,f=window.innerWidth,h=window.innerHeight,b=window.innerWidth),(e||t)&&a!==window&&(s=s||a.parentNode,!$e))do if(s&&s.getBoundingClientRect&&(G(s,"transform")!=="none"||t&&G(s,"position")!=="static")){var T=s.getBoundingClientRect();i-=T.top+parseInt(G(s,"border-top-width")),u-=T.left+parseInt(G(s,"border-left-width")),c=i+l.height,f=u+l.width;break}while(s=s.parentNode);if(o&&a!==window){var A=Be(s||a),E=A&&A.a,z=A&&A.d;A&&(i/=z,u/=E,b/=E,h/=z,c=i+h,f=u+b)}return{top:i,left:u,bottom:c,right:f,width:b,height:h}}}function la(a,e,t){for(var o=Ee(a,!0),s=oe(a)[e];o;){var l=oe(o)[t],i=void 0;if(t==="top"||t==="left"?i=s>=l:i=s<=l,!i)return o;if(o===_e())break;o=Ee(o,!1)}return!1}function Ue(a,e,t,o){for(var s=0,l=0,i=a.children;l<i.length;){if(i[l].style.display!=="none"&&i[l]!==L.ghost&&(o||i[l]!==L.dragged)&&we(i[l],t.draggable,a,!1)){if(s===e)return i[l];s++}l++}return null}function Zt(a,e){for(var t=a.lastElementChild;t&&(t===L.ghost||G(t,"display")==="none"||e&&!bt(t,e));)t=t.previousElementSibling;return t||null}function ge(a,e){var t=0;if(!a||!a.parentNode)return-1;for(;a=a.previousElementSibling;)a.nodeName.toUpperCase()!=="TEMPLATE"&&a!==L.clone&&(!e||bt(a,e))&&t++;return t}function ia(a){var e=0,t=0,o=_e();if(a)do{var s=Be(a),l=s.a,i=s.d;e+=a.scrollLeft*l,t+=a.scrollTop*i}while(a!==o&&(a=a.parentNode));return[e,t]}function Io(a,e){for(var t in a)if(!!a.hasOwnProperty(t)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===a[t][o])return Number(t)}return-1}function Ee(a,e){if(!a||!a.getBoundingClientRect)return _e();var t=a,o=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var s=G(t);if(t.clientWidth<t.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return _e();if(o||e)return t;o=!0}}while(t=t.parentNode);return _e()}function zo(a,e){if(a&&e)for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t]);return a}function Mt(a,e){return Math.round(a.top)===Math.round(e.top)&&Math.round(a.left)===Math.round(e.left)&&Math.round(a.height)===Math.round(e.height)&&Math.round(a.width)===Math.round(e.width)}var We;function $a(a,e){return function(){if(!We){var t=arguments,o=this;t.length===1?a.call(o,t[0]):a.apply(o,t),We=setTimeout(function(){We=void 0},e)}}}function Po(){clearTimeout(We),We=void 0}function Ta(a,e,t){a.scrollLeft+=e,a.scrollTop+=t}function Ma(a){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(a).cloneNode(!0):t?t(a).clone(!0)[0]:a.cloneNode(!0)}var pe="Sortable"+new Date().getTime();function Oo(){var a=[],e;return{captureAnimationState:function(){if(a=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(s){if(!(G(s,"display")==="none"||s===L.ghost)){a.push({target:s,rect:oe(s)});var l=ye({},a[a.length-1].rect);if(s.thisAnimationDuration){var i=Be(s,!0);i&&(l.top-=i.f,l.left-=i.e)}s.fromRect=l}})}},addAnimationState:function(o){a.push(o)},removeAnimationState:function(o){a.splice(Io(a,{target:o}),1)},animateAll:function(o){var s=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var l=!1,i=0;a.forEach(function(u){var c=0,f=u.target,h=f.fromRect,b=oe(f),T=f.prevFromRect,A=f.prevToRect,E=u.rect,z=Be(f,!0);z&&(b.top-=z.f,b.left-=z.e),f.toRect=b,f.thisAnimationDuration&&Mt(T,b)&&!Mt(h,b)&&(E.top-b.top)/(E.left-b.left)===(h.top-b.top)/(h.left-b.left)&&(c=Ro(E,T,A,s.options)),Mt(b,h)||(f.prevFromRect=h,f.prevToRect=b,c||(c=s.options.animation),s.animate(f,E,b,c)),c&&(l=!0,i=Math.max(i,c),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},c),f.thisAnimationDuration=c)}),clearTimeout(e),l?e=setTimeout(function(){typeof o=="function"&&o()},i):typeof o=="function"&&o(),a=[]},animate:function(o,s,l,i){if(i){G(o,"transition",""),G(o,"transform","");var u=Be(this.el),c=u&&u.a,f=u&&u.d,h=(s.left-l.left)/(c||1),b=(s.top-l.top)/(f||1);o.animatingX=!!h,o.animatingY=!!b,G(o,"transform","translate3d("+h+"px,"+b+"px,0)"),this.forRepaintDummy=No(o),G(o,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),G(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){G(o,"transition",""),G(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},i)}}}}function No(a){return a.offsetWidth}function Ro(a,e,t,o){return Math.sqrt(Math.pow(e.top-a.top,2)+Math.pow(e.left-a.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*o.animation}var Re=[],St={initializeByDefault:!0},at={mount:function(e){for(var t in St)St.hasOwnProperty(t)&&!(t in e)&&(e[t]=St[t]);Re.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Re.push(e)},pluginEvent:function(e,t,o){var s=this;this.eventCanceled=!1,o.cancel=function(){s.eventCanceled=!0};var l=e+"Global";Re.forEach(function(i){!t[i.pluginName]||(t[i.pluginName][l]&&t[i.pluginName][l](ye({sortable:t},o)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](ye({sortable:t},o)))})},initializePlugins:function(e,t,o,s){Re.forEach(function(u){var c=u.pluginName;if(!(!e.options[c]&&!u.initializeByDefault)){var f=new u(e,t,e.options);f.sortable=e,f.options=e.options,e[c]=f,Ce(o,f.defaults)}});for(var l in e.options)if(!!e.options.hasOwnProperty(l)){var i=this.modifyOption(e,l,e.options[l]);typeof i<"u"&&(e.options[l]=i)}},getEventProperties:function(e,t){var o={};return Re.forEach(function(s){typeof s.eventProperties=="function"&&Ce(o,s.eventProperties.call(t[s.pluginName],e))}),o},modifyOption:function(e,t,o){var s;return Re.forEach(function(l){!e[l.pluginName]||l.optionListeners&&typeof l.optionListeners[t]=="function"&&(s=l.optionListeners[t].call(e[l.pluginName],o))}),s}};function Go(a){var e=a.sortable,t=a.rootEl,o=a.name,s=a.targetEl,l=a.cloneEl,i=a.toEl,u=a.fromEl,c=a.oldIndex,f=a.newIndex,h=a.oldDraggableIndex,b=a.newDraggableIndex,T=a.originalEvent,A=a.putSortable,E=a.extraEventProperties;if(e=e||t&&t[pe],!!e){var z,I=e.options,v="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!$e&&!tt?z=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(z=document.createEvent("Event"),z.initEvent(o,!0,!0)),z.to=i||t,z.from=u||t,z.item=s||t,z.clone=l,z.oldIndex=c,z.newIndex=f,z.oldDraggableIndex=h,z.newDraggableIndex=b,z.originalEvent=T,z.pullMode=A?A.lastPutMode:void 0;var m=ye(ye({},E),at.getEventProperties(o,e));for(var w in m)z[w]=m[w];t&&t.dispatchEvent(z),I[v]&&I[v].call(e,z)}}var Lo=["evt"],ue=function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.evt,l=So(o,Lo);at.pluginEvent.bind(L)(e,t,ye({dragEl:C,parentEl:J,ghostEl:V,rootEl:X,nextEl:Oe,lastDownEl:ht,cloneEl:K,cloneHidden:Se,dragStarted:je,putSortable:se,activeSortable:L.active,originalEvent:s,oldIndex:He,oldDraggableIndex:Xe,newIndex:fe,newDraggableIndex:Me,hideGhostForTarget:Aa,unhideGhostForTarget:Ia,cloneNowHidden:function(){Se=!0},cloneNowShown:function(){Se=!1},dispatchSortableEvent:function(u){de({sortable:t,name:u,originalEvent:s})}},l))};function de(a){Go(ye({putSortable:se,cloneEl:K,targetEl:C,rootEl:X,oldIndex:He,oldDraggableIndex:Xe,newIndex:fe,newDraggableIndex:Me},a))}var C,J,V,X,Oe,ht,K,Se,He,fe,Xe,Me,st,se,Ve=!1,wt=!1,_t=[],ze,be,Et,Dt,da,ua,je,Ge,qe,Je=!1,lt=!1,ft,ie,At=[],Lt=!1,yt=[],Ct=typeof document<"u",it=xa,ca=tt||$e?"cssFloat":"float",Vo=Ct&&!Do&&!xa&&"draggable"in document.createElement("div"),Sa=function(){if(!!Ct){if($e)return!1;var a=document.createElement("x");return a.style.cssText="pointer-events:auto",a.style.pointerEvents==="auto"}}(),Ea=function(e,t){var o=G(e),s=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),l=Ue(e,0,t),i=Ue(e,1,t),u=l&&G(l),c=i&&G(i),f=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+oe(l).width,h=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+oe(i).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&u.float&&u.float!=="none"){var b=u.float==="left"?"left":"right";return i&&(c.clear==="both"||c.clear===b)?"vertical":"horizontal"}return l&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||f>=s&&o[ca]==="none"||i&&o[ca]==="none"&&f+h>s)?"vertical":"horizontal"},Ho=function(e,t,o){var s=o?e.left:e.top,l=o?e.right:e.bottom,i=o?e.width:e.height,u=o?t.left:t.top,c=o?t.right:t.bottom,f=o?t.width:t.height;return s===u||l===c||s+i/2===u+f/2},Bo=function(e,t){var o;return _t.some(function(s){var l=s[pe].options.emptyInsertThreshold;if(!(!l||Zt(s))){var i=oe(s),u=e>=i.left-l&&e<=i.right+l,c=t>=i.top-l&&t<=i.bottom+l;if(u&&c)return o=s}}),o},Da=function(e){function t(l,i){return function(u,c,f,h){var b=u.options.group.name&&c.options.group.name&&u.options.group.name===c.options.group.name;if(l==null&&(i||b))return!0;if(l==null||l===!1)return!1;if(i&&l==="clone")return l;if(typeof l=="function")return t(l(u,c,f,h),i)(u,c,f,h);var T=(i?u:c).options.group.name;return l===!0||typeof l=="string"&&l===T||l.join&&l.indexOf(T)>-1}}var o={},s=e.group;(!s||ct(s)!="object")&&(s={name:s}),o.name=s.name,o.checkPull=t(s.pull,!0),o.checkPut=t(s.put),o.revertClone=s.revertClone,e.group=o},Aa=function(){!Sa&&V&&G(V,"display","none")},Ia=function(){!Sa&&V&&G(V,"display","")};Ct&&document.addEventListener("click",function(a){if(wt)return a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),wt=!1,!1},!0);var Pe=function(e){if(C){e=e.touches?e.touches[0]:e;var t=Bo(e.clientX,e.clientY);if(t){var o={};for(var s in e)e.hasOwnProperty(s)&&(o[s]=e[s]);o.target=o.rootEl=t,o.preventDefault=void 0,o.stopPropagation=void 0,t[pe]._onDragOver(o)}}},Uo=function(e){C&&C.parentNode[pe]._isOutsideThisEl(e.target)};function L(a,e){if(!(a&&a.nodeType&&a.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(a));this.el=a,this.options=e=Ce({},e),a[pe]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(a.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ea(a,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,u){i.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:L.supportPointer!==!1&&"PointerEvent"in window&&!Ze,emptyInsertThreshold:5};at.initializePlugins(this,a,t);for(var o in t)!(o in e)&&(e[o]=t[o]);Da(e);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=e.forceFallback?!1:Vo,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?j(a,"pointerdown",this._onTapStart):(j(a,"mousedown",this._onTapStart),j(a,"touchstart",this._onTapStart)),this.nativeDraggable&&(j(a,"dragover",this),j(a,"dragenter",this)),_t.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),Ce(this,Oo())}L.prototype={constructor:L,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Ge=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,C):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var t=this,o=this.el,s=this.options,l=s.preventOnFilter,i=e.type,u=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(u||e).target,f=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,h=s.filter;if(Jo(o),!C&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||s.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&Ze&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=we(c,s.draggable,o,!1),!(c&&c.animated)&&ht!==c)){if(He=ge(c),Xe=ge(c,s.draggable),typeof h=="function"){if(h.call(this,e,c,this)){de({sortable:t,rootEl:f,name:"filter",targetEl:c,toEl:o,fromEl:o}),ue("filter",t,{evt:e}),l&&e.cancelable&&e.preventDefault();return}}else if(h&&(h=h.split(",").some(function(b){if(b=we(f,b.trim(),o,!1),b)return de({sortable:t,rootEl:b,name:"filter",targetEl:c,fromEl:o,toEl:o}),ue("filter",t,{evt:e}),!0}),h)){l&&e.cancelable&&e.preventDefault();return}s.handle&&!we(f,s.handle,o,!1)||this._prepareDragStart(e,u,c)}}},_prepareDragStart:function(e,t,o){var s=this,l=s.el,i=s.options,u=l.ownerDocument,c;if(o&&!C&&o.parentNode===l){var f=oe(o);if(X=l,C=o,J=C.parentNode,Oe=C.nextSibling,ht=o,st=i.group,L.dragged=C,ze={target:C,clientX:(t||e).clientX,clientY:(t||e).clientY},da=ze.clientX-f.left,ua=ze.clientY-f.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,C.style["will-change"]="all",c=function(){if(ue("delayEnded",s,{evt:e}),L.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!ra&&s.nativeDraggable&&(C.draggable=!0),s._triggerDragStart(e,t),de({sortable:s,name:"choose",originalEvent:e}),he(C,i.chosenClass,!0)},i.ignore.split(",").forEach(function(h){Ca(C,h.trim(),It)}),j(u,"dragover",Pe),j(u,"mousemove",Pe),j(u,"touchmove",Pe),j(u,"mouseup",s._onDrop),j(u,"touchend",s._onDrop),j(u,"touchcancel",s._onDrop),ra&&this.nativeDraggable&&(this.options.touchStartThreshold=4,C.draggable=!0),ue("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(tt||$e))){if(L.eventCanceled){this._onDrop();return}j(u,"mouseup",s._disableDelayedDrag),j(u,"touchend",s._disableDelayedDrag),j(u,"touchcancel",s._disableDelayedDrag),j(u,"mousemove",s._delayedDragTouchMoveHandler),j(u,"touchmove",s._delayedDragTouchMoveHandler),i.supportPointer&&j(u,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(c,i.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){C&&It(C),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;U(e,"mouseup",this._disableDelayedDrag),U(e,"touchend",this._disableDelayedDrag),U(e,"touchcancel",this._disableDelayedDrag),U(e,"mousemove",this._delayedDragTouchMoveHandler),U(e,"touchmove",this._delayedDragTouchMoveHandler),U(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?j(document,"pointermove",this._onTouchMove):t?j(document,"touchmove",this._onTouchMove):j(document,"mousemove",this._onTouchMove):(j(C,"dragend",this),j(X,"dragstart",this._onDragStart));try{document.selection?pt(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Ve=!1,X&&C){ue("dragStarted",this,{evt:t}),this.nativeDraggable&&j(document,"dragover",Uo);var o=this.options;!e&&he(C,o.dragClass,!1),he(C,o.ghostClass,!0),L.active=this,e&&this._appendGhost(),de({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(be){this._lastX=be.clientX,this._lastY=be.clientY,Aa();for(var e=document.elementFromPoint(be.clientX,be.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(be.clientX,be.clientY),e!==t);)t=e;if(C.parentNode[pe]._isOutsideThisEl(e),t)do{if(t[pe]){var o=void 0;if(o=t[pe]._onDragOver({clientX:be.clientX,clientY:be.clientY,target:e,rootEl:t}),o&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Ia()}},_onTouchMove:function(e){if(ze){var t=this.options,o=t.fallbackTolerance,s=t.fallbackOffset,l=e.touches?e.touches[0]:e,i=V&&Be(V,!0),u=V&&i&&i.a,c=V&&i&&i.d,f=it&&ie&&ia(ie),h=(l.clientX-ze.clientX+s.x)/(u||1)+(f?f[0]-At[0]:0)/(u||1),b=(l.clientY-ze.clientY+s.y)/(c||1)+(f?f[1]-At[1]:0)/(c||1);if(!L.active&&!Ve){if(o&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(V){i?(i.e+=h-(Et||0),i.f+=b-(Dt||0)):i={a:1,b:0,c:0,d:1,e:h,f:b};var T="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");G(V,"webkitTransform",T),G(V,"mozTransform",T),G(V,"msTransform",T),G(V,"transform",T),Et=h,Dt=b,be=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!V){var e=this.options.fallbackOnBody?document.body:X,t=oe(C,!0,it,!0,e),o=this.options;if(it){for(ie=e;G(ie,"position")==="static"&&G(ie,"transform")==="none"&&ie!==document;)ie=ie.parentNode;ie!==document.body&&ie!==document.documentElement?(ie===document&&(ie=_e()),t.top+=ie.scrollTop,t.left+=ie.scrollLeft):ie=_e(),At=ia(ie)}V=C.cloneNode(!0),he(V,o.ghostClass,!1),he(V,o.fallbackClass,!0),he(V,o.dragClass,!0),G(V,"transition",""),G(V,"transform",""),G(V,"box-sizing","border-box"),G(V,"margin",0),G(V,"top",t.top),G(V,"left",t.left),G(V,"width",t.width),G(V,"height",t.height),G(V,"opacity","0.8"),G(V,"position",it?"absolute":"fixed"),G(V,"zIndex","100000"),G(V,"pointerEvents","none"),L.ghost=V,e.appendChild(V),G(V,"transform-origin",da/parseInt(V.style.width)*100+"% "+ua/parseInt(V.style.height)*100+"%")}},_onDragStart:function(e,t){var o=this,s=e.dataTransfer,l=o.options;if(ue("dragStart",this,{evt:e}),L.eventCanceled){this._onDrop();return}ue("setupClone",this),L.eventCanceled||(K=Ma(C),K.draggable=!1,K.style["will-change"]="",this._hideClone(),he(K,this.options.chosenClass,!1),L.clone=K),o.cloneId=pt(function(){ue("clone",o),!L.eventCanceled&&(o.options.removeCloneOnHide||X.insertBefore(K,C),o._hideClone(),de({sortable:o,name:"clone"}))}),!t&&he(C,l.dragClass,!0),t?(wt=!0,o._loopId=setInterval(o._emulateDragOver,50)):(U(document,"mouseup",o._onDrop),U(document,"touchend",o._onDrop),U(document,"touchcancel",o._onDrop),s&&(s.effectAllowed="move",l.setData&&l.setData.call(o,s,C)),j(document,"drop",o),G(C,"transform","translateZ(0)")),Ve=!0,o._dragStartId=pt(o._dragStarted.bind(o,t,e)),j(document,"selectstart",o),je=!0,Ze&&G(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,o=e.target,s,l,i,u=this.options,c=u.group,f=L.active,h=st===c,b=u.sort,T=se||f,A,E=this,z=!1;if(Lt)return;function I(Ie,ot){ue(Ie,E,ye({evt:e,isOwner:h,axis:A?"vertical":"horizontal",revert:i,dragRect:s,targetRect:l,canSort:b,fromSortable:T,target:o,completed:m,onMove:function(Jt,Na){return dt(X,t,C,s,Jt,oe(Jt),e,Na)},changed:w},ot))}function v(){I("dragOverAnimationCapture"),E.captureAnimationState(),E!==T&&T.captureAnimationState()}function m(Ie){return I("dragOverCompleted",{insertion:Ie}),Ie&&(h?f._hideClone():f._showClone(E),E!==T&&(he(C,se?se.options.ghostClass:f.options.ghostClass,!1),he(C,u.ghostClass,!0)),se!==E&&E!==L.active?se=E:E===L.active&&se&&(se=null),T===E&&(E._ignoreWhileAnimating=o),E.animateAll(function(){I("dragOverAnimationComplete"),E._ignoreWhileAnimating=null}),E!==T&&(T.animateAll(),T._ignoreWhileAnimating=null)),(o===C&&!C.animated||o===t&&!o.animated)&&(Ge=null),!u.dragoverBubble&&!e.rootEl&&o!==document&&(C.parentNode[pe]._isOutsideThisEl(e.target),!Ie&&Pe(e)),!u.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),z=!0}function w(){fe=ge(C),Me=ge(C,u.draggable),de({sortable:E,name:"change",toEl:t,newIndex:fe,newDraggableIndex:Me,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=we(o,u.draggable,t,!0),I("dragOver"),L.eventCanceled)return z;if(C.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||E._ignoreWhileAnimating===o)return m(!1);if(wt=!1,f&&!u.disabled&&(h?b||(i=J!==X):se===this||(this.lastPutMode=st.checkPull(this,f,C,e))&&c.checkPut(this,f,C,e))){if(A=this._getDirection(e,o)==="vertical",s=oe(C),I("dragOverValid"),L.eventCanceled)return z;if(i)return J=X,v(),this._hideClone(),I("revert"),L.eventCanceled||(Oe?X.insertBefore(C,Oe):X.appendChild(C)),m(!0);var _=Zt(t,u.draggable);if(!_||Zo(e,A,this)&&!_.animated){if(_===C)return m(!1);if(_&&t===e.target&&(o=_),o&&(l=oe(o)),dt(X,t,C,s,o,l,e,!!o)!==!1)return v(),t.appendChild(C),J=t,w(),m(!0)}else if(_&&Yo(e,A,this)){var $=Ue(t,0,u,!0);if($===C)return m(!1);if(o=$,l=oe(o),dt(X,t,C,s,o,l,e,!1)!==!1)return v(),t.insertBefore(C,$),J=t,w(),m(!0)}else if(o.parentNode===t){l=oe(o);var M=0,D,S=C.parentNode!==t,N=!Ho(C.animated&&C.toRect||s,o.animated&&o.toRect||l,A),F=A?"top":"left",ae=la(o,"top","top")||la(C,"top","top"),Q=ae?ae.scrollTop:void 0;Ge!==o&&(D=l[F],Je=!1,lt=!N&&u.invertSwap||S),M=Wo(e,o,l,A,N?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,lt,Ge===o);var le;if(M!==0){var me=ge(C);do me-=M,le=J.children[me];while(le&&(G(le,"display")==="none"||le===V))}if(M===0||le===o)return m(!1);Ge=o,qe=M;var Te=o.nextElementSibling,ce=!1;ce=M===1;var Ne=dt(X,t,C,s,o,l,e,ce);if(Ne!==!1)return(Ne===1||Ne===-1)&&(ce=Ne===1),Lt=!0,setTimeout(Fo,30),v(),ce&&!Te?t.appendChild(C):o.parentNode.insertBefore(C,ce?Te:o),ae&&Ta(ae,0,Q-ae.scrollTop),J=C.parentNode,D!==void 0&&!lt&&(ft=Math.abs(D-oe(o)[F])),w(),m(!0)}if(t.contains(C))return m(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){U(document,"mousemove",this._onTouchMove),U(document,"touchmove",this._onTouchMove),U(document,"pointermove",this._onTouchMove),U(document,"dragover",Pe),U(document,"mousemove",Pe),U(document,"touchmove",Pe)},_offUpEvents:function(){var e=this.el.ownerDocument;U(e,"mouseup",this._onDrop),U(e,"touchend",this._onDrop),U(e,"pointerup",this._onDrop),U(e,"touchcancel",this._onDrop),U(document,"selectstart",this)},_onDrop:function(e){var t=this.el,o=this.options;if(fe=ge(C),Me=ge(C,o.draggable),ue("drop",this,{evt:e}),J=C&&C.parentNode,fe=ge(C),Me=ge(C,o.draggable),L.eventCanceled){this._nulling();return}Ve=!1,lt=!1,Je=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Vt(this.cloneId),Vt(this._dragStartId),this.nativeDraggable&&(U(document,"drop",this),U(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ze&&G(document.body,"user-select",""),G(C,"transform",""),e&&(je&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),V&&V.parentNode&&V.parentNode.removeChild(V),(X===J||se&&se.lastPutMode!=="clone")&&K&&K.parentNode&&K.parentNode.removeChild(K),C&&(this.nativeDraggable&&U(C,"dragend",this),It(C),C.style["will-change"]="",je&&!Ve&&he(C,se?se.options.ghostClass:this.options.ghostClass,!1),he(C,this.options.chosenClass,!1),de({sortable:this,name:"unchoose",toEl:J,newIndex:null,newDraggableIndex:null,originalEvent:e}),X!==J?(fe>=0&&(de({rootEl:J,name:"add",toEl:J,fromEl:X,originalEvent:e}),de({sortable:this,name:"remove",toEl:J,originalEvent:e}),de({rootEl:J,name:"sort",toEl:J,fromEl:X,originalEvent:e}),de({sortable:this,name:"sort",toEl:J,originalEvent:e})),se&&se.save()):fe!==He&&fe>=0&&(de({sortable:this,name:"update",toEl:J,originalEvent:e}),de({sortable:this,name:"sort",toEl:J,originalEvent:e})),L.active&&((fe==null||fe===-1)&&(fe=He,Me=Xe),de({sortable:this,name:"end",toEl:J,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ue("nulling",this),X=C=J=V=Oe=K=ht=Se=ze=be=je=fe=Me=He=Xe=Ge=qe=se=st=L.dragged=L.ghost=L.clone=L.active=null,yt.forEach(function(e){e.checked=!0}),yt.length=Et=Dt=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":C&&(this._onDragOver(e),jo(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,o=this.el.children,s=0,l=o.length,i=this.options;s<l;s++)t=o[s],we(t,i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||qo(t));return e},sort:function(e,t){var o={},s=this.el;this.toArray().forEach(function(l,i){var u=s.children[i];we(u,this.options.draggable,s,!1)&&(o[l]=u)},this),t&&this.captureAnimationState(),e.forEach(function(l){o[l]&&(s.removeChild(o[l]),s.appendChild(o[l]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return we(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var o=this.options;if(t===void 0)return o[e];var s=at.modifyOption(this,e,t);typeof s<"u"?o[e]=s:o[e]=t,e==="group"&&Da(o)},destroy:function(){ue("destroy",this);var e=this.el;e[pe]=null,U(e,"mousedown",this._onTapStart),U(e,"touchstart",this._onTapStart),U(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(U(e,"dragover",this),U(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),_t.splice(_t.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Se){if(ue("hideClone",this),L.eventCanceled)return;G(K,"display","none"),this.options.removeCloneOnHide&&K.parentNode&&K.parentNode.removeChild(K),Se=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Se){if(ue("showClone",this),L.eventCanceled)return;C.parentNode==X&&!this.options.group.revertClone?X.insertBefore(K,C):Oe?X.insertBefore(K,Oe):X.appendChild(K),this.options.group.revertClone&&this.animate(C,K),G(K,"display",""),Se=!1}}};function jo(a){a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.cancelable&&a.preventDefault()}function dt(a,e,t,o,s,l,i,u){var c,f=a[pe],h=f.options.onMove,b;return window.CustomEvent&&!$e&&!tt?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=a,c.dragged=t,c.draggedRect=o,c.related=s||e,c.relatedRect=l||oe(e),c.willInsertAfter=u,c.originalEvent=i,a.dispatchEvent(c),h&&(b=h.call(f,c,i)),b}function It(a){a.draggable=!1}function Fo(){Lt=!1}function Yo(a,e,t){var o=oe(Ue(t.el,0,t.options,!0)),s=10;return e?a.clientX<o.left-s||a.clientY<o.top&&a.clientX<o.right:a.clientY<o.top-s||a.clientY<o.bottom&&a.clientX<o.left}function Zo(a,e,t){var o=oe(Zt(t.el,t.options.draggable)),s=10;return e?a.clientX>o.right+s||a.clientX<=o.right&&a.clientY>o.bottom&&a.clientX>=o.left:a.clientX>o.right&&a.clientY>o.top||a.clientX<=o.right&&a.clientY>o.bottom+s}function Wo(a,e,t,o,s,l,i,u){var c=o?a.clientY:a.clientX,f=o?t.height:t.width,h=o?t.top:t.left,b=o?t.bottom:t.right,T=!1;if(!i){if(u&&ft<f*s){if(!Je&&(qe===1?c>h+f*l/2:c<b-f*l/2)&&(Je=!0),Je)T=!0;else if(qe===1?c<h+ft:c>b-ft)return-qe}else if(c>h+f*(1-s)/2&&c<b-f*(1-s)/2)return Xo(e)}return T=T||i,T&&(c<h+f*l/2||c>b-f*l/2)?c>h+f/2?1:-1:0}function Xo(a){return ge(C)<ge(a)?1:-1}function qo(a){for(var e=a.tagName+a.className+a.src+a.href+a.textContent,t=e.length,o=0;t--;)o+=e.charCodeAt(t);return o.toString(36)}function Jo(a){yt.length=0;for(var e=a.getElementsByTagName("input"),t=e.length;t--;){var o=e[t];o.checked&&yt.push(o)}}function pt(a){return setTimeout(a,0)}function Vt(a){return clearTimeout(a)}Ct&&j(document,"touchmove",function(a){(L.active||Ve)&&a.cancelable&&a.preventDefault()});L.utils={on:j,off:U,css:G,find:Ca,is:function(e,t){return!!we(e,t,e,!1)},extend:zo,throttle:$a,closest:we,toggleClass:he,clone:Ma,index:ge,nextTick:pt,cancelNextTick:Vt,detectDirection:Ea,getChild:Ue};L.get=function(a){return a[pe]};L.mount=function(){for(var a=arguments.length,e=new Array(a),t=0;t<a;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(L.utils=ye(ye({},L.utils),o.utils)),at.mount(o)})};L.create=function(a,e){return new L(a,e)};L.version=Eo;var ee=[],Fe,Ht,Bt=!1,zt,Pt,xt,Ye;function Ko(){function a(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return a.prototype={dragStarted:function(t){var o=t.originalEvent;this.sortable.nativeDraggable?j(document,"dragover",this._handleAutoScroll):this.options.supportPointer?j(document,"pointermove",this._handleFallbackAutoScroll):o.touches?j(document,"touchmove",this._handleFallbackAutoScroll):j(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var o=t.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?U(document,"dragover",this._handleAutoScroll):(U(document,"pointermove",this._handleFallbackAutoScroll),U(document,"touchmove",this._handleFallbackAutoScroll),U(document,"mousemove",this._handleFallbackAutoScroll)),ha(),mt(),Po()},nulling:function(){xt=Ht=Fe=Bt=Ye=zt=Pt=null,ee.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,o){var s=this,l=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,u=document.elementFromPoint(l,i);if(xt=t,o||this.options.forceAutoScrollFallback||tt||$e||Ze){Ot(t,this.options,u,o);var c=Ee(u,!0);Bt&&(!Ye||l!==zt||i!==Pt)&&(Ye&&ha(),Ye=setInterval(function(){var f=Ee(document.elementFromPoint(l,i),!0);f!==c&&(c=f,mt()),Ot(t,s.options,f,o)},10),zt=l,Pt=i)}else{if(!this.options.bubbleScroll||Ee(u,!0)===_e()){mt();return}Ot(t,this.options,Ee(u,!1),!1)}}},Ce(a,{pluginName:"scroll",initializeByDefault:!0})}function mt(){ee.forEach(function(a){clearInterval(a.pid)}),ee=[]}function ha(){clearInterval(Ye)}var Ot=$a(function(a,e,t,o){if(!!e.scroll){var s=(a.touches?a.touches[0]:a).clientX,l=(a.touches?a.touches[0]:a).clientY,i=e.scrollSensitivity,u=e.scrollSpeed,c=_e(),f=!1,h;Ht!==t&&(Ht=t,mt(),Fe=e.scroll,h=e.scrollFn,Fe===!0&&(Fe=Ee(t,!0)));var b=0,T=Fe;do{var A=T,E=oe(A),z=E.top,I=E.bottom,v=E.left,m=E.right,w=E.width,_=E.height,$=void 0,M=void 0,D=A.scrollWidth,S=A.scrollHeight,N=G(A),F=A.scrollLeft,ae=A.scrollTop;A===c?($=w<D&&(N.overflowX==="auto"||N.overflowX==="scroll"||N.overflowX==="visible"),M=_<S&&(N.overflowY==="auto"||N.overflowY==="scroll"||N.overflowY==="visible")):($=w<D&&(N.overflowX==="auto"||N.overflowX==="scroll"),M=_<S&&(N.overflowY==="auto"||N.overflowY==="scroll"));var Q=$&&(Math.abs(m-s)<=i&&F+w<D)-(Math.abs(v-s)<=i&&!!F),le=M&&(Math.abs(I-l)<=i&&ae+_<S)-(Math.abs(z-l)<=i&&!!ae);if(!ee[b])for(var me=0;me<=b;me++)ee[me]||(ee[me]={});(ee[b].vx!=Q||ee[b].vy!=le||ee[b].el!==A)&&(ee[b].el=A,ee[b].vx=Q,ee[b].vy=le,clearInterval(ee[b].pid),(Q!=0||le!=0)&&(f=!0,ee[b].pid=setInterval(function(){o&&this.layer===0&&L.active._onTouchMove(xt);var Te=ee[this.layer].vy?ee[this.layer].vy*u:0,ce=ee[this.layer].vx?ee[this.layer].vx*u:0;typeof h=="function"&&h.call(L.dragged.parentNode[pe],ce,Te,a,xt,ee[this.layer].el)!=="continue"||Ta(ee[this.layer].el,ce,Te)}.bind({layer:b}),24))),b++}while(e.bubbleScroll&&T!==c&&(T=Ee(T,!1)));Bt=f}},30),za=function(e){var t=e.originalEvent,o=e.putSortable,s=e.dragEl,l=e.activeSortable,i=e.dispatchSortableEvent,u=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(!!t){var f=o||l;u();var h=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,b=document.elementFromPoint(h.clientX,h.clientY);c(),f&&!f.el.contains(b)&&(i("spill"),this.onSpill({dragEl:s,putSortable:o}))}};function Wt(){}Wt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var s=Ue(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(t,s):this.sortable.el.appendChild(t),this.sortable.animateAll(),o&&o.animateAll()},drop:za};Ce(Wt,{pluginName:"revertOnSpill"});function Xt(){}Xt.prototype={onSpill:function(e){var t=e.dragEl,o=e.putSortable,s=o||this.sortable;s.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),s.animateAll()},drop:za};Ce(Xt,{pluginName:"removeOnSpill"});L.mount(new Ko);L.mount(Xt,Wt);function Qo(){return typeof window<"u"?window.console:global.console}const en=Qo();function tn(a){const e=Object.create(null);return function(o){return e[o]||(e[o]=a(o))}}const an=/-(\w)/g,fa=tn(a=>a.replace(an,(e,t)=>t?t.toUpperCase():""));function Nt(a){a.parentElement!==null&&a.parentElement.removeChild(a)}function pa(a,e,t){const o=t===0?a.children[0]:a.children[t-1].nextSibling;a.insertBefore(e,o)}function on(a,e){return Object.values(a).indexOf(e)}function nn(a,e,t,o){if(!a)return[];const s=Object.values(a),l=e.length-o;return[...e].map((u,c)=>c>=l?s.length:s.indexOf(u))}function Pa(a,e){this.$nextTick(()=>this.$emit(a.toLowerCase(),e))}function rn(a){return e=>{this.realList!==null&&this["onDrag"+a](e),Pa.call(this,a,e)}}function sn(a){return["transition-group","TransitionGroup"].includes(a)}function ln(a){if(!a||a.length!==1)return!1;const[{type:e}]=a;return e?sn(e.name):!1}function dn(a,e){return e?{...e.props,...e.attrs}:a}const Ut=["Start","Add","Remove","Update","End"],jt=["Choose","Unchoose","Sort","Filter","Clone"],un=["Move",...Ut,...jt].map(a=>"on"+a);let Rt=null;const cn={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:a=>a},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},hn=te({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...Ut.map(a=>a.toLowerCase()),...jt.map(a=>a.toLowerCase())],props:cn,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const a=this.$slots.default?this.$slots.default():null,e=dn(this.$attrs,this.componentData);return a?(this.transitionMode=ln(a),Kt(this.getTag(),e,a)):Kt(this.getTag(),e,[])},created(){this.list!==null&&this.modelValue!==null&&en.error("list props are mutually exclusive! Please set one.")},mounted(){const a={};Ut.forEach(s=>{a["on"+s]=rn.call(this,s)}),jt.forEach(s=>{a["on"+s]=Pa.bind(this,s)});const e=Object.keys(this.$attrs).reduce((s,l)=>(s[fa(l)]=this.$attrs[l],s),{}),t=Object.assign({},e,a,{onMove:(s,l)=>this.onDragMove(s,l)});!("draggable"in t)&&(t.draggable=">*");const o=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new L(o,t),o.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch{}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(a){this.updateOptions(a)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?Ke(this.component):this.tag},updateOptions(a){for(var e in a){const t=fa(e);un.indexOf(t)===-1&&this._sortable.option(t,a[e])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=nn(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(a){const e=on(this.getChildrenNodes()||[],a);if(e===-1)return null;const t=this.realList[e];return{index:e,element:t}},emitChanges(a){this.$nextTick(()=>{this.$emit("change",a)})},alterList(a){if(this.list){a(this.list);return}const e=[...this.modelValue];a(e),this.$emit("update:modelValue",e)},spliceList(){const a=e=>e.splice(...arguments);this.alterList(a)},updatePosition(a,e){const t=o=>o.splice(e,0,o.splice(a,1)[0]);this.alterList(t)},getVmIndex(a){const e=this.visibleIndexes,t=e.length;return a>t-1?t:e[a]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(a){if(!this.noTransitionOnDrag||!this.transitionMode)return;var e=this.getChildrenNodes();e[a].data=null;const t=this.getComponent();t.children=[],t.kept=void 0},onDragStart(a){this.context=this.getUnderlyingVm(a.item),this.context&&(a.item._underlying_vm_=this.clone(this.context.element),Rt=a.item)},onDragAdd(a){const e=a.item._underlying_vm_;if(e===void 0)return;Nt(a.item);const t=this.getVmIndex(a.newIndex);this.spliceList(t,0,e),this.computeIndexes();const o={element:e,newIndex:t};this.emitChanges({added:o})},onDragRemove(a){if(pa(this.$el,a.item,a.oldIndex),a.pullMode==="clone"){Nt(a.clone);return}if(!this.context)return;const e=this.context.index;this.spliceList(e,1);const t={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:t})},onDragUpdate(a){Nt(a.item),pa(a.from,a.item,a.oldIndex);const e=this.context.index,t=this.getVmIndex(a.newIndex);this.updatePosition(e,t);const o={element:this.context.element,oldIndex:e,newIndex:t};this.emitChanges({moved:o})},updateProperty(a,e){a.hasOwnProperty(e)&&(a[e]+=this.headerOffset)},onDragMove(a,e){const t=this.move;if(!t||!this.realList)return!0;const o=this.getRelatedContextFromMoveEvent(a),s=this.context,l=this.computeFutureIndex(o,a);Object.assign(s,{futureIndex:l});const i=Object.assign({},a,{relatedContext:o,draggedContext:s});return t(i,e)},onDragEnd(){this.computeIndexes(),Rt=null},getTrargetedComponent(a){return a.__draggable_component__},getRelatedContextFromMoveEvent({to:a,related:e}){const t=this.getTrargetedComponent(a);if(!t)return{component:t};const o=t.realList,s={list:o,component:t};if(a!==e&&o&&t.getUnderlyingVm){const l=t.getUnderlyingVm(e);if(l)return Object.assign(l,s)}return s},computeFutureIndex(a,e){const t=[...e.to.children].filter(i=>i.style.display!=="none");if(t.length===0)return 0;const o=t.indexOf(e.related),s=a.component.getVmIndex(o);return t.indexOf(Rt)!==-1||!e.willInsertAfter?s:s+1}}});var De=(a=>(a.POINTS="points",a.TITLE="title",a))(De||{});const ut=ma(),qt=ga("RankStore",{state:()=>({tableHeaders:["Round"],rankPoints:[],tableUsers:[],tableId:167,room:"",form:{newPoints:[{points:0,row:5,table_user:127,type:De.POINTS}],header:{title:"New Title",row:5,type:De.TITLE},showStoreForm:!1},testTableUsers:[3124,3125,3126,3127],editRow:null}),getters:{nextRow:a=>a.rankPoints.length},actions:{_fetchRankPoints(){re.emit("getRankTable",{table_id:this.$state.tableId},a=>{this.$state.rankPoints=a})},_store(){const a=[this.$state.form.header,...this.$state.form.newPoints];re.emit("storeRankRow",{data:a,room:this.$state.room,table_id:this.$state.tableId,row:this.nextRow},e=>{e.status===200?this.$state.form.showStoreForm=!1:ut.error("Something went wrong")})},_update(a){const e=this.$state.rankPoints.findIndex(o=>o.some(s=>s.row===a)),t=this.$state.rankPoints[e];re.emit("updateRankRow",{data:t,room:this.$state.room,table_id:this.$state.tableId,row:a},o=>{o.status===200?this.$state.editRow=null:ut.error("Something went wrong")})},_delete(a){const t=this.$state.rankPoints[a][0].row;re.emit("deleteRankRow",{room:this.$state.room,table_id:this.$state.tableId,row:t},o=>{o.status===200?ut.success("Row deleted successfully"):ut.error("Something went wrong")})},addNewPoints(){this.$state.form.newPoints=[];const a=this.nextRow;this.$state.tableId&&(this.$state.form.header={title:"Round "+a.toString(),row:a,type:De.TITLE},this.$state.tableUsers.forEach(e=>{this.$state.form.newPoints.push({points:0,row:a,table_user:e.id,type:De.POINTS})})),this.$state.form.showStoreForm=!0},addTableUsers(a){this.$state.tableUsers=a.sort((e,t)=>e.turn-t.turn),this.$state.tableHeaders=["Round"],this.$state.tableUsers.forEach(e=>{e.user.username&&this.$state.tableHeaders.push(e.user.username)}),this._fetchRankPoints()}}}),fn={key:0},pn=n("div",{class:"text-2xl underline underline-offset-4 w-full"}," Rank Table ",-1),mn={key:0},gn={key:1},vn=["onClick"],bn=["onClick"],wn=["onClick"],_n={key:1},yn=n("div",{class:"text-2xl underline underline-offset-4 w-full"}," Rank Table ",-1),xn=n("div",{class:"bg-red-500 p-4 my-4 rounded italic"}," The rank table is available when the game start ",-1),kn=[yn,xn],Cn=te({__name:"RankTable",setup(a){const e=qt();return(t,o)=>r(e).tableHeaders.length>1?(g(),y("div",fn,[p(k,{justify:"between"},{default:d(()=>[pn,p(oa,{title:"Add Points",onClick:o[0]||(o[0]=s=>r(e).addNewPoints()),disable:r(e).form.showStoreForm},null,8,["disable"])]),_:1}),r(e).rankPoints?(g(),R(ya,{key:0,"table-headers":r(e).tableHeaders,class:"border border-gray-700 rounded-lg overflow-y-auto",actions:!0},{default:d(()=>[(g(!0),y(Z,null,q(r(e).rankPoints,(s,l)=>(g(),R(Gt,{key:`rankRow-${s}`},{default:d(()=>[(g(!0),y(Z,null,q(s,i=>(g(),R(Le,{key:i.id},{default:d(()=>{var u;return[l===r(e).editRow?(g(),y("div",mn,[i.title&&i.type===r(De).TITLE?(g(),R(rt,{key:0,input:i.title,onChange:c=>i.title=c,"dark-theme":!0},null,8,["input","onChange"])):(g(),R(rt,{key:1,input:(u=i.points)!=null?u:0,type:"number",onChange:c=>i.points=c,"dark-theme":!0},null,8,["input","onChange"]))])):(g(),y("div",gn,Y(i.type===r(De).TITLE?i.title:i.points),1))]}),_:2},1024))),128)),p(Le,null,{default:d(()=>[l===r(e).editRow?(g(),R(k,{key:0},{default:d(()=>[n("div",{class:"text-blue-500 cursor-pointer",onClick:i=>r(e)._update(l)},"Update",8,vn)]),_:2},1024)):(g(),R(k,{key:1,gap:4},{default:d(()=>[n("div",{class:"text-blue-500 cursor-pointer",onClick:i=>r(e).editRow=l},"Edit",8,bn),n("div",{class:"text-red-500 cursor-pointer",onClick:i=>r(e)._delete(l)},"Delete",8,wn)]),_:2},1024))]),_:2},1024)]),_:2},1024))),128)),r(e).form.showStoreForm?(g(),R(Gt,{key:0,class:"bg-gray-700"},{default:d(()=>[p(Le,null,{default:d(()=>[p(rt,{input:r(e).form.header.title,onChange:o[1]||(o[1]=s=>r(e).form.header.title=s),placeholder:"Row title e.g. Round 1","dark-theme":!0},null,8,["input"])]),_:1}),(g(!0),y(Z,null,q(r(e).form.newPoints,s=>(g(),R(Le,{key:`new-item-${s.table_user}`},{default:d(()=>[p(rt,{input:s.points,type:"number","dark-theme":!0,onChange:l=>s.points=l,placeholder:"Points"},null,8,["input","onChange"])]),_:2},1024))),128)),p(Le,{class:"text-red-500 cursor-pointer",onClick:o[2]||(o[2]=s=>r(e).form.showStoreForm=!1)},{default:d(()=>[O("Cancel ")]),_:1})]),_:1})):H("",!0)]),_:1},8,["table-headers"])):H("",!0),p(k,{justify:"center",class:"mt-8",gap:4},{default:d(()=>[p(oa,{title:"Save Changes",disable:!r(e).form.showStoreForm,onClick:o[3]||(o[3]=s=>r(e)._store())},null,8,["disable"])]),_:1})])):(g(),y("div",_n,kn))}}),ne=a=>(La("data-v-3df5231c"),a=a(),Va(),a),$n={key:0,class:"bg-dark bg-opacity-90 fixed top-0 left-0 w-full h-full flex justify-center items-center z-[2147483647]"},Tn=ne(()=>n("div",{class:"p-4 text-xl text-white"}," Game Master Dashboard ",-1)),Mn=["onClick"],Sn={class:"container my-10"},En={key:0},Dn=ne(()=>n("div",null," Actions ",-1)),An={class:"bg-dark-smooth p-4"},In=ne(()=>n("div",{class:"text-2xl text-white mb-4"},"Game Status",-1)),zn=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"})],-1)),Pn=["disable"],On=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.25 5C5.56 5 5 5.56 5 6.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C7.5 5.56 6.94 5 6.25 5zm3.5 0c-.69 0-1.25.56-1.25 1.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C11 5.56 10.44 5 9.75 5z"})],-1)),Nn=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.5 5A1.5 1.5 0 0 0 5 6.5v3A1.5 1.5 0 0 0 6.5 11h3A1.5 1.5 0 0 0 11 9.5v-3A1.5 1.5 0 0 0 9.5 5h-3z"})],-1)),Rn=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[n("path",{d:"M1.5 15a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1H13V2.5A1.5 1.5 0 0 0 11.5 1H11V.5a.5.5 0 0 0-.57-.495l-7 1A.5.5 0 0 0 3 1.5V15H1.5zM11 2h.5a.5.5 0 0 1 .5.5V15h-1V2zm-2.5 8c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1z"})],-1)),Gn={class:"bg-dark-smooth p-4 mt-6"},Ln=ne(()=>n("div",{class:"text-2xl text-white mb-4"},"Cards",-1)),Vn=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.79-2.907L8.5 7.028V5.5a.5.5 0 0 0-.79-.407L5 7.028V5.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0V8.972l2.71 1.935a.5.5 0 0 0 .79-.407V8.972l2.71 1.935A.5.5 0 0 0 12 10.5v-5a.5.5 0 0 0-.79-.407z"})],-1)),Hn=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.79 5.093A.5.5 0 0 0 4 5.5v5a.5.5 0 0 0 .79.407L7.5 8.972V10.5a.5.5 0 0 0 .79.407L11 8.972V10.5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-1 0v1.528L8.29 5.093a.5.5 0 0 0-.79.407v1.528L4.79 5.093z"})],-1)),Bn=["disable"],Un=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[n("path",{d:"M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"})],-1)),jn=["disable"],Fn=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[n("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM7.729 5.055A.5.5 0 0 1 8 5.5v1.886l3.21-2.293A.5.5 0 0 1 12 5.5v5a.5.5 0 0 1-.79.407L8 8.614V10.5a.5.5 0 0 1-.79.407l-3.5-2.5a.5.5 0 0 1 0-.814l3.5-2.5a.5.5 0 0 1 .519-.038Z"})],-1)),Yn=["disable"],Zn=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[n("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM4.79 5.093 8 7.386V5.5a.5.5 0 0 1 .79-.407l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 8 10.5V8.614l-3.21 2.293A.5.5 0 0 1 4 10.5v-5a.5.5 0 0 1 .79-.407Z"})],-1)),Wn={key:1},Xn=ne(()=>n("div",{class:"w-1/6"},"Turn",-1)),qn=ne(()=>n("div",{class:"w-1/6"},"Name",-1)),Jn=ne(()=>n("div",{class:"w-1/6"},"Team",-1)),Kn=ne(()=>n("div",{class:"w-1/6"},"Status",-1)),Qn=ne(()=>n("div",{class:"w-1/6"},"Role",-1)),er=ne(()=>n("div",{class:"w-1/6"},"Actions",-1)),tr={class:"w-1/6"},ar={class:"w-1/6"},or={class:"w-1/6"},nr={class:"w-1/6"},rr={class:"w-1/6"},sr={class:"w-1/6 text-red-500 cursor-pointer hover:text-red-600 transition duration-300 text-lg"},lr=["onClick"],ir={key:2},dr=te({__name:"ModalFullPage",props:{modalOpen:{type:Boolean},tableUsers:{type:Array,required:!0},table:{type:Object},tableStatus:{type:Object},menuTab:{type:Number,default:1}},emits:["closeModal","updateTurnTableUsers","updateRole","updateStatus","updateTeam","stopGame","exitTable","newGame","updateTableGameStatus","showAllCards","removePlayer","setNextPlayer"],setup(a,{emit:e}){const t=a,o=W(!0),s=W(null),l=W([{id:1,name:"Game"},{id:2,name:"Players"},{id:3,name:"Rank Table"}]),i=W(1),u=c=>{e("updateTurnTableUsers",c)};return Ya(s,()=>{e("closeModal")}),et(()=>t.menuTab,()=>{i.value=t.menuTab}),(c,f)=>(g(),R(Ga,{name:"modal"},{default:d(()=>[a.modalOpen?(g(),y("div",$n,[n("div",{class:"bg-dark relative rounded-sm shadow h-full w-full",ref_key:"modal",ref:s},[p(k,{class:"border-b-2 px-8",justify:"between",items:"center"},{default:d(()=>[Tn,n("button",{class:"cursor-pointer border h-10 w-10 border-transparent rounded-3xl px-2 transition duration-300 text-lg text-white hover:text-primary hover:bg-white",onClick:f[0]||(f[0]=h=>c.$emit("closeModal"))}," x ")]),_:1}),p(k,{class:"h-full text-white"},{default:d(()=>[p(k,{class:"border-r w-60 p-4",column:!0,gap:2},{default:d(()=>[(g(!0),y(Z,null,q(l.value,h=>(g(),y("div",{key:h.id,class:P(["px-4 py-3 hover:bg-primary rounded-lg border-gray-500 border cursor-pointer hover:border-primary transition duration-300 text-lg",i.value===h.id?"bg-primary":"bg-transparent"]),onClick:b=>i.value=h.id},Y(h.name),11,Mn))),128))]),_:1}),p(k,{class:"w-full overflow-x-auto"},{default:d(()=>[n("div",Sn,[i.value===1?(g(),y("div",En,[p(k,{class:"text-2xl underline underline-offset-4 mb-6 w-full",justify:"between"},{default:d(()=>[Dn,n("div",null,[p(Wa,{title:"Close settings on click an action",input:o.value,onChange:f[1]||(f[1]=h=>o.value=h)},null,8,["input"])])]),_:1}),n("div",An,[In,p(k,{class:"w-full text-center cursor-pointer",gap:8},{default:d(()=>{var h,b,T,A;return[n("button",{onClick:f[2]||(f[2]=E=>{c.$emit("newGame"),o.value&&e("closeModal")}),class:"p-3 w-1/4 transition duration-300 text-lg bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary"},[p(k,{justify:"center",items:"center"},{default:d(()=>[zn,O(" New Game ")]),_:1})]),n("button",{class:P(["p-3 w-1/4 transition duration-300 text-lg bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",((h=a.tableStatus)==null?void 0:h.status)===r(x).WAITING||((b=a.tableStatus)==null?void 0:b.status)===r(x).FINISH?"cursor-not-allowed":""]),disable:((T=a.tableStatus)==null?void 0:T.status)===r(x).WAITING||((A=a.tableStatus)==null?void 0:A.status)===r(x).FINISH,onClick:f[3]||(f[3]=E=>{var z;((z=a.tableStatus)==null?void 0:z.status)===r(x).PLAYING?c.$emit("updateTableGameStatus",r(x).PAUSE):c.$emit("updateTableGameStatus",r(x).PLAYING),o.value&&e("closeModal")})},[p(k,{justify:"center",items:"center"},{default:d(()=>{var E;return[On,O(" "+Y(((E=a.tableStatus)==null?void 0:E.status)===r(x).PAUSE?"Resume Game":"Pause Game"),1)]}),_:1})],10,Pn),n("button",{onClick:f[4]||(f[4]=E=>{c.$emit("stopGame"),o.value&&e("closeModal")}),class:"p-3 w-1/4 transition duration-300 text-lg bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary"},[p(k,{justify:"center",items:"center"},{default:d(()=>[Nn,O(" End Game ")]),_:1})]),n("button",{class:"p-3 w-1/4 transition duration-300 text-lg bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",onClick:f[5]||(f[5]=E=>c.$emit("exitTable"))},[p(k,{justify:"center",items:"center"},{default:d(()=>[Rn,O(" Leave Game ")]),_:1})])]}),_:1})]),n("div",Gn,[Ln,p(k,{class:"w-full text-center cursor-pointer",gap:8},{default:d(()=>{var h,b,T,A,E,z;return[n("div",{class:"p-3 transition duration-300 text-lg w-1/3 bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",onClick:f[6]||(f[6]=I=>c.$emit("setNextPlayer",!1))},[p(k,{justify:"center",items:"center"},{default:d(()=>[Vn,O(" Previous Player ")]),_:1})]),n("div",{class:"p-3 transition duration-300 text-lg w-1/3 bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",onClick:f[7]||(f[7]=I=>c.$emit("setNextPlayer",!0))},[p(k,{justify:"center",items:"center"},{default:d(()=>[Hn,O(" Next Player ")]),_:1})]),n("div",{onClick:f[8]||(f[8]=I=>{c.$emit("showAllCards"),o.value&&e("closeModal")}),class:P(["p-3 transition duration-300 text-lg w-1/3 bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",((h=a.tableStatus)==null?void 0:h.status)===r(x).WAITING?"cursor-not-allowed":""]),disable:((b=a.tableStatus)==null?void 0:b.status)===r(x).WAITING},[p(k,{justify:"center",items:"center"},{default:d(()=>[Un,O(" Show all cards ")]),_:1})],10,Bn),n("div",{class:P(["p-3 transition duration-300 text-lg w-1/3 bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",((T=a.tableStatus)==null?void 0:T.status)===r(x).WAITING?"cursor-not-allowed":""]),disable:((A=a.tableStatus)==null?void 0:A.status)===r(x).WAITING},[p(k,{justify:"center",items:"center"},{default:d(()=>[Fn,O(" Undo ")]),_:1})],10,jn),n("div",{class:P(["p-3 transition duration-300 text-lg w-1/3 bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",((E=a.tableStatus)==null?void 0:E.status)===r(x).WAITING?"cursor-not-allowed":""]),disable:((z=a.tableStatus)==null?void 0:z.status)===r(x).WAITING},[p(k,{justify:"center",items:"center"},{default:d(()=>[Zn,O(" Redo ")]),_:1})],10,Yn)]}),_:1})])])):H("",!0),i.value===2?(g(),y("div",Wn,[p(k,{disabled:"",class:"list-group-item bg-dark-smooth m-1 p-3 rounded-md text-center border border-primary mb-6",justify:"center"},{default:d(()=>[Xn,qn,Jn,Kn,Qn,er]),_:1}),p(k,{class:"w-full"},{default:d(()=>[a.tableUsers?(g(),R(r(hn),{key:0,class:"dragArea list-group w-full",list:a.tableUsers,onChange:u,disabled:!1,group:{name:"people"},"ghost-class":"ghost"},{default:d(()=>[p(Ra,null,{default:d(()=>[(g(!0),y(Z,null,q(a.tableUsers,h=>(g(),R(k,{items:"center",gap:8,class:"list-group-item bg-dark-smooth m-1 p-3 rounded-md text-center mb-3",key:h.id},{default:d(()=>{var b,T,A,E,z,I,v,m,w,_,$,M;return[n("div",tr,Y(h.turn),1),n("div",ar,Y(h.user.username),1),n("div",or,[p(Tt,{options:(T=(b=a.table)==null?void 0:b.game)==null?void 0:T.teams,dark:!0,input:(A=h.team)!=null&&A.id?{value:(E=h.team)==null?void 0:E.id}:null,onUpdate:D=>c.$emit("updateTeam",D,h)},null,8,["options","input","onUpdate"])]),n("div",nr,[p(Tt,{options:(I=(z=a.table)==null?void 0:z.game)==null?void 0:I.status,dark:!0,input:(v=h.status)!=null&&v.id?{value:(m=h.status)==null?void 0:m.id}:null,onUpdate:D=>c.$emit("updateStatus",D,h)},null,8,["options","input","onUpdate"])]),n("div",rr,[p(Tt,{options:(_=(w=a.table)==null?void 0:w.game)==null?void 0:_.roles,dark:!0,input:($=h.role)!=null&&$.id?{value:(M=h.role)==null?void 0:M.id}:null,onUpdate:D=>c.$emit("updateRole",D,h)},null,8,["options","input","onUpdate"])]),n("div",sr,[n("button",{onClick:D=>c.$emit("removePlayer",h.user.id)},"Remove User",8,lr)])]}),_:2},1024))),128))]),_:1})]),_:1},8,["list"])):H("",!0)]),_:1})])):H("",!0),i.value===3?(g(),y("div",ir,[p(Cn)])):H("",!0)])]),_:1})]),_:1})],512)])):H("",!0)]),_:1}))}});const ur=Xa(dr,[["__scopeId","data-v-3df5231c"]]),cr=te({__name:"GameUserItem",props:{playing:{type:Boolean,default:!1}},setup(a){return(e,t)=>(g(),y("div",{class:P(["px-4 py-3 rounded-lg hover:border-primary transition duration-300",a.playing?"bg-primary":"bg-dark-smooth"])},[va(e.$slots,"default")],2))}}),Ft="/assets/close-card.89ac7cbb.png",hr=n("div",{class:"text-2xl border-b border-primary pb-2"},"Users",-1),fr={class:"w-3/6"},pr=n("img",{src:qa,alt:"cards",srcset:""},null,-1),mr=["onClick"],gr=n("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"},null,-1),vr=[gr],br={key:1,class:"p-2 mt-2 shadow-2xl rounded-xl border-dashed border"},wr=n("div",{class:"w-2/6"},"Team:",-1),_r=n("div",{class:"w-2/6"},"Role:",-1),yr=n("div",{class:"w-2/6"},"Status:",-1),xr={key:2,class:"mt-4"},kr=["src"],Cr=te({__name:"SidebarGame",setup(a){const e=Ae(),t=W([]),o=l=>t.value.indexOf(l)!==-1,s=l=>{t.value.indexOf(l)!==-1?t.value=t.value.filter(i=>i!==l):t.value.push(l)};return et(()=>e.table,()=>{var l,i,u;((l=e.table)==null?void 0:l.status)!==x.WAITING&&(t.value=[],(u=(i=e.table)==null?void 0:i.table_users)==null||u.forEach(c=>{t.value.push(c.id)}))}),(l,i)=>{const u=Ke("RouterLink");return g(),R(k,{class:"border-l w-72 p-4 h-full bg-dark text-white",column:!0,gap:2},{default:d(()=>[p(k,{column:!0,justify:"between",class:"h-[96%]"},{default:d(()=>{var c,f;return[n("div",null,[hr,(g(!0),y(Z,null,q((f=(c=r(e).table)==null?void 0:c.table_users)==null?void 0:f.sort((h,b)=>h.turn-b.turn),(h,b)=>(g(),R(cr,{key:b,class:"mt-3 w-2xl bg-primary",playing:h.playing},{default:d(()=>{var T,A,E,z,I,v,m,w,_,$;return[p(k,{items:"center",justify:r(e).cards?"center":"between",gap:2},{default:d(()=>{var M,D,S,N;return[n("div",fr,Y((M=h.user)==null?void 0:M.username),1),r(e).cards?(g(),R(k,{key:0,gap:2,class:"w-2/6"},{default:d(()=>{var F;return[pr,n("div",null,Y((F=r(e).getCards(r(e).getTableDeckIdOfUser(h.user.id)))==null?void 0:F.length),1)]}),_:2},1024)):H("",!0),((D=h.team)==null?void 0:D.name)||((S=h.role)==null?void 0:S.name)||((N=h.status)==null?void 0:N.name)||r(e).cards?(g(),y("div",{key:1,class:"w-1/6 cursor-pointer group",onClick:F=>s(h.id)},[(g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:P(["group-hover:text-primary duration-300 transition",o(h.id)?"rotate-0":"rotate-180"]),viewBox:"0 0 16 16"},vr,2))],8,mr)):H("",!0)]}),_:2},1032,["justify"]),((A=(T=r(e).table)==null?void 0:T.game_master)==null?void 0:A.id)===((E=h.user)==null?void 0:E.id)?(g(),y("div",{key:0,class:P(["italic font-bold",r(e).table.game_master.id===((z=h.user)==null?void 0:z.id)&&h.playing?"text-dark":"text-primary"])},"Game Master",2)):H("",!0),o(h.id)&&(((I=h.team)==null?void 0:I.name)||((v=h.role)==null?void 0:v.name)||((m=h.status)==null?void 0:m.name))?(g(),y("div",br,[(w=h.team)!=null&&w.name?(g(),R(k,{key:0},{default:d(()=>{var M,D;return[wr,n("div",null,Y((M=h.team)!=null&&M.name?(D=h.team)==null?void 0:D.name:"none"),1)]}),_:2},1024)):H("",!0),(_=h.role)!=null&&_.name?(g(),R(k,{key:1},{default:d(()=>{var M,D;return[_r,n("div",null,Y((M=h.role)!=null&&M.name?(D=h.role)==null?void 0:D.name:"none"),1)]}),_:2},1024)):H("",!0),($=h.status)!=null&&$.name?(g(),R(k,{key:2},{default:d(()=>{var M,D;return[yr,n("div",null,Y((M=h.status)!=null&&M.name?(D=h.status)==null?void 0:D.name:"none"),1)]}),_:2},1024)):H("",!0)])):H("",!0),r(e).cards&&o(h.id)?(g(),y("div",xr,[p(k,{gap:2,class:"flex-wrap",justify:"start"},{default:d(()=>[(g(!0),y(Z,null,q(r(e).getCards(r(e).getTableDeckIdOfUser(h.user.id)),(M,D)=>(g(),y("img",{src:M.hidden?r(Ft):r(Qe)(M.card.image),alt:"",srcset:"",key:`user-card-${D}`,class:"w-10 h-12 hover:scale-150 transition duration-500"},null,8,kr))),128))]),_:2},1024)])):H("",!0)]}),_:2},1032,["playing"]))),128))]),p(k,{justify:"center"},{default:d(()=>[p(u,{to:{name:"lobby"}},{default:d(()=>[p(Ja,{title:"Leave Game"})]),_:1})]),_:1})]}),_:1})]),_:1})}}}),$r=["id"],Tr={class:"relative w-full h-full"},Mr=["src"],Sr={key:0,class:"absolute top-[39.5px] left-[21.5px] text-black"},Er=n("svg",{width:"16",height:"16",fill:"currentColor",class:"w-5 h-5",viewBox:"0 0 16 16"},[n("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"}),n("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"})],-1),Dr=[Er],gt=te({__name:"DraggableCard",props:{card:{type:Object,required:!0},absolute:{type:Boolean,default:!0},hiddenCards:{type:Boolean,default:!1},rotate:{type:Boolean,default:!1},showCards:{type:Boolean,default:!1},playerDeck:{type:Boolean,default:!1}},emits:["onDragStart"],setup(a,{emit:e}){const t=a,o=Ae(),s=W(null),l=u=>{switch(u){case nt.ZERO:return"";case nt.NINETY:return" rotate-90";case nt.ONE_EIGHTY:return" rotate-180";case nt.TWO_SEVENTY:return" -rotate-90";default:return""}},i=u=>t.hiddenCards?Ft:t.showCards?Qe(u.card.image):u.hidden?Ft:Qe(u.card.image);return kt(()=>{t.card&&s.value&&(s.value.style.top=`${t.card.position_x}px`,s.value.style.left=`${t.card.position_y}px`,s.value.style.zIndex=`${t.card.z_index}`)}),et([()=>t.card.position_x,()=>t.card.position_y,()=>t.card.z_index],([u,c],[f,h])=>{s.value&&(s.value.style.top=`${t.card.position_x}px`,s.value.style.left=`${t.card.position_y}px`,s.value.style.zIndex=t.card.z_index.toString())}),(u,c)=>(g(),y("div",{ref_key:"cardRef",ref:s,id:a.card.id.toString(),class:P(["card-box cursor-pointer",[a.absolute?"absolute":"",a.rotate?l(a.card.rotate):""]]),onClick:c[0]||(c[0]=f=>r(o).clickCardId===a.card.id?r(o).clickCardId=null:r(o).clickCardId=a.card.id),onDragstart:c[1]||(c[1]=f=>u.$emit("onDragStart",f,s.value)),draggable:"true"},[n("div",Tr,[n("img",{ref_key:"cardRef",ref:s,src:i(a.card),class:P(["card-box",[a.playerDeck?a.card.hidden?"":"opacity-50":"",r(o).clickCardId===a.card.id?"border-2 border-red-500":"hover:border hover:border-dark"]])},null,10,Mr),a.playerDeck&&!a.card.hidden?(g(),y("div",Sr,Dr)):H("",!0)])],42,$r))}}),Ar={class:"text-sm text-center"},Ir={key:0,class:"text-primary text-sm"},zr=te({__name:"TableDecks",props:{deck:{type:Object,required:!0}},emits:["deckCreate","onDrop","onDragLeave","onDragEnter","onDragStart"],setup(a,{emit:e}){const t=W(null);return kt(()=>{t.value&&e("deckCreate",t.value)}),(o,s)=>(g(),R(k,{gap:4,class:"my-2 mx-8"},{default:d(()=>[p(k,{column:!0,items:"center"},{default:d(()=>{var l,i,u;return[n("div",{class:P(["relative card-box dropZone",(l=a.deck.cards)!=null&&l.length?"":"border"]),ref_key:"deckReference",ref:t,onDrop:s[0]||(s[0]=c=>o.$emit("onDrop",c,a.deck.tableDeckId)),onDragover:s[1]||(s[1]=xe(()=>{},["prevent"])),onDragleave:s[2]||(s[2]=c=>o.$emit("onDragLeave",c)),onDragenter:s[3]||(s[3]=xe(c=>o.$emit("onDragEnter",c),["prevent"]))},[(g(!0),y(Z,null,q(a.deck.cards,(c,f)=>(g(),R(gt,{card:c,key:f,onOnDragStart:(h,b)=>o.$emit("onDragStart",h,b,c),"hidden-cards":a.deck.deckType===r(Ka).DECK},null,8,["card","onOnDragStart","hidden-cards"]))),128))],34),n("div",Ar,Y(a.deck.deckName),1),a.deck.cards&&((i=a.deck.cards)==null?void 0:i.length)>0?(g(),y("div",Ir,Y((u=a.deck.cards)==null?void 0:u.length),1)):H("",!0)]}),_:1})]),_:1}))}}),Pr=n("div",{class:"py-3 pr-4 border-r cursor-pointer"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6",viewBox:"0 0 16 16"},[n("path",{"fill-rule":"evenodd",d:"M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2zM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10zM.146 8.354a.5.5 0 0 1 0-.708l2-2a.5.5 0 1 1 .708.708L1.707 7.5H5.5a.5.5 0 0 1 0 1H1.707l1.147 1.146a.5.5 0 0 1-.708.708l-2-2zM10 8a.5.5 0 0 1 .5-.5h3.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L14.293 8.5H10.5A.5.5 0 0 1 10 8z"})])],-1),Or={class:"py-1"},Nr=n("path",{"fill-rule":"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"},null,-1),Rr=n("path",{d:"M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"},null,-1),Gr=n("path",{"fill-rule":"evenodd",d:"M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5z"},null,-1),Lr=[Nr,Rr,Gr],Vr={class:"py-1"},Hr=n("path",{d:"m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7.029 7.029 0 0 0 2.79-.588zM5.21 3.088A7.028 7.028 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474L5.21 3.089z"},null,-1),Br=n("path",{d:"M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829l-2.83-2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12-.708.708z"},null,-1),Ur=[Hr,Br],jr=n("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"},null,-1),Fr=n("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"},null,-1),Yr=[jr,Fr],Zr={class:"py-1"},Wr=n("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"},null,-1),Xr=n("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"},null,-1),qr=[Wr,Xr],Jr={class:"py-1"},Kr=n("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"},null,-1),Qr=n("path",{d:"M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"},null,-1),es=[Kr,Qr],ts={class:"py-1"},as=n("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"},null,-1),os=[as],ns=n("path",{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514ZM11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1),rs=n("path",{d:"M2 13c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Z"},null,-1),ss=[ns,rs],ls={key:0,class:"py-1"},is={class:"p-2 rounded-3xl cursor-pointer hover:bg-white group transition duration-300"},ds=n("path",{d:"M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-9 8c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Zm9.886-3.54c.18-.613 1.048-.613 1.229 0l.043.148a.64.64 0 0 0 .921.382l.136-.074c.561-.306 1.175.308.87.869l-.075.136a.64.64 0 0 0 .382.92l.149.045c.612.18.612 1.048 0 1.229l-.15.043a.64.64 0 0 0-.38.921l.074.136c.305.561-.309 1.175-.87.87l-.136-.075a.64.64 0 0 0-.92.382l-.045.149c-.18.612-1.048.612-1.229 0l-.043-.15a.64.64 0 0 0-.921-.38l-.136.074c-.561.305-1.175-.309-.87-.87l.075-.136a.64.64 0 0 0-.382-.92l-.148-.045c-.613-.18-.613-1.048 0-1.229l.148-.043a.64.64 0 0 0 .382-.921l-.074-.136c-.306-.561.308-1.175.869-.87l.136.075a.64.64 0 0 0 .92-.382l.045-.148ZM14 12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"},null,-1),us=[ds],cs={class:"cursor-default bg-black py-2 text-white"},hs=n("div",{class:"border-b p-2"}," Status player ",-1),fs=n("div",null," --Empty-- ",-1),ps={key:0},ms=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6",viewBox:"0 0 16 16"},[n("path",{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"})],-1),gs=[ms],vs=["onClick"],bs={key:0},ws=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6",viewBox:"0 0 16 16"},[n("path",{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"})],-1),_s=[ws],ys={class:"py-1"},xs=n("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"},null,-1),ks=[xs],Cs={key:0,class:"absolute inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-red-500 border-2 border-white rounded-full -top-2 -right-2 dark:border-gray-900"},$s={class:"py-1"},Ts={class:"p-2 rounded-3xl cursor-pointer hover:bg-white group transition duration-300 relative"},Ms=n("path",{d:"M8.5 1.75v2.716l.047-.002c.312-.012.742-.016 1.051.046.28.056.543.18.738.288.273.152.456.385.56.642l.132-.012c.312-.024.794-.038 1.158.108.37.148.689.487.88.716.075.09.141.175.195.248h.582a2 2 0 0 1 1.99 2.199l-.272 2.715a3.5 3.5 0 0 1-.444 1.389l-1.395 2.441A1.5 1.5 0 0 1 12.42 16H6.118a1.5 1.5 0 0 1-1.342-.83l-1.215-2.43L1.07 8.589a1.517 1.517 0 0 1 2.373-1.852L5 8.293V1.75a1.75 1.75 0 0 1 3.5 0z"},null,-1),Ss=[Ms],Es={class:"cursor-default bg-black py-2 text-white"},Ds=n("div",{class:"border-b p-2"}," Get all cards from: ",-1),As=["onClick"],Is={class:"py-1"},zs={class:"p-2 rounded-3xl cursor-pointer hover:bg-white group transition duration-300 relative"},Ps=n("path",{d:`M57.832,26.926l-8-12c-0.186-0.278-0.498-0.445-0.832-0.445H9c-0.335,0-0.646,0.167-0.832,0.445l-8,12\r
        		c-0.205,0.307-0.224,0.701-0.05,1.026C0.292,28.278,0.631,28.481,1,28.481h6v15.038h2V28.481h5v6h2v-6h27v6h2v-6h5v15.038h2V28.481\r
        		h5c0.369,0,0.708-0.203,0.882-0.528C58.056,27.627,58.037,27.233,57.832,26.926z M2.869,26.481l6.666-10h38.93l6.667,10H2.869z`},null,-1),Os=[Ps],Ns={class:"cursor-default bg-black py-2 text-white"},Rs=n("div",{class:"border-b p-2"}," Move cards from table to: ",-1),Gs=["onClick"],Ls={key:1,class:"py-1"},Vs={class:"p-2 rounded-3xl hover:bg-white group transition duration-300 relative"},Hs=n("path",{d:"M11.5 12.5a3.493 3.493 0 0 1-2.684-1.254 19.92 19.92 0 0 0 1.582 2.907c.231.35-.02.847-.438.847H6.04c-.419 0-.67-.497-.438-.847a19.919 19.919 0 0 0 1.582-2.907 3.5 3.5 0 1 1-2.538-5.743 3.5 3.5 0 1 1 6.708 0A3.5 3.5 0 1 1 11.5 12.5z"},null,-1),Bs=[Hs],Us={class:"cursor-default bg-black py-2 text-white"},js=n("div",{class:"border-b p-2"}," Give card to player: ",-1),Fs=["onClick"],Ys=te({__name:"PlayerSettings",setup(a){const e=Ae(),t=W(null),o=W(!0),s=W("Please click a card first"),{x:l,y:i,style:u}=Za(t,{initialValue:{x:window.innerWidth*.5-300,y:window.innerHeight-250}}),c=()=>{var b;const h=(b=e.cards)==null?void 0:b.find(T=>T.id===e.clickCardId);return h&&(h.table_deck.id===e.getExistPlayerTableDeckId||!(h!=null&&h.hidden))},f=()=>{var h,b;return e.clickCardId&&((h=e.getClickedCard)==null?void 0:h.table_deck.id)===e.getExistPlayerTableDeckId||((b=e.getExistTableUser)==null?void 0:b.playing)};return(h,b)=>{const T=Ke("VTooltip"),A=Ke("VMenu");return g(),y("div",{ref_key:"el",ref:t,style:Ha([r(u),{position:"fixed"}]),class:P([r(e).clickCardId?"snooze":"","z-[2147483644]"])},[p(k,{class:P(["rounded-2xl px-4 border border-white transition duration-500",r(e).getExistPlayerPlayingStatus?"bg-primary":"bg-dark"]),gap:2},{default:d(()=>{var E,z,I,v,m;return[Pr,n("div",Or,[p(T,null,{popper:d(()=>[O(" Zoom Card ")]),default:d(()=>[n("div",{class:P(["p-2 rounded-3xl group transition duration-300",[c()?"hover:bg-white cursor-pointer":"cursor-not-allowed"]]),onClick:b[0]||(b[0]=w=>c()?r(e).isCardDetailsModalOpen=!0:"")},[(g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:P([[c()?"group-hover:text-dark":"opacity-50"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},Lr,2))],2)]),_:1})]),n("div",Vr,[p(T,null,{popper:d(()=>[O(Y(r(e).clickCardId?"Show / Hide card":s.value),1)]),default:d(()=>[n("div",{class:P(["p-2 rounded-3xl group transition duration-300",[f()||r(e).gameMaster?"hover:bg-white cursor-pointer":"cursor-not-allowed"]]),onClick:b[1]||(b[1]=w=>f()||r(e).gameMaster?r(e).toggleCardVisibility():"")},[r(e).isCardHidden()?(g(),y("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:P([[f()?"group-hover:text-dark":"opacity-50"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},Ur,2)):(g(),y("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:P([[f()?"group-hover:text-dark":"opacity-50"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},Yr,2))],2)]),_:1})]),n("div",Zr,[p(T,null,{popper:d(()=>[O(" Rotate card right 90\xB0 ")]),default:d(()=>[n("div",{class:P(["p-2 rounded-3xl group transition duration-300",[f()||r(e).gameMaster?"hover:bg-white cursor-pointer hover:rotate-90":"cursor-not-allowed"]]),onClick:b[2]||(b[2]=w=>f()||r(e).gameMaster?r(e).rotateCard(r(ta).RIGHT):"")},[(g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:P([[f()||r(e).gameMaster?"group-hover:text-dark":"opacity-50"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},qr,2))],2)]),_:1})]),n("div",Jr,[p(T,null,{popper:d(()=>[O(" Rotate card left 90\xB0 ")]),default:d(()=>[n("div",{class:P(["p-2 rounded-3xl group transition duration-300",[f()||r(e).gameMaster?"hover:bg-white cursor-pointer hover:-rotate-90":"cursor-not-allowed"]]),onClick:b[3]||(b[3]=w=>f()||r(e).gameMaster?r(e).rotateCard(r(ta).LEFT):"")},[(g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:P([[f()||r(e).gameMaster?"group-hover:text-dark":"opacity-50"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},es,2))],2)]),_:1})]),n("div",ts,[p(T,null,{popper:d(()=>[O(' Set status "My turn" ')]),default:d(()=>[n("div",{onClick:b[4]||(b[4]=w=>o.value?r(e).setPlayingPlayer():""),class:"p-2 rounded-3xl cursor-pointer hover:bg-white group transition duration-300"},[r(e).getExistPlayerPlayingStatus?(g(),y("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:P([[o.value?"group-hover:text-dark":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},ss,2)):(g(),y("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:P([[o.value?"group-hover:text-dark":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},os,2))])]),_:1})]),((I=(z=(E=r(e).table)==null?void 0:E.game)==null?void 0:z.status)==null?void 0:I.length)!==0?(g(),y("div",ls,[p(A,{placement:"top"},{popper:d(()=>{var w,_;return[n("div",cs,[hs,n("div",{class:"p-2 mt-2 cursor-pointer hover:bg-white hover:text-black transition duration-300",onClick:b[5]||(b[5]=$=>r(e).addStatusPlayer(null))},[p(k,{justify:"between",items:"center"},{default:d(()=>{var $;return[fs,(($=r(e).getExistTableUser)==null?void 0:$.status)===null?(g(),y("div",ps,gs)):H("",!0)]}),_:1})]),(g(!0),y(Z,null,q((_=(w=r(e).table)==null?void 0:w.game)==null?void 0:_.status,$=>(g(),y("div",{class:"p-2 mt-2 cursor-pointer hover:bg-white hover:text-black transition duration-300",key:$.id,onClick:M=>r(e).addStatusPlayer($)},[p(k,{justify:"between",items:"center"},{default:d(()=>{var M,D;return[n("div",null,Y($.name),1),((D=(M=r(e).getExistTableUser)==null?void 0:M.status)==null?void 0:D.id)===$.id?(g(),y("div",bs,_s)):H("",!0)]}),_:2},1024)],8,vs))),128))])]}),default:d(()=>[n("div",is,[(g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:P([[o.value?"group-hover:text-dark":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},us,2))])]),_:1})])):H("",!0),n("div",ys,[p(T,null,{popper:d(()=>[O(" View Rank ")]),default:d(()=>[n("button",{class:"p-2 rounded-3xl cursor-pointer hover:bg-white group transition duration-300 relative",onClick:b[6]||(b[6]=w=>{r(e).rank.isRankModalOpen=!0,r(e).rank.notification=!1})},[(g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:P([[o.value?"group-hover:text-dark":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},ks,2)),r(e).rank.notification?(g(),y("div",Cs," ! ")):H("",!0)])]),_:1})]),n("div",$s,[p(A,{placement:"top"},{popper:d(()=>{var w,_;return[n("div",Es,[Ds,(g(!0),y(Z,null,q((_=(w=r(e).table)==null?void 0:w.table_decks)==null?void 0:_.filter($=>$.type!==r(ve).USER),$=>{var M;return g(),y("div",{class:P(["p-2 mt-2 cursor-pointer hover:bg-white hover:text-black transition duration-300",((M=r(e).getExistTableUser)==null?void 0:M.playing)||r(e).gameMaster?"cursor-pointer":"cursor-not-allowed"]),key:$.id,onClick:D=>{var S,N,F;return((S=r(e).getExistTableUser)==null?void 0:S.playing)||r(e).gameMaster?r(e).cardsToDeck($.id,(F=(N=r(e).table)==null?void 0:N.table_decks)==null?void 0:F.find(ae=>ae.id===r(e).getExistPlayerTableDeckId)):""}},[p(k,{justify:"between",items:"center"},{default:d(()=>{var D;return[n("div",null,Y((D=$.deck)==null?void 0:D.name),1)]}),_:2},1024)],10,As)}),128))])]}),default:d(()=>{var w;return[n("div",Ts,[(g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:P([[((w=r(e).getExistTableUser)==null?void 0:w.playing)||r(e).gameMaster?"":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300 group-hover:text-dark"]),viewBox:"0 0 16 16"},Ss,2))])]}),_:1})]),n("div",Is,[p(A,{placement:"top"},{popper:d(()=>{var w,_;return[n("div",Ns,[Rs,(g(!0),y(Z,null,q((_=(w=r(e).table)==null?void 0:w.table_decks)==null?void 0:_.filter($=>$.type===r(ve).JUNK||$.type===r(ve).DECK),$=>{var M,D;return g(),y("div",{class:P(["p-2 mt-2 cursor-pointer hover:bg-white hover:text-black transition duration-300",((M=r(e).getExistTableUser)==null?void 0:M.playing)||r(e).gameMaster?"cursor-pointer":"cursor-not-allowed"]),key:$.id,onClick:S=>{var N;return((N=r(e).getExistTableUser)==null?void 0:N.playing)||r(e).gameMaster?r(e).cardsToDeck(r(e).getTableDeckId,$):""}},Y((D=$.deck)==null?void 0:D.name),11,Gs)}),128))])]}),default:d(()=>{var w;return[n("div",zs,[(g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:P([[((w=r(e).getExistTableUser)==null?void 0:w.playing)||r(e).gameMaster?"":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300 group-hover:text-dark"]),viewBox:"0 0 56 56"},Os,2))])]}),_:1})]),(m=(v=r(e).table)==null?void 0:v.game)!=null&&m.status?(g(),y("div",Ls,[p(A,{placement:"top"},{popper:d(()=>{var w,_;return[n("div",Us,[js,(g(!0),y(Z,null,q((_=(w=r(e).table)==null?void 0:w.table_decks)==null?void 0:_.filter($=>$.type===r(ve).USER&&$.id!==r(e).getExistPlayerTableDeckId),$=>{var M,D;return g(),y("div",{class:P(["p-2 mt-2 hover:bg-white hover:text-black transition duration-300",((M=r(e).getExistTableUser)==null?void 0:M.playing)||r(e).gameMaster?"cursor-pointer":"cursor-not-allowed"]),key:$.id,onClick:S=>{var N;return r(e).clickCardId&&((N=r(e).getExistTableUser)==null?void 0:N.playing)||r(e).gameMaster?r(e).cardToPlayer($.id):""}},Y((D=$.user)==null?void 0:D.username),11,Fs)}),128))])]}),default:d(()=>{var w;return[n("button",Vs,[(g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:P([[r(e).clickCardId&&((w=r(e).getExistTableUser)==null?void 0:w.playing)||r(e).gameMaster?"":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300 group-hover:text-dark"]),viewBox:"0 0 16 16"},Bs,2))])]}),_:1})])):H("",!0)]}),_:1},8,["class"])],6)}}});const Zs=n("div",{class:"text-sm text-center"},"Junk Deck",-1),Ws={key:0,class:"text-primary text-sm"},Xs={class:"col-span-1"},qs=n("div",{class:"text-black"}," Card Details ",-1),Js=["src"],Ks=n("div",{class:"text-black"}," Rank Table ",-1),Qs={key:1,class:"bg-red-500 p-4 my-4 rounded italic"},el=te({__name:"OnlineTable",setup(a){var E,z;const e=Ae(),t=W("600"),o=W("1000"),s=W("600"),l=qt();(E=e.table)!=null&&E.game&&(s.value=parseFloat((t.value/((z=e.table)==null?void 0:z.game.grid_rows)).toFixed(1)));const i=W(null),u=W(null),c=W(null);kt(()=>{c.value&&(e.deckReferences.junk=c.value,e.dropZones.junk[0].element=c.value),u.value&&(e.deckReferences.table=u.value,e.dropZones.table[0].element=u.value),i.value&&(e.deckReferences.user=i.value,e.dropZones.user[0].element=i.value)});const f=(I,v)=>{I&&(e.dropZones.deck[v].element=I)};W(2);const h=I=>{},b=I=>{},T=(I,v,m)=>{I.dataTransfer.dropEffect="move",I.dataTransfer.effectAllowed="move",I.dataTransfer.setData("card",JSON.stringify(m)),I.dataTransfer.setData("cardHeight",v.offsetHeight),I.dataTransfer.setData("cardWidth",v.offsetWidth),I.dataTransfer.setData("top",I.y-v.getBoundingClientRect().top),I.dataTransfer.setData("left",I.x-v.getBoundingClientRect().left)},A=(I,v,m)=>{e.onDrop(I,v,m)};return et(()=>{var I,v;return(v=(I=e.table)==null?void 0:I.game)==null?void 0:v.grid_rows},()=>{var I,v;(I=e.table)!=null&&I.game&&(s.value=parseFloat((t.value/((v=e.table)==null?void 0:v.game.grid_rows)).toFixed(1)))}),(I,v)=>(g(),y(Z,null,[p(k,{justify:"center"},{default:d(()=>[p(k,{class:P([`w-[${o.value}px] h-[120px]`,"bg-secondary border px-4 divide-x-2 h-full"]),items:"center",justify:"center"},{default:d(()=>[r(e).cards?(g(),R(k,{key:0},{default:d(()=>[(g(!0),y(Z,null,q(r(e).dropZones.deck,(m,w)=>{var _,$,M,D,S,N,F,ae;return g(),R(zr,{deck:{tableDeckId:m.tableDeckId,index:w,cards:r(e).getCards(m.tableDeckId),deckName:(D=(M=($=(_=r(e).table)==null?void 0:_.table_decks)==null?void 0:$.find(Q=>Q.id===m.tableDeckId))==null?void 0:M.deck)==null?void 0:D.name,deckType:(ae=(F=(N=(S=r(e).table)==null?void 0:S.table_decks)==null?void 0:N.find(Q=>Q.id===m.tableDeckId))==null?void 0:F.deck)==null?void 0:ae.type},index:w,key:m.tableDeckId,onDeckCreate:Q=>f(Q,w),onOnDragStart:v[0]||(v[0]=(Q,le,me)=>T(Q,le,me)),onOnDragEnter:v[1]||(v[1]=Q=>b()),onOnDragLeave:v[2]||(v[2]=Q=>h()),onOnDrop:(Q,le)=>A(Q,le,"deck")},null,8,["deck","index","onDeckCreate","onOnDrop"])}),128))]),_:1})):H("",!0),r(e).cards?(g(),R(k,{key:1,class:"h-full px-4",column:!0,justify:"center",items:"center",gap:1},{default:d(()=>{var m,w;return[n("div",{class:P(["card-box cursor-pointer relative dropZone",(m=r(e).getCards(r(e).getJunkTableDeckId))!=null&&m.length?"":"border"]),ref_key:"tableDeckTrashReference",ref:c,id:"junkDeck",onDrop:v[3]||(v[3]=_=>A(_,r(e).getJunkTableDeckId,"junk")),onDragover:v[4]||(v[4]=xe(()=>{},["prevent"])),onDragleave:v[5]||(v[5]=_=>h()),onDragenter:v[6]||(v[6]=xe(_=>b(),["prevent"]))},[(g(!0),y(Z,null,q(r(e).getCards(r(e).getJunkTableDeckId),(_,$)=>(g(),R(gt,{card:_,key:$,onOnDragStart:(M,D)=>T(M,D,_)},null,8,["card","onOnDragStart"]))),128))],34),Zs,r(e).getCards(r(e).getJunkTableDeckId)?(g(),y("div",Ws,Y((w=r(e).getCards(r(e).getJunkTableDeckId))==null?void 0:w.length),1)):H("",!0)]}),_:1})):H("",!0)]),_:1},8,["class"])]),_:1}),r(e).cards&&r(e).getTableExist?(g(),R(k,{key:0,justify:"center"},{default:d(()=>{var m,w,_,$,M,D;return[n("div",{id:"tableDeck",class:P(["grid bg-dark relative dropZone",`grid-cols-${(w=(m=r(e).table)==null?void 0:m.game)==null?void 0:w.grid_cols} grid-rows-${($=(_=r(e).table)==null?void 0:_.game)==null?void 0:$.grid_rows} h-[${t.value}px] w-[${o.value}px]`]),ref_key:"tableDeckReference",ref:u,onDrop:v[7]||(v[7]=S=>A(S,r(e).getTableDeckId,"table")),onDragover:v[8]||(v[8]=xe(()=>{},["prevent"])),onDragleave:v[9]||(v[9]=S=>h()),onDragenter:v[10]||(v[10]=xe(S=>b(),["prevent"]))},[(g(!0),y(Z,null,q((D=(M=r(e).table)==null?void 0:M.game)==null?void 0:D.grid_cols,S=>{var N,F;return g(),y("div",Xs,[(g(!0),y(Z,null,q((F=(N=r(e).table)==null?void 0:N.game)==null?void 0:F.grid_rows,ae=>(g(),y("div",{class:P(["row-span-1 bg-primary border w-full",`h-[${s.value}px]`])},null,2))),256))])}),256)),(g(!0),y(Z,null,q(r(e).getCards(r(e).getTableDeckId),(S,N)=>(g(),R(gt,{card:S,key:N,onOnDragStart:(F,ae)=>T(F,ae,S),absolute:!0,rotate:!0},null,8,["card","onOnDragStart"]))),128))],34)]}),_:1})):H("",!0),r(e).cards?(g(),R(k,{key:1,justify:"center"},{default:d(()=>[n("div",{class:P([`w-[${o.value}px] h-[150px]`,"bg-secondary border relative dropZone"]),id:"playerDeck",ref_key:"playerDeckReference",ref:i,onDrop:v[11]||(v[11]=m=>A(m,r(e).getExistPlayerTableDeckId,"user")),onDragover:v[12]||(v[12]=xe(()=>{},["prevent"])),onDragleave:v[13]||(v[13]=m=>h()),onDragenter:v[14]||(v[14]=xe(m=>b(),["prevent"]))},[n("div",null,[p(k,{class:"border w-full h-full"},{default:d(()=>[(g(!0),y(Z,null,q(r(e).getCards(r(e).getExistPlayerTableDeckId),(m,w)=>(g(),R(gt,{card:m,key:w,onOnDragStart:(_,$)=>T(_,$,m),absolute:!0,rotate:!0,"show-cards":!0,"player-deck":!0},null,8,["card","onOnDragStart"]))),128))]),_:1})])],34)]),_:1})):H("",!0),p(Ys),p(vt,{"modal-open":r(e).isCardDetailsModalOpen,onCloseModal:v[16]||(v[16]=m=>r(e).isCardDetailsModalOpen=!1)},{modal_header:d(()=>[qs]),body:d(()=>[p(k,{justify:"center"},{default:d(()=>{var m,w;return[n("img",{src:r(Qe)(((w=(m=r(e).cards)==null?void 0:m.find(_=>_.id===r(e).clickCardId))==null?void 0:w.card.image)||"")},null,8,Js)]}),_:1})]),modal_footer:d(()=>[p(_a,{onClick:v[15]||(v[15]=m=>r(e).isCardDetailsModalOpen=!1)},{default:d(()=>[O(" Close ")]),_:1})]),_:1},8,["modal-open"]),p(vt,{"modal-open":r(e).rank.isRankModalOpen,onCloseModal:v[17]||(v[17]=m=>r(e).rank.isRankModalOpen=!1),class:"z-[2147483641]"},{modal_header:d(()=>[Ks]),body:d(()=>[r(l).rankPoints.length>0?(g(),R(ya,{key:0,"table-headers":r(l).tableHeaders,class:"border border-gray-700 rounded-lg overflow-y-auto"},{default:d(()=>[(g(!0),y(Z,null,q(r(l).rankPoints,(m,w)=>(g(),R(Gt,{key:`rankRow-${m}`},{default:d(()=>[(g(!0),y(Z,null,q(m,_=>(g(),R(Le,{key:_.id},{default:d(()=>[O(Y(_.type===r(De).TITLE?_.title:_.points),1)]),_:2},1024))),128))]),_:2},1024))),128))]),_:1},8,["table-headers"])):(g(),y("div",Qs," The rank table is empty "))]),_:1},8,["modal-open"])],64))}}),tl={class:"max-h-[500px] overflow-y-auto"},al={class:"border-b border-primary text-black py-2 mb-3"},ol=["src"],nl=n("div",null,"No cards",-1),rl=te({__name:"ModalViewAllCards",props:{isModalOpen:{type:Boolean,required:!0},tableDecks:{type:Array,required:!0},cards:{type:Array,required:!0}},emits:["closeModal"],setup(a,{emit:e}){const t=a,o=l=>{var i,u;switch(l.type){case ve.USER:return(i=l.user)==null?void 0:i.username;case ve.DECK:return(u=l.deck)==null?void 0:u.name;case ve.TABLE:return"Table";case ve.JUNK:return"Junk"}},s=l=>{var i;return((i=t.cards)==null?void 0:i.filter(u=>u.table_deck.id===l))||[]};return(l,i)=>a.cards||a.tableDecks?(g(),R(vt,{key:0,modalOpen:a.isModalOpen,onCloseModal:i[1]||(i[1]=u=>l.$emit("closeModal")),class:"z-[2147483645]"},{modal_header:d(()=>[O(" Cards ")]),body:d(()=>[n("div",tl,[(g(!0),y(Z,null,q(a.tableDecks,u=>{var c;return g(),y("div",{key:u.id,class:"px-4"},[n("div",al,Y(o(u)),1),((c=s(u.id))==null?void 0:c.length)>0?(g(),R(k,{key:0,gap:2,wrap:!0},{default:d(()=>[(g(!0),y(Z,null,q(s(u.id),f=>(g(),y("img",{class:"card-box",src:r(Qe)(f.card.image),key:f.id},null,8,ol))),128))]),_:2},1024)):(g(),R(k,{key:1,gap:2},{default:d(()=>[nl]),_:1}))])}),128))])]),modal_footer:d(()=>[p(_a,{onClick:i[0]||(i[0]=u=>l.$emit("closeModal"))},{default:d(()=>[O(" Close ")]),_:1})]),_:1},8,["modalOpen"])):H("",!0)}}),sl=te({__name:"TimeAgo",props:{created_at:{type:String,required:!0}},setup(a){const e=a,t=W();kt(()=>{t.value=o(),setInterval(()=>{t.value=o()},6e4)});const o=()=>{const s=new Date,l=new Date(e.created_at),i=Math.floor((s.getTime()-l.getTime())/1e3);if(i<60)return"less a minute ago";if(i<3600){const u=Math.floor(i/60);return`${u} ${u===1?"minute":"minutes"} ago`}else if(i<86400){const u=Math.floor(i/3600);return`${u} ${u===1?"hour":"hours"} ago`}else{const u=Math.floor(i/86400);return`${u} ${u===1?"day":"days"} ago`}};return(s,l)=>Y(t.value)}}),ll={class:"font-bold text-dark"},il={class:"text-gray-800 text-sm text-right"},dl=te({__name:"ChatMessage",props:{isActiveUserMessage:{type:Boolean,default:!1},data:{type:Object,required:!0}},setup(a){return(e,t)=>(g(),R(k,{justify:a.isActiveUserMessage?"start":"end"},{default:d(()=>[p(k,{class:P(["py-2 px-4 rounded-3xl w-96",a.isActiveUserMessage?"bg-primary":"bg-light-blue"]),column:!0},{default:d(()=>{var o,s,l;return[n("span",ll,Y((o=a.data)==null?void 0:o.user.username)+":",1),n("div",null,Y((s=a.data)==null?void 0:s.message),1),n("div",il,[p(sl,{created_at:(l=a.data)==null?void 0:l.created_at.toString()},null,8,["created_at"])])]}),_:1},8,["class"])]),_:1},8,["justify"]))}}),ul=Yt(),cl=Ae(),hl=ga("ChatStore",{state:()=>({message:"",messages:[],unreadMessages:0,room:cl.room,isChatOpen:!1}),getters:{getMessages:a=>a.messages},actions:{_sendMessage(){if(this.$state.message.length>0){const a={message:this.$state.message,room:this.$state.room,user:ul.user};re.emit("sendMessage",{data:a},e=>{e.status===200&&(this.$state.message="")})}},toggleChatMessenger(){this.$state.isChatOpen||(this.$state.unreadMessages=0),this.$state.isChatOpen=!this.$state.isChatOpen}}}),fl=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-12 h-12",viewBox:"0 0 16 16"},[n("path",{d:"M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})],-1),pl={key:0,class:"absolute inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-red-500 border-2 border-white rounded-full -top-2 -right-2 dark:border-gray-900"},ml={key:1,class:"h-full relative bg-dark-smooth rounded-3xl p-4"},gl=n("div",{class:"text-2xl px-2 font-bold"}," Table Chat ",-1),vl=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-8 h-8",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"})],-1),bl=[vl],wl=n("button",{type:"submit",class:"w-8 h-8 mr-8 absolute right-3 cursor-pointer"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-8 h-8 mr-8 cursor-pointer hover:text-primary transition duration-300 hover:scale-110",viewBox:"0 0 16 16"},[n("path",{d:"M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083l6-15Zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471-.47 1.178Z"})])],-1),_l=te({__name:"RoomChat",setup(a){const e=W(""),t=hl(),o=Yt(),s=Ae();return ba(()=>{t.room=s.room,re.on("getSendMessage",l=>{l&&(t.messages.unshift(l),t.isChatOpen||t.unreadMessages++)})}),et(()=>t.message,l=>{e.value=l}),wa(()=>{re.off("getSendMessage"),t.messages=[],t.message="",t.unreadMessages=0}),(l,i)=>(g(),y("div",{class:P(["fixed bottom-10 left-10 transition-height ease duration-1000 z-[2147483640]",r(t).isChatOpen?"w-[500px] h-[600px]":"w-[50px] h-[50px]"])},[r(t).isChatOpen?(g(),y("div",ml,[p(k,{justify:"between",column:!0,class:"h-full",gap:6},{default:d(()=>[p(k,{justify:"between"},{default:d(()=>[gl,n("div",{class:"cursor-pointer hover:text-primary duration-300 transition hover:scale-110",onClick:i[1]||(i[1]=u=>r(t).toggleChatMessenger())},bl)]),_:1}),r(t).getMessages.length>0?(g(),R(k,{key:0,class:"bottom-5 left-6 bg-dark rounded-3xl w-full p-4 h-full overflow-y-auto scroll-smooth",columnReverse:!0,gap:4},{default:d(()=>[(g(!0),y(Z,null,q(r(t).getMessages,u=>(g(),R(dl,{data:u,key:u.id,isActiveUserMessage:u.user.id===r(o).user.id},null,8,["data","isActiveUserMessage"]))),128))]),_:1})):(g(),R(k,{key:1,justify:"center",items:"center",class:"text-xl bottom-5 left-6 bg-dark rounded-3xl w-full p-4 h-full overflow-y-auto scroll-smooth",columnReverse:!0,gap:4},{default:d(()=>[O(" No messages ")]),_:1})),n("form",{onSubmit:i[4]||(i[4]=xe(u=>r(t)._sendMessage(),["prevent"]))},[p(k,{justify:"center",items:"center",class:"bg-dark bottom-5 rounded-3xl left-6 w-full",gap:4},{default:d(()=>[Ba(n("input",{"onUpdate:modelValue":i[2]||(i[2]=u=>e.value=u),onInput:i[3]||(i[3]=u=>r(t).message=e.value),class:"w-full bg-dark rounded-3xl p-4 focus:outline-none focus:ring-2 transition duration-300 focus:ring-primary focus:ring-opacity-50",placeholder:"Type your message..."},null,544),[[Ua,e.value]]),wl]),_:1})],32)]),_:1})])):(g(),R(k,{key:0,justify:"start"},{default:d(()=>[n("div",{class:"cursor-pointer hover:text-primary duration-300 transition hover:scale-110 relative",onClick:i[0]||(i[0]=u=>r(t).toggleChatMessenger())},[fl,r(t).unreadMessages>0?(g(),y("div",pl,Y(r(t).unreadMessages),1)):H("",!0)])]),_:1}))],2))}}),yl={class:"rounded-2xl bg-primary px-12 py-6 text-4xl italic"},xl={class:"mt-6 text-xl italic"},kl={class:"mt-6 text-base italic"},Cl={key:0,class:"text-red-500 text-xl mt-6"},$l=te({__name:"TableStatusMessage",props:{title:{type:String,required:!0},message:{type:String,required:!0},leaverUsers:{type:Array,required:!0}},emits:["openInfoModal"],setup(a,{emit:e}){return(t,o)=>(g(),R(k,{class:"one-page bg-dark",items:"center",justify:"center",column:!0},{default:d(()=>[n("div",yl,Y(a.title),1),n("div",xl,Y(a.message),1),n("div",kl,[O(" *While you wait, check "),n("span",{class:"underline cursor-pointer hover:text-primary transition duration-300",onClick:o[0]||(o[0]=s=>t.$emit("openInfoModal"))},"how you play"),O(" the game ")]),a.leaverUsers.length>0?(g(),y("div",Cl," Waiting for: "+Y(a.leaverUsers.join(", ")),1)):H("",!0)]),_:1}))}}),Tl=n("div",{class:"row"},null,-1),B=te({__name:"InfoIconItem",props:{reverse:{type:Boolean,default:!1}},setup(a){return(e,t)=>(g(),R(k,{items:"center",gap:8,class:P([(a.reverse,""),"mb-4 border-l-4 border-primary pl-4"])},{default:d(()=>[Tl,va(e.$slots,"default")]),_:3},8,["class"]))}}),Ml="/assets/player-playing.0b835fe5.png",Sl="/assets/player-not-playing.48c91db7.png",El="/assets/hidden-card.b0b058e8.png",Dl="/assets/hidden-card-table.b8081a3e.png",Al="/assets/show-card.106e6230.png",Il=n("div",{class:"text-xl mb-6 text-center italic"}," How to play the game and how to use your tools ",-1),zl=n("svg",{fill:"currentColor",class:"w-8 h-8",viewBox:"0 0 16 16"},[n("path",{d:"M8.5.069A15.328 15.328 0 0 0 7 0c-.593 0-1.104.157-1.527.463-.418.302-.717.726-.93 1.208-.386.873-.522 2.01-.54 3.206l4.497 1V.069zM3.71 5.836 3.381 6A2.5 2.5 0 0 0 2 8.236v2.576C2 13.659 4.22 16 7 16h2c2.78 0 5-2.342 5-5.188V8.123l-9-2v.003l.008.353c.007.3.023.715.053 1.175.063.937.186 2.005.413 2.688a.5.5 0 1 1-.948.316c-.273-.817-.4-2-.462-2.937A30.16 30.16 0 0 1 4 6.003c0-.034.003-.067.01-.1l-.3-.067zM14 7.1V5.187c0-1.13-.272-2.044-.748-2.772-.474-.726-1.13-1.235-1.849-1.59A7.495 7.495 0 0 0 9.5.212v5.887l4.5 1z"})],-1),Pl=n("svg",{fill:"currentColor",class:"w-8 h-8",viewBox:"0 0 16 16"},[n("path",{d:"M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})],-1),Ol=n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"w-8 h-8",viewBox:"0 0 16 16"},[n("path",{"fill-rule":"evenodd",d:"M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2zM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10zM.146 8.354a.5.5 0 0 1 0-.708l2-2a.5.5 0 1 1 .708.708L1.707 7.5H5.5a.5.5 0 0 1 0 1H1.707l1.147 1.146a.5.5 0 0 1-.708.708l-2-2zM10 8a.5.5 0 0 1 .5-.5h3.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L14.293 8.5H10.5A.5.5 0 0 1 10 8z"})],-1),Nl=n("div",null," You can move the player tools anywhere to the screen ",-1),Rl=n("svg",{fill:"currentColor",class:"w-8 h-8",viewBox:"0 0 16 16"},[n("path",{d:"m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7.029 7.029 0 0 0 2.79-.588zM5.21 3.088A7.028 7.028 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474L5.21 3.089z"}),n("path",{d:"M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829l-2.83-2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12-.708.708z"})],-1),Gl=n("div",null," You can hide a card from other players",-1),Ll=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300",viewBox:"0 0 16 16"},[n("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"}),n("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"})],-1),Vl=n("div",null," You can show a card to other players",-1),Hl=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300",viewBox:"0 0 16 16"},[n("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"}),n("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"})],-1),Bl=n("div",null," You can rotate a card to the right",-1),Ul=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300",viewBox:"0 0 16 16"},[n("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"}),n("path",{d:"M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"})],-1),jl=n("div",null,"You can rotate a card to the left",-1),Fl=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300",viewBox:"0 0 16 16"},[n("path",{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514ZM11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),n("path",{d:"M2 13c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Z"})],-1),Yl=n("div",null,"The icon show that user is playing. If you click the icon you will end your turn and won't be able to move a card",-1),Zl=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300",viewBox:"0 0 16 16"},[n("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"})],-1),Wl=n("div",null," You can set your turn to be able to move a card",-1),Xl=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300",viewBox:"0 0 16 16"},[n("path",{d:"M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-9 8c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Zm9.886-3.54c.18-.613 1.048-.613 1.229 0l.043.148a.64.64 0 0 0 .921.382l.136-.074c.561-.306 1.175.308.87.869l-.075.136a.64.64 0 0 0 .382.92l.149.045c.612.18.612 1.048 0 1.229l-.15.043a.64.64 0 0 0-.38.921l.074.136c.305.561-.309 1.175-.87.87l-.136-.075a.64.64 0 0 0-.92.382l-.045.149c-.18.612-1.048.612-1.229 0l-.043-.15a.64.64 0 0 0-.921-.38l-.136.074c-.561.305-1.175-.309-.87-.87l.075-.136a.64.64 0 0 0-.382-.92l-.148-.045c-.613-.18-.613-1.048 0-1.229l.148-.043a.64.64 0 0 0 .382-.921l-.074-.136c-.306-.561.308-1.175.869-.87l.136.075a.64.64 0 0 0 .92-.382l.045-.148ZM14 12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"})],-1),ql=n("div",null,"You can choose a status from the available custom status",-1),Jl=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300",viewBox:"0 0 16 16"},[n("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"})],-1),Kl=n("div",null,"You can see the points that have all the players at the table",-1),Ql=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300 group-hover:text-dark",viewBox:"0 0 16 16"},[n("path",{d:"M8.5 1.75v2.716l.047-.002c.312-.012.742-.016 1.051.046.28.056.543.18.738.288.273.152.456.385.56.642l.132-.012c.312-.024.794-.038 1.158.108.37.148.689.487.88.716.075.09.141.175.195.248h.582a2 2 0 0 1 1.99 2.199l-.272 2.715a3.5 3.5 0 0 1-.444 1.389l-1.395 2.441A1.5 1.5 0 0 1 12.42 16H6.118a1.5 1.5 0 0 1-1.342-.83l-1.215-2.43L1.07 8.589a1.517 1.517 0 0 1 2.373-1.852L5 8.293V1.75a1.75 1.75 0 0 1 3.5 0z"})],-1),ei=n("div",null," You can get all the cards from a chosen deck",-1),ti=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300 group-hover:text-dark",viewBox:"0 0 56 56"},[n("path",{d:`M57.832,26.926l-8-12c-0.186-0.278-0.498-0.445-0.832-0.445H9c-0.335,0-0.646,0.167-0.832,0.445l-8,12\r
        		c-0.205,0.307-0.224,0.701-0.05,1.026C0.292,28.278,0.631,28.481,1,28.481h6v15.038h2V28.481h5v6h2v-6h27v6h2v-6h5v15.038h2V28.481\r
        		h5c0.369,0,0.708-0.203,0.882-0.528C58.056,27.627,58.037,27.233,57.832,26.926z M2.869,26.481l6.666-10h38.93l6.667,10H2.869z`})],-1),ai=n("div",null," You can move all the cards from the table to a chosen deck",-1),oi=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300 group-hover:text-dark",viewBox:"0 0 16 16"},[n("path",{d:"M11.5 12.5a3.493 3.493 0 0 1-2.684-1.254 19.92 19.92 0 0 0 1.582 2.907c.231.35-.02.847-.438.847H6.04c-.419 0-.67-.497-.438-.847a19.919 19.919 0 0 0 1.582-2.907 3.5 3.5 0 1 1-2.538-5.743 3.5 3.5 0 1 1 6.708 0A3.5 3.5 0 1 1 11.5 12.5z"})],-1),ni=n("div",null," You can give a card to other player straight to his hand",-1),ri=["src"],si=["src"],li=["src"],ii=["src"],di=["src"],ui=te({__name:"HowToPlay",setup(a){return(e,t)=>(g(),y(Z,null,[Il,p(B,null,{default:d(()=>[zl,O(" You can move a card with your mouse ")]),_:1}),p(B,{reverse:!0},{default:d(()=>[Pl,O(" You can chat with other players to the room ")]),_:1}),p(B,null,{default:d(()=>[Ol,Nl]),_:1}),p(B,{reverse:!0},{default:d(()=>[Rl,Gl]),_:1}),p(B,null,{default:d(()=>[Ll,Vl]),_:1}),p(B,{reverse:!0},{default:d(()=>[Hl,Bl]),_:1}),p(B,null,{default:d(()=>[Ul,jl]),_:1}),p(B,{reverse:!0},{default:d(()=>[Fl,Yl]),_:1}),p(B,null,{default:d(()=>[Zl,Wl]),_:1}),p(B,{reverse:!0},{default:d(()=>[Xl,ql]),_:1}),p(B,null,{default:d(()=>[Jl,Kl]),_:1}),p(B,{reverse:!0},{default:d(()=>[Ql,ei]),_:1}),p(B,null,{default:d(()=>[ti,ai]),_:1}),p(B,{reverse:!0},{default:d(()=>[oi,ni]),_:1}),p(B,null,{default:d(()=>[n("img",{src:r(Al),class:"w-20 h-32"},null,8,ri),O(" When the card in your hand is without eye, the card is hidden to other players ")]),_:1}),p(B,null,{default:d(()=>[n("img",{src:r(El),class:"w-20 h-32"},null,8,si),O(" When the card in your hand has the eye, the card is visible to other players ")]),_:1}),p(B,null,{default:d(()=>[n("img",{src:r(Dl),class:"w-20 h-32"},null,8,li),O(" When the card has this image, the card is hidden from all player to the table ")]),_:1}),p(B,null,{default:d(()=>[n("img",{src:r(Sl),class:"w-80"},null,8,ii),O(" Player tools. When the background is black the player is waiting for his turn ")]),_:1}),p(B,null,{default:d(()=>[n("img",{src:r(Ml),class:"w-80"},null,8,di),O(" Player tools. When the background is green the player is playing ")]),_:1})],64))}}),ci=ja('<div><div class="text-xl mb-6 text-center italic"> As a game master you can control the whole game. </div><div class="text-xl font-semibold mb-2"> Functionalities: </div><div class="mb-1 border-l-4 border-primary px-4"> You can start, pause, edit or stop the game. </div><div class="mb-1 border-l-4 border-primary px-4"> You can do any move with the cards in all the game. </div><div class="mb-1 border-l-4 border-primary px-4"> You can add, edit or delete the points for the game </div><div class="mb-1 border-l-4 border-primary px-4"> You can choose the next or previous player </div><div class="mb-1 border-l-4 border-primary px-4"> You can choose the row that the players will play to the game </div><div class="mb-1 border-l-4 border-primary px-4"> You can choose role, status or team to the players before or at the same time of the game </div><div class="mb-1 border-l-4 border-primary px-4"> You can shuffle a deck </div><div class="mb-1 border-l-4 border-primary px-4"> You can show all the cards of the game to the users </div><div class="mb-1 border-l-4 border-primary px-4"> You can undo or redo a move of a player with max 10 movements </div><div class="mb-1 border-l-4 border-primary px-4"> You can remove one or all players from the room </div></div><div class="text-xl font-semibold mt-4 mb-3"> Actions: </div>',2),hi=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"})],-1),fi=n("div",null,"New Game",-1),pi=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.25 5C5.56 5 5 5.56 5 6.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C7.5 5.56 6.94 5 6.25 5zm3.5 0c-.69 0-1.25.56-1.25 1.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C11 5.56 10.44 5 9.75 5z"})],-1),mi=n("div",null,"Pause Game",-1),gi=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"})],-1),vi=n("div",null,"Resume Game",-1),bi=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),n("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})],-1),wi=n("div",null,"Edit Game",-1),_i=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.5 5A1.5 1.5 0 0 0 5 6.5v3A1.5 1.5 0 0 0 6.5 11h3A1.5 1.5 0 0 0 11 9.5v-3A1.5 1.5 0 0 0 9.5 5h-3z"})],-1),yi=n("div",null,"Stop Game",-1),xi=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M2.5 15a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11zm2-13v1c0 .537.12 1.045.337 1.5h6.326c.216-.455.337-.963.337-1.5V2h-7zm3 6.35c0 .701-.478 1.236-1.011 1.492A3.5 3.5 0 0 0 4.5 13s.866-1.299 3-1.48V8.35zm1 0v3.17c2.134.181 3 1.48 3 1.48a3.5 3.5 0 0 0-1.989-3.158C8.978 9.586 8.5 9.052 8.5 8.351z"})],-1),ki=n("div",null,"Search for a new players when game has finished",-1),Ci=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M1.5 15a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1H13V2.5A1.5 1.5 0 0 0 11.5 1H11V.5a.5.5 0 0 0-.57-.495l-7 1A.5.5 0 0 0 3 1.5V15H1.5zM11 2h.5a.5.5 0 0 1 .5.5V15h-1V2zm-2.5 8c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1z"})],-1),$i=n("div",null,"Exit all the players from the table",-1),Ti=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.79-2.907L8.5 7.028V5.5a.5.5 0 0 0-.79-.407L5 7.028V5.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0V8.972l2.71 1.935a.5.5 0 0 0 .79-.407V8.972l2.71 1.935A.5.5 0 0 0 12 10.5v-5a.5.5 0 0 0-.79-.407z"})],-1),Mi=n("div",null,"Set the previous player at the row as playing",-1),Si=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.79 5.093A.5.5 0 0 0 4 5.5v5a.5.5 0 0 0 .79.407L7.5 8.972V10.5a.5.5 0 0 0 .79.407L11 8.972V10.5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-1 0v1.528L8.29 5.093a.5.5 0 0 0-.79.407v1.528L4.79 5.093z"})],-1),Ei=n("div",null,"Set the next player at the row as playing",-1),Di=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"})],-1),Ai=n("div",null,"Show all the cards to all the players",-1),Ii=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{"fill-rule":"evenodd",d:"M0 3.5A.5.5 0 0 1 .5 3H1c2.202 0 3.827 1.24 4.874 2.418.49.552.865 1.102 1.126 1.532.26-.43.636-.98 1.126-1.532C9.173 4.24 10.798 3 13 3v1c-1.798 0-3.173 1.01-4.126 2.082A9.624 9.624 0 0 0 7.556 8a9.624 9.624 0 0 0 1.317 1.918C9.828 10.99 11.204 12 13 12v1c-2.202 0-3.827-1.24-4.874-2.418A10.595 10.595 0 0 1 7 9.05c-.26.43-.636.98-1.126 1.532C4.827 11.76 3.202 13 1 13H.5a.5.5 0 0 1 0-1H1c1.798 0 3.173-1.01 4.126-2.082A9.624 9.624 0 0 0 6.444 8a9.624 9.624 0 0 0-1.317-1.918C4.172 5.01 2.796 4 1 4H.5a.5.5 0 0 1-.5-.5z"}),n("path",{d:"M13 5.466V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192zm0 9v-3.932a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192z"})],-1),zi=n("div",null,"Click a deck and shuffle it",-1),Pi=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM7.729 5.055A.5.5 0 0 1 8 5.5v1.886l3.21-2.293A.5.5 0 0 1 12 5.5v5a.5.5 0 0 1-.79.407L8 8.614V10.5a.5.5 0 0 1-.79.407l-3.5-2.5a.5.5 0 0 1 0-.814l3.5-2.5a.5.5 0 0 1 .519-.038Z"})],-1),Oi=n("div",null,"Undo a movement",-1),Ni=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM4.79 5.093 8 7.386V5.5a.5.5 0 0 1 .79-.407l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 8 10.5V8.614l-3.21 2.293A.5.5 0 0 1 4 10.5v-5a.5.5 0 0 1 .79-.407Z"})],-1),Ri=n("div",null,"Redo a movement",-1),Gi=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"})],-1),Li=n("div",null,"New Game",-1),Vi=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"})],-1),Hi=n("div",null,"Open the points table to edit it",-1),Bi=n("svg",{fill:"#fff",viewBox:"0 0 16 16",class:"fill-black transition duration-300 h-8 w-8 focus:outline-none"},[n("path",{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"}),n("path",{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"})],-1),Ui=n("div",null,"Click the tool to keep it open or close the Game Master menu",-1),ji=te({__name:"HowToBeTheGameMaster",setup(a){return(e,t)=>(g(),y(Z,null,[ci,p(B,null,{default:d(()=>[hi,fi]),_:1}),p(B,null,{default:d(()=>[pi,mi]),_:1}),p(B,null,{default:d(()=>[gi,vi]),_:1}),p(B,null,{default:d(()=>[bi,wi]),_:1}),p(B,null,{default:d(()=>[_i,yi]),_:1}),p(B,null,{default:d(()=>[xi,ki]),_:1}),p(B,null,{default:d(()=>[Ci,$i]),_:1}),p(B,null,{default:d(()=>[Ti,Mi]),_:1}),p(B,null,{default:d(()=>[Si,Ei]),_:1}),p(B,null,{default:d(()=>[Di,Ai]),_:1}),p(B,null,{default:d(()=>[Ii,zi]),_:1}),p(B,null,{default:d(()=>[Pi,Oi]),_:1}),p(B,null,{default:d(()=>[Ni,Ri]),_:1}),p(B,null,{default:d(()=>[Gi,Li]),_:1}),p(B,null,{default:d(()=>[Vi,Hi]),_:1}),p(B,null,{default:d(()=>[Bi,Ui]),_:1})],64))}}),Fi={class:"absolute top-10 left-10"},Yi=n("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"},null,-1),Zi=[Yi],Wi=n("span",{class:"text-primary"},"Game",-1),Xi=n("span",{class:"text-primary"}," play",-1),qi=n("span",{class:"text-primary"}," Game Master ",-1),Ji={class:"max-h-[450px] h-[450px] overflow-y-auto p-2 pt-10"},Ki={key:0,class:"h-full"},Qi={key:0},e1={class:"text-primary ml-1"},t1={class:"text-primary ml-1"},a1={key:1},o1={key:2},n1=te({__name:"Info",props:{gameDescription:{type:String},gameDesigner:{type:Object,required:!0},gameMaster:{type:Object,required:!0},modalOpen:{type:Boolean,required:!0}},emits:["closeModal","openModal"],setup(a,{emit:e}){const t=W(0);return(o,s)=>(g(),y(Z,null,[n("div",Fi,[(g(),y("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"w-6 h-6 hover:text-primary transition duration-300 cursor-pointer hover:scale-110",onClick:s[0]||(s[0]=l=>o.$emit("openModal")),viewBox:"0 0 16 16"},Zi))]),p(vt,{modalOpen:a.modalOpen,onCloseModal:s[4]||(s[4]=l=>o.$emit("closeModal")),class:"text-black z-[2147483640]"},{modal_header:d(()=>[O(" Info ")]),body:d(()=>[p(k,{justify:"between",items:"center"},{default:d(()=>[n("div",{class:P(["cursor-pointer py-3 px-2 border-b hover:text-secondary hover:border-secondary transition duration-300",t.value===0?"border-primary":"border-transparent"]),onClick:s[1]||(s[1]=l=>t.value=0)},[Wi,O(" description ")],2),n("div",{class:P(["cursor-pointer py-3 px-2 hover:text-secondary hover:border-secondary border-b transition duration-300",t.value===1?"border-primary":"border-transparent"]),onClick:s[2]||(s[2]=l=>t.value=1)},[O(" How to"),Xi],2),n("div",{class:P(["cursor-pointer py-3 px-2 hover:text-secondary hover:border-secondary border-b transition duration-300",t.value===2?"border-primary":"border-transparent"]),onClick:s[3]||(s[3]=l=>t.value=2)},[O(" How to be the "),qi],2)]),_:1}),n("div",Ji,[t.value===0?(g(),y("div",Ki,[p(k,{class:"h-full",column:!0,justify:"between"},{default:d(()=>[a.gameDescription?(g(),y("div",Qi,Y(a.gameDescription),1)):H("",!0),a.gameDesigner&&a.gameMaster?(g(),R(k,{key:1,justify:"between"},{default:d(()=>[p(k,null,{default:d(()=>[O(" Game Master of the game"),n("span",e1,Y(a.gameDesigner.name),1)]),_:1}),p(k,null,{default:d(()=>[O(" Game Designer of the game"),n("span",t1,Y(a.gameMaster.name),1)]),_:1})]),_:1})):H("",!0)]),_:1})])):H("",!0),t.value===1?(g(),y("div",a1,[p(ui)])):H("",!0),t.value===2?(g(),y("div",o1,[p(ji)])):H("",!0)])]),_:1},8,["modalOpen"])],64))}}),r1={class:"w-5/6 overflow-auto text-white relative"},y1=te({__name:"RoomView",setup(a){const e=Fa(),t=Ae(),o=Yt(),s=W(!1),l=W(!1),i=W(1),u=W(!1),c=ma(),f=qt(),h=W(!1),b=W([]);t.room=e.params.id.toString(),t.table?t._joinTable(t.room):$t.push({name:"lobby"});const T=W(["getTurnTableUsers","getUpdateTableUser","getStartGameDetails","exitUsersFromTable","getTableGameStatus","getShowAllCards","getUpdateCard","getShuffleDeck","getUpdateRankRow"]),A=()=>{var v,m,w,_,$;f.room=(v=t.room)!=null?v:"",f.tableId=(w=(m=t.table)==null?void 0:m.id)!=null?w:null,f.addTableUsers(($=(_=t.table)==null?void 0:_.table_users)!=null?$:[])};ba(()=>{t.setGameMaster(),re.on("getTableUsers",v=>{var m,w,_;v.public_url===t.room&&v.table_users&&(t.table={...v},(t.table.status===x.PLAYER_DISCONNECTED||t.table.status===x.PLAYER_LEAVE)&&(b.value=(w=(m=t.table.table_users)==null?void 0:m.filter(M=>M.socket_status===aa.LEAVE||M.socket_status===aa.DISCONNECT).map(M=>{var D;return(D=M.user.username)!=null?D:null}))!=null?w:[]),t.table.status===x.PLAYING&&(b.value=[]),(_=t.table.table_users)!=null&&_.find(M=>M.user.id===o.user.id)||(c.info(`Player ${o.user.username} has remove from Game Master`),$t.push({name:"lobby"})))}),re.on("getTurnTableUsers",v=>{var w,_,$;t.table&&v&&(t.table.table_users=v);const m=(_=(w=t.table)==null?void 0:w.table_users)==null?void 0:_.find(M=>M.playing===!0);m&&(m.id===(($=t.getExistTableUser)==null?void 0:$.id)?c.success("It's your turn",{position:Qt.TOP_CENTER}):c.info(`Player ${m.user.username} is playing`,{position:Qt.TOP_CENTER,timeout:3e3}))}),re.on("getUpdateTableUser",v=>{var m,w,_,$,M,D,S;if(v){const N=(w=(m=t.table)==null?void 0:m.table_users)==null?void 0:w.map(F=>F.id).indexOf(v.id);if(t.table&&N!==void 0){if(!((_=t.table.table_users[N])!=null&&_.status)&&(v==null?void 0:v.status)||(($=t.table.table_users[N].status)==null?void 0:$.id)!==((M=v==null?void 0:v.status)==null?void 0:M.id)){const F=(D=v.status)!=null&&D.name?`${v.user.username} update his status to "${(S=v.status)==null?void 0:S.name}"`:`${v.user.username} has remove his status`;c.info(F)}t.table.table_users[N]=v}}}),re.on("getStartGameDetails",(v,m)=>{var w,_,$,M;if(v){const D=((w=t.table)==null?void 0:w.status)===x.WAITING;t.table=v,z();const S=((_=t.table)==null?void 0:_.status)===x.PLAYING;S&&D&&(A(),t.refUndoHistory=[],t.refRedoHistory=[]),S&&t.deckReferences.junk&&([t.dropZones.junk[0].element,t.dropZones.user[0].element,t.dropZones.table[0].element]=[t.deckReferences.junk,t.deckReferences.user,t.deckReferences.table],t.zIndex=(M=($=t.cards)==null?void 0:$.reduce((N,F)=>F.z_index>N?F.z_index:N,0))!=null?M:1,t.zIndex++)}m&&(t.cards=m)}),re.on("exitUsersFromTable",()=>{t.room=null,t.gameMaster=!1,t.table=null,t.cards=null,h.value=!0,c.info("Game master has remove you from the table"),$t.push({name:"lobby"})}),re.on("getTableGameStatus",(v,m)=>{v&&m===t.room&&(t.table={...v},v.status===x.PAUSE&&c.info("Game has paused"),v.status===x.PLAYING&&c.info("Game has start"),v.status===x.GAME_MASTER_EDIT&&c.info("The game master is preparing the table"),v.status===x.FINISH&&c.info("Game has end"),v.status===x.PLAYER_LEAVE&&c.info("Player has leave the game"),v.status===x.PLAYER_DISCONNECTED&&c.info("Player has lost his connection"))}),re.on("getShowAllCards",v=>{v&&(l.value=v)}),re.on("getUpdateCard",v=>{var m,w;v&&(E(v),t.zIndex=(w=(m=t.cards)==null?void 0:m.reduce((_,$)=>$.z_index>_?$.z_index:_,0))!=null?w:1,t.zIndex++)}),re.on("getShuffleDeck",(v,m)=>{var w,_,$,M;if(v){v.forEach(S=>{E(S)});const D=(M=($=(_=(w=t.table)==null?void 0:w.table_decks)==null?void 0:_.find(S=>S.id===m))==null?void 0:$.deck)==null?void 0:M.name;c.info(`Game Master has shuffle the deck "${D}"`)}}),re.on("getUpdateRankRow",(v,m)=>{if(v)if(m===f.nextRow)f.rankPoints.push(v);else{const w=f.rankPoints.findIndex(_=>_.some($=>$.row===m));f.rankPoints[w]=v}else{const w=f.rankPoints.findIndex(_=>_.some($=>$.row===m));f.rankPoints=f.rankPoints.filter((_,$)=>$!==w)}t.rank.notification=!0})});const E=v=>{const m=t.replaceCard(v);m&&(t.updateUndoHistory(m),t.removeRedoHistoryMovement())},z=()=>{var v,m;t.resetDropZones(),(m=(v=t.table)==null?void 0:v.table_decks)==null||m.forEach(w=>{switch(w.type){case ve.DECK:t.dropZones.deck.push({tableDeckId:w.id,element:null});break;case ve.JUNK:t.dropZones.junk.push({tableDeckId:w.id,element:null});break;case ve.TABLE:t.dropZones.table.push({tableDeckId:w.id,element:null});break;case ve.USER:w.id===t.getExistPlayerTableDeckId&&t.dropZones.user.push({tableDeckId:w.id,element:null});break}})},I=W([{status:x.WAITING,title:"Game not started yet",message:"...waiting from Game Master to start the game"},{status:x.PAUSE,title:"Game Paused",message:"...waiting from Game Master to resume the game"},{status:x.GAME_MASTER_EDIT,title:"Game edit from Game Master",message:"..waiting from Game Master to finish with the configure of the table"},{status:x.FINISH,title:"Game has ended",message:"...waiting from Game Master to start the game"},{status:x.PLAYER_LEAVE,title:"Player has left the game",message:"...waiting for player to join or to Game Master to start new game"},{status:x.PLAYER_DISCONNECTED,title:"Player has lost his connection",message:"...waiting for player to join or to Game Master to start new game"}]);return wa(()=>{t.room=null,t.gameMaster=!1,t.cards=null,t.refUndoHistory=[],t.refRedoHistory=[],t.leaverPlayer.table=null,h.value||t._leaveTable(),T.value.forEach(v=>{re.off(v)})}),(v,m)=>{var w,_,$,M,D;return g(),y(Z,null,[p(k,{class:"relative one-page w-full bg-dark"},{default:d(()=>{var S,N,F,ae,Q,le,me,Te;return[n("div",r1,[((S=r(t).table)==null?void 0:S.status)===r(x).PLAYING||r(t).gameMaster&&((N=r(t).table)==null?void 0:N.status)===r(x).GAME_MASTER_EDIT?(g(),R(el,{key:0})):(g(!0),y(Z,{key:1},q(I.value,({status:ce,title:Ne,message:Ie})=>(g(),R(k,{key:ce,items:"center",justify:"center"},{default:d(()=>{var ot;return[((ot=r(t).table)==null?void 0:ot.status)===ce?(g(),R($l,{key:0,title:Ne,message:Ie,onOpenInfoModal:m[0]||(m[0]=Oa=>u.value=!0),"leaver-users":b.value},null,8,["title","message","leaver-users"])):H("",!0)]}),_:2},1024))),128)),p(n1,{"game-description":(ae=(F=r(t).table)==null?void 0:F.game)==null?void 0:ae.description,"modal-open":u.value,onCloseModal:m[1]||(m[1]=ce=>u.value=!1),onOpenModal:m[2]||(m[2]=ce=>u.value=!0),"game-designer":{name:(le=(Q=r(t).table)==null?void 0:Q.creator)==null?void 0:le.username},"game-master":{name:(Te=(me=r(t).table)==null?void 0:me.game_master)==null?void 0:Te.username}},null,8,["game-description","modal-open","game-designer","game-master"]),p(_l)]),p(Cr,{class:"w-1/6 overflow-x-auto"})]}),_:1}),r(t).gameMaster?(g(),R($o,{key:0,onOpenSettings:m[3]||(m[3]=S=>{i.value=S,s.value=!0}),onStopGame:m[4]||(m[4]=S=>r(t)._stopGame()),onExitTable:m[5]||(m[5]=S=>r(t)._exitTable()),onNewGame:m[6]||(m[6]=S=>r(t)._newGame()),onUpdateTableGameStatus:m[7]||(m[7]=S=>r(t)._updateTableGameStatus(S)),onShowAllCards:m[8]||(m[8]=S=>r(t)._showAllCards()),onSetNextPlayer:m[9]||(m[9]=S=>r(t)._setNextPlayer(S)),onShuffleDeck:m[10]||(m[10]=S=>r(t)._shuffleDeck()),onHistoryMovement:m[11]||(m[11]=S=>r(t).historyMovement(S))})):H("",!0),r(t).gameMaster&&((w=r(t).table)==null?void 0:w.table_users)?(g(),R(ur,{key:1,"table-users":(_=r(t).table)==null?void 0:_.table_users,"table-status":{status:($=r(t).table)==null?void 0:$.status},table:r(t).table||void 0,"modal-open":s.value,onCloseModal:m[12]||(m[12]=S=>s.value=!1),onUpdateTurnTableUsers:m[13]||(m[13]=S=>r(t)._updateTurnTableUsers(S)),onUpdateRole:m[14]||(m[14]=(S,N)=>r(t)._setRoleTableUser(S,N)),onUpdateStatus:m[15]||(m[15]=(S,N)=>r(t)._setStatusTableUser(S,N)),onUpdateTeam:m[16]||(m[16]=(S,N)=>r(t)._setTeamTableUser(S,N)),onStopGame:m[17]||(m[17]=S=>r(t)._stopGame()),onExitTable:m[18]||(m[18]=S=>r(t)._exitTable()),onNewGame:m[19]||(m[19]=S=>r(t)._newGame()),onUpdateTableGameStatus:m[20]||(m[20]=S=>r(t)._updateTableGameStatus(S)),onShowAllCards:m[21]||(m[21]=S=>r(t)._showAllCards()),"menu-tab":i.value,onRemovePlayer:m[22]||(m[22]=S=>r(t)._removePlayer(S)),onSetNextPlayer:m[23]||(m[23]=S=>r(t)._setNextPlayer(S))},null,8,["table-users","table-status","table","modal-open","menu-tab"])):H("",!0),r(t).cards&&((M=r(t).table)==null?void 0:M.table_decks)?(g(),R(rl,{key:2,"is-modal-open":l.value,cards:r(t).cards,"table-decks":(D=r(t).table)==null?void 0:D.table_decks,onCloseModal:m[24]||(m[24]=S=>l.value=!1)},null,8,["is-modal-open","cards","table-decks"])):H("",!0)],64)}}});export{y1 as default};
