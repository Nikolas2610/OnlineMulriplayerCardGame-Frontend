import{_ as n}from"./InputField.vue_vue_type_script_setup_true_lang.e4fa174b.js";import{d as $,a as C,u as P,b,r as k,e as T,f as L,o as p,c as w,h as r,i as l,j as s,l as M}from"./index.e533216c.js";import{c as o,u as S,r as c,m as g,e as B,s as U}from"./index.esm.00e34f9e.js";const V={class:"flex min-h-full flex-col justify-center py-12 sm:px-6 lg:px-8 bg-dark one-page"},A={class:"container py-20"},j=r("div",{class:"sm:mx-auto sm:w-full sm:max-w-lg"},[r("h2",{class:"mt-6 text-center text-3xl font-bold tracking-tight text-white"},[M(" Register to Join our "),r("br"),r("span",{class:"text-primary"},"Creative Gave")])],-1),z={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},N={class:"bg-primary py-8 px-4 shadow sm:rounded-lg sm:px-10"},D={class:"space-y-6"},E={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},q=r("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),F=r("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),G=[q,F],H={key:1},K=$({__name:"RegisterPage",setup(J){const e=C(),u=P();b(()=>{e.authToken&&k.push({name:"home"})});const m=T(!1),h=o.regex(/^(?=.*[A-Z]).*$/),f=o.regex(/^(?=.*[a-z])/),x=o.regex(/^(?=.*[0-9])/),v=o.regex(/[-._!"`'#%&,:;<>=@{}~\$\(\)\*\+\/\\\?\[\]\^\|]+/),y=L(()=>({username:{required:c,minLength:g(4)},email:{required:c,email:B},password:{required:c,minLength:g(6),passwordUppercase:o.withMessage("The Password must contain at least one Uppercase character.",h),passwordLowercase:o.withMessage("The Password must contain at least one Lowercase character.",f),passwordDigit:o.withMessage("The Password must contain at least one digit.",x),passwordSpecialCharacter:o.withMessage("The Password must have at least one Special Symbol.",v)},confirmPassword:{required:c,sameAs:U(e.userRegister.password)}})),i=S(y,e.userRegister),_=async()=>{if(m.value=!0,await i.value.$validate(),i.value.$error)u.error("Please complete correct the form");else{const d=await e.register();d==="success"?(i.value.$reset(),u.success(`Registration has been created successfully. We have send an email to ${e.userRegister.email} to verify your email address and activate your account.`,{timeout:1e4}),R()):u.error(`Registration fail. 
${d}`)}m.value=!1},R=()=>{e.userRegister.username="",e.userRegister.email="",e.userRegister.password="",e.userRegister.confirmPassword=""};return(d,t)=>(p(),w("div",V,[r("div",A,[j,r("div",z,[r("div",N,[r("form",D,[l(n,{class:"text-white",input:s(e).userRegister.username,errors:s(i).username.$errors,title:"Username",onChange:t[0]||(t[0]=a=>s(e).userRegister.username=a)},null,8,["input","errors"]),l(n,{class:"text-white",input:s(e).userRegister.email,type:"email",errors:s(i).email.$errors,title:"Email",onChange:t[1]||(t[1]=a=>s(e).userRegister.email=a)},null,8,["input","errors"]),l(n,{class:"text-white",input:s(e).userRegister.password,type:"password",errors:s(i).password.$errors,title:"Password",onChange:t[2]||(t[2]=a=>s(e).userRegister.password=a)},null,8,["input","errors"]),l(n,{class:"text-white",input:s(e).userRegister.confirmPassword,type:"password",errors:s(i).confirmPassword.$errors,title:"Confirm password",onChange:t[3]||(t[3]=a=>s(e).userRegister.confirmPassword=a)},null,8,["input","errors"]),r("div",null,[r("div",{onClick:t[4]||(t[4]=a=>_()),class:"mt-14 flex w-full justify-center rounded-md cursor-pointer border border-transparent bg-dark py-2 px-4 text-sm font-medium text-white shadow-sm hover:bg-secondary"},[m.value?(p(),w("svg",E,G)):(p(),w("div",H,"Register"))])])])])])])]))}});export{K as default};
