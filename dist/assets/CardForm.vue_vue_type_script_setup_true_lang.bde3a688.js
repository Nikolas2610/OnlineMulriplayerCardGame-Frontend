import{d as _,b as h,r,q as y,o as d,c,i as e,E as v,J as k,O as x,k as D,D as m,w}from"./index.14bb9b25.js";import{l as C}from"./helpers.2772eae0.js";const F=["onSubmit"],M=e("label",{for:"name",class:"block text-lg font-medium"},"Name",-1),B={class:"mt-1"},E={class:"mt-4 flex"},R=e("label",{for:"private",class:"block text-lg font-medium mr-2"},"Private",-1),S={class:"mt-4 relative"},V=e("label",{for:"imageFile",class:"block text-lg font-medium"},"Image",-1),I={class:"mt-1"},N=["src"],U={class:"flex justify-center"},$=e("button",{class:"mt-4 btn-green",type:"submit"}," Submit ",-1),A=_({__name:"CardForm",props:["successResponse","cardData","imageFile","edit"],emits:["sendData","closeEditMode"],setup(u,{emit:p}){const o=u;h(()=>{o.cardData&&(a.value.name=o.cardData.name,a.value.private=o.cardData.private),o.imageFile&&(l.value=o.imageFile)});const l=r(),a=r({name:"",private:!1}),i=r({file:"",name:""}),f=n=>{const t=n.target.files[0];i.value.name=t.name,i.value.file=t;const s=new FileReader;s.onload=()=>{l.value=s.result},s.readAsDataURL(t)},b=()=>{p("sendData",a.value,i.value,o.cardData)},g=()=>{a.value.name="",a.value.private=!1,l.value=""};return y(()=>o.successResponse,n=>{n===1&&g()}),(n,t)=>a.value?(d(),c("form",{key:0,class:"mt-10 px-4 py-8",onSubmit:w(b,["prevent"])},[M,e("div",B,[v(e("input",{id:"name",type:"text","onUpdate:modelValue":t[0]||(t[0]=s=>a.value.name=s),class:"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-secondary focus:outline-none sm:text-lg"},null,512),[[k,a.value.name]])]),e("div",E,[R,v(e("input",{id:"private",type:"checkbox","onUpdate:modelValue":t[1]||(t[1]=s=>a.value.private=s)},null,512),[[x,a.value.private]])]),e("div",S,[V,e("div",I,[e("input",{id:"imageFile",type:"file",class:"rounded-md border border-gray-300",onChange:f},null,32),l.value?(d(),c("img",{key:0,src:D(C)(l.value),class:"w-52 h-60 mt-4"},null,8,N)):m("",!0)])]),e("div",U,[$,u.edit?(d(),c("button",{key:0,class:"mt-4 ml-2 btn-grey",type:"button",onClick:t[2]||(t[2]=s=>n.$emit("closeEditMode"))}," Back ")):m("",!0)])],40,F)):m("",!0)}});export{A as _};
