import{b as re}from"./helpers.06a65974.js";import{d as te,r as W,h as Ke,o as g,L as O,l as d,j as p,m as P,i as n,k as r,c as x,G as z,a0 as Kt,u as ma,O as ga,H as Z,I as q,C as Y,D as H,q as et,a1 as Na,U as Ra,V as Ga,W as La,M as va,b as xt,w as ke,a2 as Va,a as Ft,p as ba,$ as wa,E as Ha,J as Ba,a3 as Ua,a4 as ja,e as Ct,a5 as Qt}from"./index.542ccea8.js";import{u as Ie,T as k,H as ea,R as ot,M as ta,a as ge,S as aa}from"./PlayerStore.6f1305f5.js";import{_ as C}from"./Flex.vue_vue_type_script_setup_true_lang.84cb6120.js";import{o as Fa,b as Ya,a as _a,M as gt}from"./ModalSecondaryButton.ea03128a.js";import{_ as $t}from"./SelectField.vue_vue_type_script_setup_true_lang.d35fb49e.js";import{_ as Za}from"./CheckBoxField.vue_vue_type_script_setup_true_lang.cef64cb4.js";import{D as Rt,a as Le,_ as ya}from"./DarkTableCell.vue_vue_type_script_setup_true_lang.6faf6b94.js";import{_ as oa}from"./PrimaryButton.vue_vue_type_script_setup_true_lang.05256df9.js";import{_ as nt}from"./InputField.vue_vue_type_script_setup_true_lang.45688b00.js";import{_ as Wa}from"./_plugin-vue_export-helper.cdc0426e.js";import{c as Xa}from"./cards.91b306de.js";import{_ as qa}from"./BackButton.vue_vue_type_script_setup_true_lang.8fc59e6b.js";import{l as Qe}from"./helpers.2772eae0.js";import{D as Ja}from"./DeckType.enum.90a9c7f8.js";const Ka=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"})],-1),Qa=["disabled"],eo={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},to=n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.25 5C5.56 5 5 5.56 5 6.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C7.5 5.56 6.94 5 6.25 5zm3.5 0c-.69 0-1.25.56-1.25 1.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C11 5.56 10.44 5 9.75 5z"},null,-1),ao=[to],oo={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},no=n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"},null,-1),ro=[no],so=["disabled"],lo=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),n("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})],-1),io=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.5 5A1.5 1.5 0 0 0 5 6.5v3A1.5 1.5 0 0 0 6.5 11h3A1.5 1.5 0 0 0 11 9.5v-3A1.5 1.5 0 0 0 9.5 5h-3z"})],-1),uo=["disabled"],co=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M2.5 15a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11zm2-13v1c0 .537.12 1.045.337 1.5h6.326c.216-.455.337-.963.337-1.5V2h-7zm3 6.35c0 .701-.478 1.236-1.011 1.492A3.5 3.5 0 0 0 4.5 13s.866-1.299 3-1.48V8.35zm1 0v3.17c2.134.181 3 1.48 3 1.48a3.5 3.5 0 0 0-1.989-3.158C8.978 9.586 8.5 9.052 8.5 8.351z"})],-1),ho=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M1.5 15a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1H13V2.5A1.5 1.5 0 0 0 11.5 1H11V.5a.5.5 0 0 0-.57-.495l-7 1A.5.5 0 0 0 3 1.5V15H1.5zM11 2h.5a.5.5 0 0 1 .5.5V15h-1V2zm-2.5 8c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1z"})],-1),fo=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.79-2.907L8.5 7.028V5.5a.5.5 0 0 0-.79-.407L5 7.028V5.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0V8.972l2.71 1.935a.5.5 0 0 0 .79-.407V8.972l2.71 1.935A.5.5 0 0 0 12 10.5v-5a.5.5 0 0 0-.79-.407z"})],-1),po=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.79 5.093A.5.5 0 0 0 4 5.5v5a.5.5 0 0 0 .79.407L7.5 8.972V10.5a.5.5 0 0 0 .79.407L11 8.972V10.5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-1 0v1.528L8.29 5.093a.5.5 0 0 0-.79.407v1.528L4.79 5.093z"})],-1),mo=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"})],-1),go=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{"fill-rule":"evenodd",d:"M0 3.5A.5.5 0 0 1 .5 3H1c2.202 0 3.827 1.24 4.874 2.418.49.552.865 1.102 1.126 1.532.26-.43.636-.98 1.126-1.532C9.173 4.24 10.798 3 13 3v1c-1.798 0-3.173 1.01-4.126 2.082A9.624 9.624 0 0 0 7.556 8a9.624 9.624 0 0 0 1.317 1.918C9.828 10.99 11.204 12 13 12v1c-2.202 0-3.827-1.24-4.874-2.418A10.595 10.595 0 0 1 7 9.05c-.26.43-.636.98-1.126 1.532C4.827 11.76 3.202 13 1 13H.5a.5.5 0 0 1 0-1H1c1.798 0 3.173-1.01 4.126-2.082A9.624 9.624 0 0 0 6.444 8a9.624 9.624 0 0 0-1.317-1.918C4.172 5.01 2.796 4 1 4H.5a.5.5 0 0 1-.5-.5z"}),n("path",{d:"M13 5.466V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192zm0 9v-3.932a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192z"})],-1),vo=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM7.729 5.055A.5.5 0 0 1 8 5.5v1.886l3.21-2.293A.5.5 0 0 1 12 5.5v5a.5.5 0 0 1-.79.407L8 8.614V10.5a.5.5 0 0 1-.79.407l-3.5-2.5a.5.5 0 0 1 0-.814l3.5-2.5a.5.5 0 0 1 .519-.038Z"})],-1),bo=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM4.79 5.093 8 7.386V5.5a.5.5 0 0 1 .79-.407l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 8 10.5V8.614l-3.21 2.293A.5.5 0 0 1 4 10.5v-5a.5.5 0 0 1 .79-.407Z"})],-1),wo=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"})],-1),_o=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"})],-1),yo=n("path",{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"},null,-1),xo=n("path",{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"},null,-1),ko=[yo,xo],Co=te({__name:"GameMasterMenu",emits:["openSettings","stopGame","exitTable","newGame","updateTableGameStatus","showAllCards","setNextPlayer","shuffleDeck","historyMovement"],setup(a,{emit:e}){const t=W(!1),o=Ie(),s=()=>{var i,u,c,f;if(!o.clickCardId)return!1;const l=(u=(i=o.cards)==null?void 0:i.find(h=>h.id===o.clickCardId))==null?void 0:u.table_deck.id;return!l||((c=o.table)==null?void 0:c.status)!==k.PLAYING&&((f=o.table)==null?void 0:f.status)!==k.GAME_MASTER_EDIT?!1:l===o.getJunkTableDeckId?!0:o.dropZones.deck.some(h=>h.tableDeckId===l)};return(l,i)=>{const u=Ke("VTooltip");return g(),O(C,{class:z(["border text-white fixed bottom-32 rounded-3xl h-14 bg-dark py-0 transition duration-1000 group cursor-pointer z-[2147483639]",t.value?"-translate-x-[20px]":"-translate-x-[685px] hover:-translate-x-[20px]"]),items:"center",justify:"center"},{default:d(()=>[p(C,{class:"border-r h-full px-6 pl-10",items:"center",gap:4},{default:d(()=>{var c,f;return[p(C,{justify:"center",items:"center",class:"hover:text-primary duration-300 transition",onClick:i[0]||(i[0]=h=>l.$emit("newGame"))},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[P(" New Game ")]),default:d(()=>[Ka]),_:1})]),_:1}),p(C,{justify:"center",items:"center",class:"hover:text-primary duration-300 transition"},{default:d(()=>{var h,b,M,D,E,I;return[n("button",{onClick:i[1]||(i[1]=A=>{var v;return((v=r(o).table)==null?void 0:v.status)===r(k).PLAYING?l.$emit("updateTableGameStatus",r(k).PAUSE):l.$emit("updateTableGameStatus",r(k).PLAYING)}),disabled:((h=r(o).table)==null?void 0:h.status)===r(k).FINISH||((b=r(o).table)==null?void 0:b.status)===r(k).WAITING||((M=r(o).table)==null?void 0:M.status)===r(k).GAME_MASTER_EDIT,class:z(((D=r(o).table)==null?void 0:D.status)===r(k).FINISH||((E=r(o).table)==null?void 0:E.status)===r(k).WAITING||((I=r(o).table)==null?void 0:I.status)===r(k).GAME_MASTER_EDIT?"cursor-not-allowed opacity-50":"")},[p(u,{distance:"22"},{popper:d(()=>[P(" Pause / Resume Game ")]),default:d(()=>{var A;return[((A=r(o).table)==null?void 0:A.status)!==r(k).PAUSE?(g(),x("svg",eo,ao)):(g(),x("svg",oo,ro))]}),_:1})],10,Qa)]}),_:1}),p(C,{justify:"center",items:"center",class:"hover:text-primary duration-300 transition"},{default:d(()=>{var h,b,M,D;return[n("button",{onClick:i[2]||(i[2]=E=>{var I,A;return((I=r(o).table)==null?void 0:I.status)===r(k).PLAYING||((A=r(o).table)==null?void 0:A.status)===r(k).PAUSE?l.$emit("updateTableGameStatus",r(k).GAME_MASTER_EDIT):l.$emit("updateTableGameStatus",r(k).PLAYING)}),disabled:((h=r(o).table)==null?void 0:h.status)===r(k).FINISH||((b=r(o).table)==null?void 0:b.status)===r(k).WAITING,class:z(((M=r(o).table)==null?void 0:M.status)===r(k).FINISH||((D=r(o).table)==null?void 0:D.status)===r(k).WAITING?"cursor-not-allowed opacity-50":"")},[p(u,{distance:"22"},{popper:d(()=>[P(" Hide table from other players to edit the table ")]),default:d(()=>[lo]),_:1})],10,so)]}),_:1}),p(C,{justify:"center",items:"center",class:z(["hover:text-primary duration-300 transition",((c=r(o).table)==null?void 0:c.status)===r(k).WAITING||((f=r(o).table)==null?void 0:f.status)===r(k).FINISH?"cursor-not-allowed opacity-50":""]),onClick:i[3]||(i[3]=h=>{var b;return((b=r(o).table)==null?void 0:b.status)!==r(k).WAITING?l.$emit("stopGame"):""})},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[P(" End Game ")]),default:d(()=>[io]),_:1})]),_:1},8,["class"]),p(C,{justify:"center",items:"center"},{default:d(()=>{var h,b;return[n("button",{disabled:((h=r(o).table)==null?void 0:h.status)!==r(k).FINISH,onClick:i[4]||(i[4]=M=>l.$emit("updateTableGameStatus",r(k).WAITING)),class:z(["hover:text-primary duration-300 transition",((b=r(o).table)==null?void 0:b.status)!==r(k).FINISH?"cursor-not-allowed opacity-50":""])},[p(u,{distance:"22"},{popper:d(()=>[P(" Wait For New Players ")]),default:d(()=>[co]),_:1})],10,uo)]}),_:1}),p(C,{justify:"center",items:"center",class:"hover:text-primary duration-300 transition",onClick:i[5]||(i[5]=h=>l.$emit("exitTable"))},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[P(" Leave Game All Players ")]),default:d(()=>[ho]),_:1})]),_:1})]}),_:1}),p(C,{class:"border-r h-full px-6",items:"center",gap:4},{default:d(()=>{var c,f,h,b,M,D,E,I,A,v;return[p(C,{justify:"center",items:"center",onClick:i[6]||(i[6]=m=>{var w,y;return((w=r(o).table)==null?void 0:w.status)===r(k).PLAYING||((y=r(o).table)==null?void 0:y.status)===r(k).GAME_MASTER_EDIT?l.$emit("setNextPlayer",!1):""}),class:z([((c=r(o).table)==null?void 0:c.status)===r(k).PLAYING||((f=r(o).table)==null?void 0:f.status)===r(k).GAME_MASTER_EDIT?"":"cursor-not-allowed opacity-50","hover:text-primary duration-300 transition"])},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[P(" Previous Player ")]),default:d(()=>[fo]),_:1})]),_:1},8,["class"]),p(C,{justify:"center",items:"center",onClick:i[7]||(i[7]=m=>{var w,y;return((w=r(o).table)==null?void 0:w.status)===r(k).PLAYING||((y=r(o).table)==null?void 0:y.status)===r(k).GAME_MASTER_EDIT?l.$emit("setNextPlayer",!0):""}),class:z(["hover:text-primary duration-300 transition",((h=r(o).table)==null?void 0:h.status)===r(k).PLAYING||((b=r(o).table)==null?void 0:b.status)===r(k).GAME_MASTER_EDIT?"":"cursor-not-allowed opacity-50"])},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[P(" Next Player ")]),default:d(()=>[po]),_:1})]),_:1},8,["class"]),p(C,{justify:"center",items:"center",class:z(["hover:text-primary duration-300 transition",((M=r(o).table)==null?void 0:M.status)===r(k).PLAYING||((D=r(o).table)==null?void 0:D.status)===r(k).PAUSE?"":"cursor-not-allowed opacity-50"]),onClick:i[8]||(i[8]=m=>{var w,y;return((w=r(o).table)==null?void 0:w.status)===r(k).PLAYING||((y=r(o).table)==null?void 0:y.status)===r(k).PAUSE?l.$emit("showAllCards"):""})},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[P(" Show all cards to players ")]),default:d(()=>[mo]),_:1})]),_:1},8,["class"]),p(C,{justify:"center",items:"center",class:z(["hover:text-primary duration-300 transition",s()?"":"cursor-not-allowed opacity-50"]),onClick:i[9]||(i[9]=m=>s()?l.$emit("shuffleDeck"):"")},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[P(" Shuffle selected deck ")]),default:d(()=>[go]),_:1})]),_:1},8,["class"]),p(C,{justify:"center",items:"center",class:z(["hover:text-primary duration-300 transition",(((E=r(o).table)==null?void 0:E.status)===r(k).PLAYING||((I=r(o).table)==null?void 0:I.status)===r(k).GAME_MASTER_EDIT)&&r(o).refUndoHistory.length>0?"":"cursor-not-allowed opacity-50"]),onClick:i[10]||(i[10]=m=>{var w,y;return(((w=r(o).table)==null?void 0:w.status)===r(k).PLAYING||((y=r(o).table)==null?void 0:y.status)===r(k).GAME_MASTER_EDIT)&&r(o).refUndoHistory.length>0?l.$emit("historyMovement",r(ea).UNDO):""})},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[P(" Undo Card Movement ")]),default:d(()=>[vo]),_:1})]),_:1},8,["class"]),p(C,{justify:"center",items:"center",class:z(["hover:text-primary duration-300 transition",(((A=r(o).table)==null?void 0:A.status)===r(k).PLAYING||((v=r(o).table)==null?void 0:v.status)===r(k).GAME_MASTER_EDIT)&&r(o).refRedoHistory.length>0?"":"cursor-not-allowed opacity-50"]),onClick:i[11]||(i[11]=m=>{var w,y;return(((w=r(o).table)==null?void 0:w.status)===r(k).PLAYING||((y=r(o).table)==null?void 0:y.status)===r(k).GAME_MASTER_EDIT)&&r(o).refRedoHistory.length>0?l.$emit("historyMovement",r(ea).REDO):""})},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[P(" Redo Card Movement ")]),default:d(()=>[bo]),_:1})]),_:1},8,["class"])]}),_:1}),p(C,{class:"border-r h-full px-6",items:"center",gap:4},{default:d(()=>{var c,f;return[p(C,{justify:"center",items:"center",onClick:i[12]||(i[12]=h=>l.$emit("openSettings",2)),class:"hover:text-primary duration-300 transition"},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[P(" Open User List ")]),default:d(()=>[wo]),_:1})]),_:1}),p(C,{justify:"center",items:"center",onClick:i[13]||(i[13]=h=>{var b,M;return((b=r(o).table)==null?void 0:b.status)===r(k).FINISH||((M=r(o).table)==null?void 0:M.status)===r(k).WAITING?"":l.$emit("openSettings",3)}),class:z([((c=r(o).table)==null?void 0:c.status)===r(k).FINISH||((f=r(o).table)==null?void 0:f.status)===r(k).WAITING?"cursor-not-allowed opacity-50":"","hover:text-primary duration-300 transition"])},{default:d(()=>[p(u,{distance:"22"},{popper:d(()=>[P(" Edit Rank Table ")]),default:d(()=>[_o]),_:1})]),_:1},8,["class"])]}),_:1}),p(C,{justify:"center",items:"center",class:"px-8",onClick:i[14]||(i[14]=c=>t.value=!t.value)},{default:d(()=>[p(u,{distance:"18"},{popper:d(()=>[P(" Click to keep the menu bar open or close ")]),default:d(()=>[(g(),x("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#fff",viewBox:"0 0 16 16",class:z(["hover:fill-primary transition duration-300 h-8 w-8 focus:outline-none",t.value?"animate-spin fill-primary":""])},ko,2))]),_:1})]),_:1})]),_:1},8,["class"])}}});/*!
  * vue-draggable-next v2.1.0
  * (c) 2021 Anish George
  * @license MIT
  *//**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function na(a,e){var t=Object.keys(a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(a);e&&(o=o.filter(function(s){return Object.getOwnPropertyDescriptor(a,s).enumerable})),t.push.apply(t,o)}return t}function xe(a){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?na(Object(t),!0).forEach(function(o){$o(a,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(t)):na(Object(t)).forEach(function(o){Object.defineProperty(a,o,Object.getOwnPropertyDescriptor(t,o))})}return a}function ut(a){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ut=function(e){return typeof e}:ut=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ut(a)}function $o(a,e,t){return e in a?Object.defineProperty(a,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):a[e]=t,a}function $e(){return $e=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(a[o]=t[o])}return a},$e.apply(this,arguments)}function To(a,e){if(a==null)return{};var t={},o=Object.keys(a),s,l;for(l=0;l<o.length;l++)s=o[l],!(e.indexOf(s)>=0)&&(t[s]=a[s]);return t}function Mo(a,e){if(a==null)return{};var t=To(a,e),o,s;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(a);for(s=0;s<l.length;s++)o=l[s],!(e.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(a,o)||(t[o]=a[o]))}return t}var So="1.14.0";function Ce(a){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(a)}var Te=Ce(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),tt=Ce(/Edge/i),ra=Ce(/firefox/i),Ze=Ce(/safari/i)&&!Ce(/chrome/i)&&!Ce(/android/i),xa=Ce(/iP(ad|od|hone)/i),Eo=Ce(/chrome/i)&&Ce(/android/i),ka={capture:!1,passive:!1};function j(a,e,t){a.addEventListener(e,t,!Te&&ka)}function U(a,e,t){a.removeEventListener(e,t,!Te&&ka)}function vt(a,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),a)try{if(a.matches)return a.matches(e);if(a.msMatchesSelector)return a.msMatchesSelector(e);if(a.webkitMatchesSelector)return a.webkitMatchesSelector(e)}catch{return!1}return!1}}function Do(a){return a.host&&a!==document&&a.host.nodeType?a.host:a.parentNode}function _e(a,e,t,o){if(a){t=t||document;do{if(e!=null&&(e[0]===">"?a.parentNode===t&&vt(a,e):vt(a,e))||o&&a===t)return a;if(a===t)break}while(a=Do(a))}return null}var sa=/\s+/g;function ce(a,e,t){if(a&&e)if(a.classList)a.classList[t?"add":"remove"](e);else{var o=(" "+a.className+" ").replace(sa," ").replace(" "+e+" "," ");a.className=(o+(t?" "+e:"")).replace(sa," ")}}function N(a,e,t){var o=a&&a.style;if(o){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(a,""):a.currentStyle&&(t=a.currentStyle),e===void 0?t:t[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=t+(typeof t=="string"?"":"px")}}function Be(a,e){var t="";if(typeof a=="string")t=a;else do{var o=N(a,"transform");o&&o!=="none"&&(t=o+" "+t)}while(!e&&(a=a.parentNode));var s=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return s&&new s(t)}function Ca(a,e,t){if(a){var o=a.getElementsByTagName(e),s=0,l=o.length;if(t)for(;s<l;s++)t(o[s],s);return o}return[]}function ye(){var a=document.scrollingElement;return a||document.documentElement}function oe(a,e,t,o,s){if(!(!a.getBoundingClientRect&&a!==window)){var l,i,u,c,f,h,b;if(a!==window&&a.parentNode&&a!==ye()?(l=a.getBoundingClientRect(),i=l.top,u=l.left,c=l.bottom,f=l.right,h=l.height,b=l.width):(i=0,u=0,c=window.innerHeight,f=window.innerWidth,h=window.innerHeight,b=window.innerWidth),(e||t)&&a!==window&&(s=s||a.parentNode,!Te))do if(s&&s.getBoundingClientRect&&(N(s,"transform")!=="none"||t&&N(s,"position")!=="static")){var M=s.getBoundingClientRect();i-=M.top+parseInt(N(s,"border-top-width")),u-=M.left+parseInt(N(s,"border-left-width")),c=i+l.height,f=u+l.width;break}while(s=s.parentNode);if(o&&a!==window){var D=Be(s||a),E=D&&D.a,I=D&&D.d;D&&(i/=I,u/=E,b/=E,h/=I,c=i+h,f=u+b)}return{top:i,left:u,bottom:c,right:f,width:b,height:h}}}function la(a,e,t){for(var o=De(a,!0),s=oe(a)[e];o;){var l=oe(o)[t],i=void 0;if(t==="top"||t==="left"?i=s>=l:i=s<=l,!i)return o;if(o===ye())break;o=De(o,!1)}return!1}function Ue(a,e,t,o){for(var s=0,l=0,i=a.children;l<i.length;){if(i[l].style.display!=="none"&&i[l]!==R.ghost&&(o||i[l]!==R.dragged)&&_e(i[l],t.draggable,a,!1)){if(s===e)return i[l];s++}l++}return null}function Yt(a,e){for(var t=a.lastElementChild;t&&(t===R.ghost||N(t,"display")==="none"||e&&!vt(t,e));)t=t.previousElementSibling;return t||null}function me(a,e){var t=0;if(!a||!a.parentNode)return-1;for(;a=a.previousElementSibling;)a.nodeName.toUpperCase()!=="TEMPLATE"&&a!==R.clone&&(!e||vt(a,e))&&t++;return t}function ia(a){var e=0,t=0,o=ye();if(a)do{var s=Be(a),l=s.a,i=s.d;e+=a.scrollLeft*l,t+=a.scrollTop*i}while(a!==o&&(a=a.parentNode));return[e,t]}function Ao(a,e){for(var t in a)if(!!a.hasOwnProperty(t)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===a[t][o])return Number(t)}return-1}function De(a,e){if(!a||!a.getBoundingClientRect)return ye();var t=a,o=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var s=N(t);if(t.clientWidth<t.scrollWidth&&(s.overflowX=="auto"||s.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(s.overflowY=="auto"||s.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return ye();if(o||e)return t;o=!0}}while(t=t.parentNode);return ye()}function Io(a,e){if(a&&e)for(var t in e)e.hasOwnProperty(t)&&(a[t]=e[t]);return a}function Tt(a,e){return Math.round(a.top)===Math.round(e.top)&&Math.round(a.left)===Math.round(e.left)&&Math.round(a.height)===Math.round(e.height)&&Math.round(a.width)===Math.round(e.width)}var We;function $a(a,e){return function(){if(!We){var t=arguments,o=this;t.length===1?a.call(o,t[0]):a.apply(o,t),We=setTimeout(function(){We=void 0},e)}}}function zo(){clearTimeout(We),We=void 0}function Ta(a,e,t){a.scrollLeft+=e,a.scrollTop+=t}function Ma(a){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(a).cloneNode(!0):t?t(a).clone(!0)[0]:a.cloneNode(!0)}var fe="Sortable"+new Date().getTime();function Po(){var a=[],e;return{captureAnimationState:function(){if(a=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(s){if(!(N(s,"display")==="none"||s===R.ghost)){a.push({target:s,rect:oe(s)});var l=xe({},a[a.length-1].rect);if(s.thisAnimationDuration){var i=Be(s,!0);i&&(l.top-=i.f,l.left-=i.e)}s.fromRect=l}})}},addAnimationState:function(o){a.push(o)},removeAnimationState:function(o){a.splice(Ao(a,{target:o}),1)},animateAll:function(o){var s=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var l=!1,i=0;a.forEach(function(u){var c=0,f=u.target,h=f.fromRect,b=oe(f),M=f.prevFromRect,D=f.prevToRect,E=u.rect,I=Be(f,!0);I&&(b.top-=I.f,b.left-=I.e),f.toRect=b,f.thisAnimationDuration&&Tt(M,b)&&!Tt(h,b)&&(E.top-b.top)/(E.left-b.left)===(h.top-b.top)/(h.left-b.left)&&(c=No(E,M,D,s.options)),Tt(b,h)||(f.prevFromRect=h,f.prevToRect=b,c||(c=s.options.animation),s.animate(f,E,b,c)),c&&(l=!0,i=Math.max(i,c),clearTimeout(f.animationResetTimer),f.animationResetTimer=setTimeout(function(){f.animationTime=0,f.prevFromRect=null,f.fromRect=null,f.prevToRect=null,f.thisAnimationDuration=null},c),f.thisAnimationDuration=c)}),clearTimeout(e),l?e=setTimeout(function(){typeof o=="function"&&o()},i):typeof o=="function"&&o(),a=[]},animate:function(o,s,l,i){if(i){N(o,"transition",""),N(o,"transform","");var u=Be(this.el),c=u&&u.a,f=u&&u.d,h=(s.left-l.left)/(c||1),b=(s.top-l.top)/(f||1);o.animatingX=!!h,o.animatingY=!!b,N(o,"transform","translate3d("+h+"px,"+b+"px,0)"),this.forRepaintDummy=Oo(o),N(o,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),N(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){N(o,"transition",""),N(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},i)}}}}function Oo(a){return a.offsetWidth}function No(a,e,t,o){return Math.sqrt(Math.pow(e.top-a.top,2)+Math.pow(e.left-a.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*o.animation}var Re=[],Mt={initializeByDefault:!0},at={mount:function(e){for(var t in Mt)Mt.hasOwnProperty(t)&&!(t in e)&&(e[t]=Mt[t]);Re.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Re.push(e)},pluginEvent:function(e,t,o){var s=this;this.eventCanceled=!1,o.cancel=function(){s.eventCanceled=!0};var l=e+"Global";Re.forEach(function(i){!t[i.pluginName]||(t[i.pluginName][l]&&t[i.pluginName][l](xe({sortable:t},o)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](xe({sortable:t},o)))})},initializePlugins:function(e,t,o,s){Re.forEach(function(u){var c=u.pluginName;if(!(!e.options[c]&&!u.initializeByDefault)){var f=new u(e,t,e.options);f.sortable=e,f.options=e.options,e[c]=f,$e(o,f.defaults)}});for(var l in e.options)if(!!e.options.hasOwnProperty(l)){var i=this.modifyOption(e,l,e.options[l]);typeof i<"u"&&(e.options[l]=i)}},getEventProperties:function(e,t){var o={};return Re.forEach(function(s){typeof s.eventProperties=="function"&&$e(o,s.eventProperties.call(t[s.pluginName],e))}),o},modifyOption:function(e,t,o){var s;return Re.forEach(function(l){!e[l.pluginName]||l.optionListeners&&typeof l.optionListeners[t]=="function"&&(s=l.optionListeners[t].call(e[l.pluginName],o))}),s}};function Ro(a){var e=a.sortable,t=a.rootEl,o=a.name,s=a.targetEl,l=a.cloneEl,i=a.toEl,u=a.fromEl,c=a.oldIndex,f=a.newIndex,h=a.oldDraggableIndex,b=a.newDraggableIndex,M=a.originalEvent,D=a.putSortable,E=a.extraEventProperties;if(e=e||t&&t[fe],!!e){var I,A=e.options,v="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Te&&!tt?I=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(I=document.createEvent("Event"),I.initEvent(o,!0,!0)),I.to=i||t,I.from=u||t,I.item=s||t,I.clone=l,I.oldIndex=c,I.newIndex=f,I.oldDraggableIndex=h,I.newDraggableIndex=b,I.originalEvent=M,I.pullMode=D?D.lastPutMode:void 0;var m=xe(xe({},E),at.getEventProperties(o,e));for(var w in m)I[w]=m[w];t&&t.dispatchEvent(I),A[v]&&A[v].call(e,I)}}var Go=["evt"],ue=function(e,t){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=o.evt,l=Mo(o,Go);at.pluginEvent.bind(R)(e,t,xe({dragEl:$,parentEl:J,ghostEl:V,rootEl:X,nextEl:Oe,lastDownEl:ct,cloneEl:K,cloneHidden:Ee,dragStarted:je,putSortable:se,activeSortable:R.active,originalEvent:s,oldIndex:He,oldDraggableIndex:Xe,newIndex:he,newDraggableIndex:Se,hideGhostForTarget:Aa,unhideGhostForTarget:Ia,cloneNowHidden:function(){Ee=!0},cloneNowShown:function(){Ee=!1},dispatchSortableEvent:function(u){de({sortable:t,name:u,originalEvent:s})}},l))};function de(a){Ro(xe({putSortable:se,cloneEl:K,targetEl:$,rootEl:X,oldIndex:He,oldDraggableIndex:Xe,newIndex:he,newDraggableIndex:Se},a))}var $,J,V,X,Oe,ct,K,Ee,He,he,Xe,Se,rt,se,Ve=!1,bt=!1,wt=[],ze,ve,St,Et,da,ua,je,Ge,qe,Je=!1,st=!1,ht,ie,Dt=[],Gt=!1,_t=[],kt=typeof document<"u",lt=xa,ca=tt||Te?"cssFloat":"float",Lo=kt&&!Eo&&!xa&&"draggable"in document.createElement("div"),Sa=function(){if(!!kt){if(Te)return!1;var a=document.createElement("x");return a.style.cssText="pointer-events:auto",a.style.pointerEvents==="auto"}}(),Ea=function(e,t){var o=N(e),s=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),l=Ue(e,0,t),i=Ue(e,1,t),u=l&&N(l),c=i&&N(i),f=u&&parseInt(u.marginLeft)+parseInt(u.marginRight)+oe(l).width,h=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+oe(i).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&u.float&&u.float!=="none"){var b=u.float==="left"?"left":"right";return i&&(c.clear==="both"||c.clear===b)?"vertical":"horizontal"}return l&&(u.display==="block"||u.display==="flex"||u.display==="table"||u.display==="grid"||f>=s&&o[ca]==="none"||i&&o[ca]==="none"&&f+h>s)?"vertical":"horizontal"},Vo=function(e,t,o){var s=o?e.left:e.top,l=o?e.right:e.bottom,i=o?e.width:e.height,u=o?t.left:t.top,c=o?t.right:t.bottom,f=o?t.width:t.height;return s===u||l===c||s+i/2===u+f/2},Ho=function(e,t){var o;return wt.some(function(s){var l=s[fe].options.emptyInsertThreshold;if(!(!l||Yt(s))){var i=oe(s),u=e>=i.left-l&&e<=i.right+l,c=t>=i.top-l&&t<=i.bottom+l;if(u&&c)return o=s}}),o},Da=function(e){function t(l,i){return function(u,c,f,h){var b=u.options.group.name&&c.options.group.name&&u.options.group.name===c.options.group.name;if(l==null&&(i||b))return!0;if(l==null||l===!1)return!1;if(i&&l==="clone")return l;if(typeof l=="function")return t(l(u,c,f,h),i)(u,c,f,h);var M=(i?u:c).options.group.name;return l===!0||typeof l=="string"&&l===M||l.join&&l.indexOf(M)>-1}}var o={},s=e.group;(!s||ut(s)!="object")&&(s={name:s}),o.name=s.name,o.checkPull=t(s.pull,!0),o.checkPut=t(s.put),o.revertClone=s.revertClone,e.group=o},Aa=function(){!Sa&&V&&N(V,"display","none")},Ia=function(){!Sa&&V&&N(V,"display","")};kt&&document.addEventListener("click",function(a){if(bt)return a.preventDefault(),a.stopPropagation&&a.stopPropagation(),a.stopImmediatePropagation&&a.stopImmediatePropagation(),bt=!1,!1},!0);var Pe=function(e){if($){e=e.touches?e.touches[0]:e;var t=Ho(e.clientX,e.clientY);if(t){var o={};for(var s in e)e.hasOwnProperty(s)&&(o[s]=e[s]);o.target=o.rootEl=t,o.preventDefault=void 0,o.stopPropagation=void 0,t[fe]._onDragOver(o)}}},Bo=function(e){$&&$.parentNode[fe]._isOutsideThisEl(e.target)};function R(a,e){if(!(a&&a.nodeType&&a.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(a));this.el=a,this.options=e=$e({},e),a[fe]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(a.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ea(a,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,u){i.setData("Text",u.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:R.supportPointer!==!1&&"PointerEvent"in window&&!Ze,emptyInsertThreshold:5};at.initializePlugins(this,a,t);for(var o in t)!(o in e)&&(e[o]=t[o]);Da(e);for(var s in this)s.charAt(0)==="_"&&typeof this[s]=="function"&&(this[s]=this[s].bind(this));this.nativeDraggable=e.forceFallback?!1:Lo,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?j(a,"pointerdown",this._onTapStart):(j(a,"mousedown",this._onTapStart),j(a,"touchstart",this._onTapStart)),this.nativeDraggable&&(j(a,"dragover",this),j(a,"dragenter",this)),wt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),$e(this,Po())}R.prototype={constructor:R,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Ge=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,$):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var t=this,o=this.el,s=this.options,l=s.preventOnFilter,i=e.type,u=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(u||e).target,f=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,h=s.filter;if(qo(o),!$&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||s.disabled)&&!f.isContentEditable&&!(!this.nativeDraggable&&Ze&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=_e(c,s.draggable,o,!1),!(c&&c.animated)&&ct!==c)){if(He=me(c),Xe=me(c,s.draggable),typeof h=="function"){if(h.call(this,e,c,this)){de({sortable:t,rootEl:f,name:"filter",targetEl:c,toEl:o,fromEl:o}),ue("filter",t,{evt:e}),l&&e.cancelable&&e.preventDefault();return}}else if(h&&(h=h.split(",").some(function(b){if(b=_e(f,b.trim(),o,!1),b)return de({sortable:t,rootEl:b,name:"filter",targetEl:c,fromEl:o,toEl:o}),ue("filter",t,{evt:e}),!0}),h)){l&&e.cancelable&&e.preventDefault();return}s.handle&&!_e(f,s.handle,o,!1)||this._prepareDragStart(e,u,c)}}},_prepareDragStart:function(e,t,o){var s=this,l=s.el,i=s.options,u=l.ownerDocument,c;if(o&&!$&&o.parentNode===l){var f=oe(o);if(X=l,$=o,J=$.parentNode,Oe=$.nextSibling,ct=o,rt=i.group,R.dragged=$,ze={target:$,clientX:(t||e).clientX,clientY:(t||e).clientY},da=ze.clientX-f.left,ua=ze.clientY-f.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,$.style["will-change"]="all",c=function(){if(ue("delayEnded",s,{evt:e}),R.eventCanceled){s._onDrop();return}s._disableDelayedDragEvents(),!ra&&s.nativeDraggable&&($.draggable=!0),s._triggerDragStart(e,t),de({sortable:s,name:"choose",originalEvent:e}),ce($,i.chosenClass,!0)},i.ignore.split(",").forEach(function(h){Ca($,h.trim(),At)}),j(u,"dragover",Pe),j(u,"mousemove",Pe),j(u,"touchmove",Pe),j(u,"mouseup",s._onDrop),j(u,"touchend",s._onDrop),j(u,"touchcancel",s._onDrop),ra&&this.nativeDraggable&&(this.options.touchStartThreshold=4,$.draggable=!0),ue("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(tt||Te))){if(R.eventCanceled){this._onDrop();return}j(u,"mouseup",s._disableDelayedDrag),j(u,"touchend",s._disableDelayedDrag),j(u,"touchcancel",s._disableDelayedDrag),j(u,"mousemove",s._delayedDragTouchMoveHandler),j(u,"touchmove",s._delayedDragTouchMoveHandler),i.supportPointer&&j(u,"pointermove",s._delayedDragTouchMoveHandler),s._dragStartTimer=setTimeout(c,i.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){$&&At($),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;U(e,"mouseup",this._disableDelayedDrag),U(e,"touchend",this._disableDelayedDrag),U(e,"touchcancel",this._disableDelayedDrag),U(e,"mousemove",this._delayedDragTouchMoveHandler),U(e,"touchmove",this._delayedDragTouchMoveHandler),U(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?j(document,"pointermove",this._onTouchMove):t?j(document,"touchmove",this._onTouchMove):j(document,"mousemove",this._onTouchMove):(j($,"dragend",this),j(X,"dragstart",this._onDragStart));try{document.selection?ft(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Ve=!1,X&&$){ue("dragStarted",this,{evt:t}),this.nativeDraggable&&j(document,"dragover",Bo);var o=this.options;!e&&ce($,o.dragClass,!1),ce($,o.ghostClass,!0),R.active=this,e&&this._appendGhost(),de({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(ve){this._lastX=ve.clientX,this._lastY=ve.clientY,Aa();for(var e=document.elementFromPoint(ve.clientX,ve.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(ve.clientX,ve.clientY),e!==t);)t=e;if($.parentNode[fe]._isOutsideThisEl(e),t)do{if(t[fe]){var o=void 0;if(o=t[fe]._onDragOver({clientX:ve.clientX,clientY:ve.clientY,target:e,rootEl:t}),o&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Ia()}},_onTouchMove:function(e){if(ze){var t=this.options,o=t.fallbackTolerance,s=t.fallbackOffset,l=e.touches?e.touches[0]:e,i=V&&Be(V,!0),u=V&&i&&i.a,c=V&&i&&i.d,f=lt&&ie&&ia(ie),h=(l.clientX-ze.clientX+s.x)/(u||1)+(f?f[0]-Dt[0]:0)/(u||1),b=(l.clientY-ze.clientY+s.y)/(c||1)+(f?f[1]-Dt[1]:0)/(c||1);if(!R.active&&!Ve){if(o&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(V){i?(i.e+=h-(St||0),i.f+=b-(Et||0)):i={a:1,b:0,c:0,d:1,e:h,f:b};var M="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");N(V,"webkitTransform",M),N(V,"mozTransform",M),N(V,"msTransform",M),N(V,"transform",M),St=h,Et=b,ve=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!V){var e=this.options.fallbackOnBody?document.body:X,t=oe($,!0,lt,!0,e),o=this.options;if(lt){for(ie=e;N(ie,"position")==="static"&&N(ie,"transform")==="none"&&ie!==document;)ie=ie.parentNode;ie!==document.body&&ie!==document.documentElement?(ie===document&&(ie=ye()),t.top+=ie.scrollTop,t.left+=ie.scrollLeft):ie=ye(),Dt=ia(ie)}V=$.cloneNode(!0),ce(V,o.ghostClass,!1),ce(V,o.fallbackClass,!0),ce(V,o.dragClass,!0),N(V,"transition",""),N(V,"transform",""),N(V,"box-sizing","border-box"),N(V,"margin",0),N(V,"top",t.top),N(V,"left",t.left),N(V,"width",t.width),N(V,"height",t.height),N(V,"opacity","0.8"),N(V,"position",lt?"absolute":"fixed"),N(V,"zIndex","100000"),N(V,"pointerEvents","none"),R.ghost=V,e.appendChild(V),N(V,"transform-origin",da/parseInt(V.style.width)*100+"% "+ua/parseInt(V.style.height)*100+"%")}},_onDragStart:function(e,t){var o=this,s=e.dataTransfer,l=o.options;if(ue("dragStart",this,{evt:e}),R.eventCanceled){this._onDrop();return}ue("setupClone",this),R.eventCanceled||(K=Ma($),K.draggable=!1,K.style["will-change"]="",this._hideClone(),ce(K,this.options.chosenClass,!1),R.clone=K),o.cloneId=ft(function(){ue("clone",o),!R.eventCanceled&&(o.options.removeCloneOnHide||X.insertBefore(K,$),o._hideClone(),de({sortable:o,name:"clone"}))}),!t&&ce($,l.dragClass,!0),t?(bt=!0,o._loopId=setInterval(o._emulateDragOver,50)):(U(document,"mouseup",o._onDrop),U(document,"touchend",o._onDrop),U(document,"touchcancel",o._onDrop),s&&(s.effectAllowed="move",l.setData&&l.setData.call(o,s,$)),j(document,"drop",o),N($,"transform","translateZ(0)")),Ve=!0,o._dragStartId=ft(o._dragStarted.bind(o,t,e)),j(document,"selectstart",o),je=!0,Ze&&N(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,o=e.target,s,l,i,u=this.options,c=u.group,f=R.active,h=rt===c,b=u.sort,M=se||f,D,E=this,I=!1;if(Gt)return;function A(Me,qt){ue(Me,E,xe({evt:e,isOwner:h,axis:D?"vertical":"horizontal",revert:i,dragRect:s,targetRect:l,canSort:b,fromSortable:M,target:o,completed:m,onMove:function(Jt,Oa){return it(X,t,$,s,Jt,oe(Jt),e,Oa)},changed:w},qt))}function v(){A("dragOverAnimationCapture"),E.captureAnimationState(),E!==M&&M.captureAnimationState()}function m(Me){return A("dragOverCompleted",{insertion:Me}),Me&&(h?f._hideClone():f._showClone(E),E!==M&&(ce($,se?se.options.ghostClass:f.options.ghostClass,!1),ce($,u.ghostClass,!0)),se!==E&&E!==R.active?se=E:E===R.active&&se&&(se=null),M===E&&(E._ignoreWhileAnimating=o),E.animateAll(function(){A("dragOverAnimationComplete"),E._ignoreWhileAnimating=null}),E!==M&&(M.animateAll(),M._ignoreWhileAnimating=null)),(o===$&&!$.animated||o===t&&!o.animated)&&(Ge=null),!u.dragoverBubble&&!e.rootEl&&o!==document&&($.parentNode[fe]._isOutsideThisEl(e.target),!Me&&Pe(e)),!u.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),I=!0}function w(){he=me($),Se=me($,u.draggable),de({sortable:E,name:"change",toEl:t,newIndex:he,newDraggableIndex:Se,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=_e(o,u.draggable,t,!0),A("dragOver"),R.eventCanceled)return I;if($.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||E._ignoreWhileAnimating===o)return m(!1);if(bt=!1,f&&!u.disabled&&(h?b||(i=J!==X):se===this||(this.lastPutMode=rt.checkPull(this,f,$,e))&&c.checkPut(this,f,$,e))){if(D=this._getDirection(e,o)==="vertical",s=oe($),A("dragOverValid"),R.eventCanceled)return I;if(i)return J=X,v(),this._hideClone(),A("revert"),R.eventCanceled||(Oe?X.insertBefore($,Oe):X.appendChild($)),m(!0);var y=Yt(t,u.draggable);if(!y||Yo(e,D,this)&&!y.animated){if(y===$)return m(!1);if(y&&t===e.target&&(o=y),o&&(l=oe(o)),it(X,t,$,s,o,l,e,!!o)!==!1)return v(),t.appendChild($),J=t,w(),m(!0)}else if(y&&Fo(e,D,this)){var T=Ue(t,0,u,!0);if(T===$)return m(!1);if(o=T,l=oe(o),it(X,t,$,s,o,l,e,!1)!==!1)return v(),t.insertBefore($,T),J=t,w(),m(!0)}else if(o.parentNode===t){l=oe(o);var S=0,_,L=$.parentNode!==t,G=!Vo($.animated&&$.toRect||s,o.animated&&o.toRect||l,D),F=D?"top":"left",ae=la(o,"top","top")||la($,"top","top"),Q=ae?ae.scrollTop:void 0;Ge!==o&&(_=l[F],Je=!1,st=!G&&u.invertSwap||L),S=Zo(e,o,l,D,G?1:u.swapThreshold,u.invertedSwapThreshold==null?u.swapThreshold:u.invertedSwapThreshold,st,Ge===o);var le;if(S!==0){var pe=me($);do pe-=S,le=J.children[pe];while(le&&(N(le,"display")==="none"||le===V))}if(S===0||le===o)return m(!1);Ge=o,qe=S;var be=o.nextElementSibling,we=!1;we=S===1;var Ne=it(X,t,$,s,o,l,e,we);if(Ne!==!1)return(Ne===1||Ne===-1)&&(we=Ne===1),Gt=!0,setTimeout(jo,30),v(),we&&!be?t.appendChild($):o.parentNode.insertBefore($,we?be:o),ae&&Ta(ae,0,Q-ae.scrollTop),J=$.parentNode,_!==void 0&&!st&&(ht=Math.abs(_-oe(o)[F])),w(),m(!0)}if(t.contains($))return m(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){U(document,"mousemove",this._onTouchMove),U(document,"touchmove",this._onTouchMove),U(document,"pointermove",this._onTouchMove),U(document,"dragover",Pe),U(document,"mousemove",Pe),U(document,"touchmove",Pe)},_offUpEvents:function(){var e=this.el.ownerDocument;U(e,"mouseup",this._onDrop),U(e,"touchend",this._onDrop),U(e,"pointerup",this._onDrop),U(e,"touchcancel",this._onDrop),U(document,"selectstart",this)},_onDrop:function(e){var t=this.el,o=this.options;if(he=me($),Se=me($,o.draggable),ue("drop",this,{evt:e}),J=$&&$.parentNode,he=me($),Se=me($,o.draggable),R.eventCanceled){this._nulling();return}Ve=!1,st=!1,Je=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Lt(this.cloneId),Lt(this._dragStartId),this.nativeDraggable&&(U(document,"drop",this),U(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Ze&&N(document.body,"user-select",""),N($,"transform",""),e&&(je&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),V&&V.parentNode&&V.parentNode.removeChild(V),(X===J||se&&se.lastPutMode!=="clone")&&K&&K.parentNode&&K.parentNode.removeChild(K),$&&(this.nativeDraggable&&U($,"dragend",this),At($),$.style["will-change"]="",je&&!Ve&&ce($,se?se.options.ghostClass:this.options.ghostClass,!1),ce($,this.options.chosenClass,!1),de({sortable:this,name:"unchoose",toEl:J,newIndex:null,newDraggableIndex:null,originalEvent:e}),X!==J?(he>=0&&(de({rootEl:J,name:"add",toEl:J,fromEl:X,originalEvent:e}),de({sortable:this,name:"remove",toEl:J,originalEvent:e}),de({rootEl:J,name:"sort",toEl:J,fromEl:X,originalEvent:e}),de({sortable:this,name:"sort",toEl:J,originalEvent:e})),se&&se.save()):he!==He&&he>=0&&(de({sortable:this,name:"update",toEl:J,originalEvent:e}),de({sortable:this,name:"sort",toEl:J,originalEvent:e})),R.active&&((he==null||he===-1)&&(he=He,Se=Xe),de({sortable:this,name:"end",toEl:J,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ue("nulling",this),X=$=J=V=Oe=K=ct=Ee=ze=ve=je=he=Se=He=Xe=Ge=qe=se=rt=R.dragged=R.ghost=R.clone=R.active=null,_t.forEach(function(e){e.checked=!0}),_t.length=St=Et=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":$&&(this._onDragOver(e),Uo(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,o=this.el.children,s=0,l=o.length,i=this.options;s<l;s++)t=o[s],_e(t,i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||Xo(t));return e},sort:function(e,t){var o={},s=this.el;this.toArray().forEach(function(l,i){var u=s.children[i];_e(u,this.options.draggable,s,!1)&&(o[l]=u)},this),t&&this.captureAnimationState(),e.forEach(function(l){o[l]&&(s.removeChild(o[l]),s.appendChild(o[l]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return _e(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var o=this.options;if(t===void 0)return o[e];var s=at.modifyOption(this,e,t);typeof s<"u"?o[e]=s:o[e]=t,e==="group"&&Da(o)},destroy:function(){ue("destroy",this);var e=this.el;e[fe]=null,U(e,"mousedown",this._onTapStart),U(e,"touchstart",this._onTapStart),U(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(U(e,"dragover",this),U(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),wt.splice(wt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Ee){if(ue("hideClone",this),R.eventCanceled)return;N(K,"display","none"),this.options.removeCloneOnHide&&K.parentNode&&K.parentNode.removeChild(K),Ee=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Ee){if(ue("showClone",this),R.eventCanceled)return;$.parentNode==X&&!this.options.group.revertClone?X.insertBefore(K,$):Oe?X.insertBefore(K,Oe):X.appendChild(K),this.options.group.revertClone&&this.animate($,K),N(K,"display",""),Ee=!1}}};function Uo(a){a.dataTransfer&&(a.dataTransfer.dropEffect="move"),a.cancelable&&a.preventDefault()}function it(a,e,t,o,s,l,i,u){var c,f=a[fe],h=f.options.onMove,b;return window.CustomEvent&&!Te&&!tt?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=a,c.dragged=t,c.draggedRect=o,c.related=s||e,c.relatedRect=l||oe(e),c.willInsertAfter=u,c.originalEvent=i,a.dispatchEvent(c),h&&(b=h.call(f,c,i)),b}function At(a){a.draggable=!1}function jo(){Gt=!1}function Fo(a,e,t){var o=oe(Ue(t.el,0,t.options,!0)),s=10;return e?a.clientX<o.left-s||a.clientY<o.top&&a.clientX<o.right:a.clientY<o.top-s||a.clientY<o.bottom&&a.clientX<o.left}function Yo(a,e,t){var o=oe(Yt(t.el,t.options.draggable)),s=10;return e?a.clientX>o.right+s||a.clientX<=o.right&&a.clientY>o.bottom&&a.clientX>=o.left:a.clientX>o.right&&a.clientY>o.top||a.clientX<=o.right&&a.clientY>o.bottom+s}function Zo(a,e,t,o,s,l,i,u){var c=o?a.clientY:a.clientX,f=o?t.height:t.width,h=o?t.top:t.left,b=o?t.bottom:t.right,M=!1;if(!i){if(u&&ht<f*s){if(!Je&&(qe===1?c>h+f*l/2:c<b-f*l/2)&&(Je=!0),Je)M=!0;else if(qe===1?c<h+ht:c>b-ht)return-qe}else if(c>h+f*(1-s)/2&&c<b-f*(1-s)/2)return Wo(e)}return M=M||i,M&&(c<h+f*l/2||c>b-f*l/2)?c>h+f/2?1:-1:0}function Wo(a){return me($)<me(a)?1:-1}function Xo(a){for(var e=a.tagName+a.className+a.src+a.href+a.textContent,t=e.length,o=0;t--;)o+=e.charCodeAt(t);return o.toString(36)}function qo(a){_t.length=0;for(var e=a.getElementsByTagName("input"),t=e.length;t--;){var o=e[t];o.checked&&_t.push(o)}}function ft(a){return setTimeout(a,0)}function Lt(a){return clearTimeout(a)}kt&&j(document,"touchmove",function(a){(R.active||Ve)&&a.cancelable&&a.preventDefault()});R.utils={on:j,off:U,css:N,find:Ca,is:function(e,t){return!!_e(e,t,e,!1)},extend:Io,throttle:$a,closest:_e,toggleClass:ce,clone:Ma,index:me,nextTick:ft,cancelNextTick:Lt,detectDirection:Ea,getChild:Ue};R.get=function(a){return a[fe]};R.mount=function(){for(var a=arguments.length,e=new Array(a),t=0;t<a;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(R.utils=xe(xe({},R.utils),o.utils)),at.mount(o)})};R.create=function(a,e){return new R(a,e)};R.version=So;var ee=[],Fe,Vt,Ht=!1,It,zt,yt,Ye;function Jo(){function a(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return a.prototype={dragStarted:function(t){var o=t.originalEvent;this.sortable.nativeDraggable?j(document,"dragover",this._handleAutoScroll):this.options.supportPointer?j(document,"pointermove",this._handleFallbackAutoScroll):o.touches?j(document,"touchmove",this._handleFallbackAutoScroll):j(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var o=t.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?U(document,"dragover",this._handleAutoScroll):(U(document,"pointermove",this._handleFallbackAutoScroll),U(document,"touchmove",this._handleFallbackAutoScroll),U(document,"mousemove",this._handleFallbackAutoScroll)),ha(),pt(),zo()},nulling:function(){yt=Vt=Fe=Ht=Ye=It=zt=null,ee.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,o){var s=this,l=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,u=document.elementFromPoint(l,i);if(yt=t,o||this.options.forceAutoScrollFallback||tt||Te||Ze){Pt(t,this.options,u,o);var c=De(u,!0);Ht&&(!Ye||l!==It||i!==zt)&&(Ye&&ha(),Ye=setInterval(function(){var f=De(document.elementFromPoint(l,i),!0);f!==c&&(c=f,pt()),Pt(t,s.options,f,o)},10),It=l,zt=i)}else{if(!this.options.bubbleScroll||De(u,!0)===ye()){pt();return}Pt(t,this.options,De(u,!1),!1)}}},$e(a,{pluginName:"scroll",initializeByDefault:!0})}function pt(){ee.forEach(function(a){clearInterval(a.pid)}),ee=[]}function ha(){clearInterval(Ye)}var Pt=$a(function(a,e,t,o){if(!!e.scroll){var s=(a.touches?a.touches[0]:a).clientX,l=(a.touches?a.touches[0]:a).clientY,i=e.scrollSensitivity,u=e.scrollSpeed,c=ye(),f=!1,h;Vt!==t&&(Vt=t,pt(),Fe=e.scroll,h=e.scrollFn,Fe===!0&&(Fe=De(t,!0)));var b=0,M=Fe;do{var D=M,E=oe(D),I=E.top,A=E.bottom,v=E.left,m=E.right,w=E.width,y=E.height,T=void 0,S=void 0,_=D.scrollWidth,L=D.scrollHeight,G=N(D),F=D.scrollLeft,ae=D.scrollTop;D===c?(T=w<_&&(G.overflowX==="auto"||G.overflowX==="scroll"||G.overflowX==="visible"),S=y<L&&(G.overflowY==="auto"||G.overflowY==="scroll"||G.overflowY==="visible")):(T=w<_&&(G.overflowX==="auto"||G.overflowX==="scroll"),S=y<L&&(G.overflowY==="auto"||G.overflowY==="scroll"));var Q=T&&(Math.abs(m-s)<=i&&F+w<_)-(Math.abs(v-s)<=i&&!!F),le=S&&(Math.abs(A-l)<=i&&ae+y<L)-(Math.abs(I-l)<=i&&!!ae);if(!ee[b])for(var pe=0;pe<=b;pe++)ee[pe]||(ee[pe]={});(ee[b].vx!=Q||ee[b].vy!=le||ee[b].el!==D)&&(ee[b].el=D,ee[b].vx=Q,ee[b].vy=le,clearInterval(ee[b].pid),(Q!=0||le!=0)&&(f=!0,ee[b].pid=setInterval(function(){o&&this.layer===0&&R.active._onTouchMove(yt);var be=ee[this.layer].vy?ee[this.layer].vy*u:0,we=ee[this.layer].vx?ee[this.layer].vx*u:0;typeof h=="function"&&h.call(R.dragged.parentNode[fe],we,be,a,yt,ee[this.layer].el)!=="continue"||Ta(ee[this.layer].el,we,be)}.bind({layer:b}),24))),b++}while(e.bubbleScroll&&M!==c&&(M=De(M,!1)));Ht=f}},30),za=function(e){var t=e.originalEvent,o=e.putSortable,s=e.dragEl,l=e.activeSortable,i=e.dispatchSortableEvent,u=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(!!t){var f=o||l;u();var h=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,b=document.elementFromPoint(h.clientX,h.clientY);c(),f&&!f.el.contains(b)&&(i("spill"),this.onSpill({dragEl:s,putSortable:o}))}};function Zt(){}Zt.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var s=Ue(this.sortable.el,this.startIndex,this.options);s?this.sortable.el.insertBefore(t,s):this.sortable.el.appendChild(t),this.sortable.animateAll(),o&&o.animateAll()},drop:za};$e(Zt,{pluginName:"revertOnSpill"});function Wt(){}Wt.prototype={onSpill:function(e){var t=e.dragEl,o=e.putSortable,s=o||this.sortable;s.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),s.animateAll()},drop:za};$e(Wt,{pluginName:"removeOnSpill"});R.mount(new Jo);R.mount(Wt,Zt);function Ko(){return typeof window<"u"?window.console:global.console}const Qo=Ko();function en(a){const e=Object.create(null);return function(o){return e[o]||(e[o]=a(o))}}const tn=/-(\w)/g,fa=en(a=>a.replace(tn,(e,t)=>t?t.toUpperCase():""));function Ot(a){a.parentElement!==null&&a.parentElement.removeChild(a)}function pa(a,e,t){const o=t===0?a.children[0]:a.children[t-1].nextSibling;a.insertBefore(e,o)}function an(a,e){return Object.values(a).indexOf(e)}function on(a,e,t,o){if(!a)return[];const s=Object.values(a),l=e.length-o;return[...e].map((u,c)=>c>=l?s.length:s.indexOf(u))}function Pa(a,e){this.$nextTick(()=>this.$emit(a.toLowerCase(),e))}function nn(a){return e=>{this.realList!==null&&this["onDrag"+a](e),Pa.call(this,a,e)}}function rn(a){return["transition-group","TransitionGroup"].includes(a)}function sn(a){if(!a||a.length!==1)return!1;const[{type:e}]=a;return e?rn(e.name):!1}function ln(a,e){return e?{...e.props,...e.attrs}:a}const Bt=["Start","Add","Remove","Update","End"],Ut=["Choose","Unchoose","Sort","Filter","Clone"],dn=["Move",...Bt,...Ut].map(a=>"on"+a);let Nt=null;const un={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:a=>a},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},cn=te({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...Bt.map(a=>a.toLowerCase()),...Ut.map(a=>a.toLowerCase())],props:un,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const a=this.$slots.default?this.$slots.default():null,e=ln(this.$attrs,this.componentData);return a?(this.transitionMode=sn(a),Kt(this.getTag(),e,a)):Kt(this.getTag(),e,[])},created(){this.list!==null&&this.modelValue!==null&&Qo.error("list props are mutually exclusive! Please set one.")},mounted(){const a={};Bt.forEach(s=>{a["on"+s]=nn.call(this,s)}),Ut.forEach(s=>{a["on"+s]=Pa.bind(this,s)});const e=Object.keys(this.$attrs).reduce((s,l)=>(s[fa(l)]=this.$attrs[l],s),{}),t=Object.assign({},e,a,{onMove:(s,l)=>this.onDragMove(s,l)});!("draggable"in t)&&(t.draggable=">*");const o=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new R(o,t),o.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch{}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(a){this.updateOptions(a)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?Ke(this.component):this.tag},updateOptions(a){for(var e in a){const t=fa(e);dn.indexOf(t)===-1&&this._sortable.option(t,a[e])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=on(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(a){const e=an(this.getChildrenNodes()||[],a);if(e===-1)return null;const t=this.realList[e];return{index:e,element:t}},emitChanges(a){this.$nextTick(()=>{this.$emit("change",a)})},alterList(a){if(this.list){a(this.list);return}const e=[...this.modelValue];a(e),this.$emit("update:modelValue",e)},spliceList(){const a=e=>e.splice(...arguments);this.alterList(a)},updatePosition(a,e){const t=o=>o.splice(e,0,o.splice(a,1)[0]);this.alterList(t)},getVmIndex(a){const e=this.visibleIndexes,t=e.length;return a>t-1?t:e[a]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(a){if(!this.noTransitionOnDrag||!this.transitionMode)return;var e=this.getChildrenNodes();e[a].data=null;const t=this.getComponent();t.children=[],t.kept=void 0},onDragStart(a){this.context=this.getUnderlyingVm(a.item),this.context&&(a.item._underlying_vm_=this.clone(this.context.element),Nt=a.item)},onDragAdd(a){const e=a.item._underlying_vm_;if(e===void 0)return;Ot(a.item);const t=this.getVmIndex(a.newIndex);this.spliceList(t,0,e),this.computeIndexes();const o={element:e,newIndex:t};this.emitChanges({added:o})},onDragRemove(a){if(pa(this.$el,a.item,a.oldIndex),a.pullMode==="clone"){Ot(a.clone);return}if(!this.context)return;const e=this.context.index;this.spliceList(e,1);const t={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:t})},onDragUpdate(a){Ot(a.item),pa(a.from,a.item,a.oldIndex);const e=this.context.index,t=this.getVmIndex(a.newIndex);this.updatePosition(e,t);const o={element:this.context.element,oldIndex:e,newIndex:t};this.emitChanges({moved:o})},updateProperty(a,e){a.hasOwnProperty(e)&&(a[e]+=this.headerOffset)},onDragMove(a,e){const t=this.move;if(!t||!this.realList)return!0;const o=this.getRelatedContextFromMoveEvent(a),s=this.context,l=this.computeFutureIndex(o,a);Object.assign(s,{futureIndex:l});const i=Object.assign({},a,{relatedContext:o,draggedContext:s});return t(i,e)},onDragEnd(){this.computeIndexes(),Nt=null},getTrargetedComponent(a){return a.__draggable_component__},getRelatedContextFromMoveEvent({to:a,related:e}){const t=this.getTrargetedComponent(a);if(!t)return{component:t};const o=t.realList,s={list:o,component:t};if(a!==e&&o&&t.getUnderlyingVm){const l=t.getUnderlyingVm(e);if(l)return Object.assign(l,s)}return s},computeFutureIndex(a,e){const t=[...e.to.children].filter(i=>i.style.display!=="none");if(t.length===0)return 0;const o=t.indexOf(e.related),s=a.component.getVmIndex(o);return t.indexOf(Nt)!==-1||!e.willInsertAfter?s:s+1}}});var Ae=(a=>(a.POINTS="points",a.TITLE="title",a))(Ae||{});const dt=ma(),Xt=ga("RankStore",{state:()=>({tableHeaders:["Round"],rankPoints:[],tableUsers:[],tableId:167,room:"",form:{newPoints:[{points:0,row:5,table_user:127,type:Ae.POINTS}],header:{title:"New Title",row:5,type:Ae.TITLE},showStoreForm:!1},testTableUsers:[3124,3125,3126,3127],editRow:null}),getters:{nextRow:a=>a.rankPoints.length},actions:{_fetchRankPoints(){re.emit("getRankTable",{table_id:this.$state.tableId},a=>{this.$state.rankPoints=a})},_store(){const a=[this.$state.form.header,...this.$state.form.newPoints];re.emit("storeRankRow",{data:a,room:this.$state.room,table_id:this.$state.tableId,row:this.nextRow},e=>{e.status===200?this.$state.form.showStoreForm=!1:dt.error("Something went wrong")})},_update(a){const e=this.$state.rankPoints.findIndex(o=>o.some(s=>s.row===a)),t=this.$state.rankPoints[e];re.emit("updateRankRow",{data:t,room:this.$state.room,table_id:this.$state.tableId,row:a},o=>{o.status===200?this.$state.editRow=null:dt.error("Something went wrong")})},_delete(a){const t=this.$state.rankPoints[a][0].row;re.emit("deleteRankRow",{room:this.$state.room,table_id:this.$state.tableId,row:t},o=>{o.status===200?dt.success("Row deleted successfully"):dt.error("Something went wrong")})},addNewPoints(){this.$state.form.newPoints=[];const a=this.nextRow;this.$state.tableId&&(this.$state.form.header={title:"Round "+a.toString(),row:a,type:Ae.TITLE},this.$state.tableUsers.forEach(e=>{this.$state.form.newPoints.push({points:0,row:a,table_user:e.id,type:Ae.POINTS})})),this.$state.form.showStoreForm=!0},addTableUsers(a){this.$state.tableUsers=a.sort((e,t)=>e.turn-t.turn),this.$state.tableHeaders=["Round"],this.$state.tableUsers.forEach(e=>{e.user.username&&this.$state.tableHeaders.push(e.user.username)}),this._fetchRankPoints()}}}),hn={key:0},fn=n("div",{class:"text-2xl underline underline-offset-4 w-full"}," Rank Table ",-1),pn={key:0},mn={key:1},gn=["onClick"],vn=["onClick"],bn=["onClick"],wn={key:1},_n=n("div",{class:"text-2xl underline underline-offset-4 w-full"}," Rank Table ",-1),yn=n("div",{class:"bg-red-500 p-4 my-4 rounded italic"}," The rank table is available when the game start ",-1),xn=[_n,yn],kn=te({__name:"RankTable",setup(a){const e=Xt();return(t,o)=>r(e).tableHeaders.length>1?(g(),x("div",hn,[p(C,{justify:"between"},{default:d(()=>[fn,p(oa,{title:"Add Points",onClick:o[0]||(o[0]=s=>r(e).addNewPoints()),disable:r(e).form.showStoreForm},null,8,["disable"])]),_:1}),r(e).rankPoints?(g(),O(ya,{key:0,"table-headers":r(e).tableHeaders,class:"border border-gray-700 rounded-lg overflow-y-auto",actions:!0},{default:d(()=>[(g(!0),x(Z,null,q(r(e).rankPoints,(s,l)=>(g(),O(Rt,{key:`rankRow-${s}`},{default:d(()=>[(g(!0),x(Z,null,q(s,i=>(g(),O(Le,{key:i.id},{default:d(()=>{var u;return[l===r(e).editRow?(g(),x("div",pn,[i.title&&i.type===r(Ae).TITLE?(g(),O(nt,{key:0,input:i.title,onChange:c=>i.title=c,"dark-theme":!0},null,8,["input","onChange"])):(g(),O(nt,{key:1,input:(u=i.points)!=null?u:0,type:"number",onChange:c=>i.points=c,"dark-theme":!0},null,8,["input","onChange"]))])):(g(),x("div",mn,Y(i.type===r(Ae).TITLE?i.title:i.points),1))]}),_:2},1024))),128)),p(Le,null,{default:d(()=>[l===r(e).editRow?(g(),O(C,{key:0},{default:d(()=>[n("div",{class:"text-blue-500 cursor-pointer",onClick:i=>r(e)._update(l)},"Update",8,gn)]),_:2},1024)):(g(),O(C,{key:1,gap:4},{default:d(()=>[n("div",{class:"text-blue-500 cursor-pointer",onClick:i=>r(e).editRow=l},"Edit",8,vn),n("div",{class:"text-red-500 cursor-pointer",onClick:i=>r(e)._delete(l)},"Delete",8,bn)]),_:2},1024))]),_:2},1024)]),_:2},1024))),128)),r(e).form.showStoreForm?(g(),O(Rt,{key:0,class:"bg-gray-700"},{default:d(()=>[p(Le,null,{default:d(()=>[p(nt,{input:r(e).form.header.title,onChange:o[1]||(o[1]=s=>r(e).form.header.title=s),placeholder:"Row title e.g. Round 1","dark-theme":!0},null,8,["input"])]),_:1}),(g(!0),x(Z,null,q(r(e).form.newPoints,s=>(g(),O(Le,{key:`new-item-${s.table_user}`},{default:d(()=>[p(nt,{input:s.points,type:"number","dark-theme":!0,onChange:l=>s.points=l,placeholder:"Points"},null,8,["input","onChange"])]),_:2},1024))),128)),p(Le,{class:"text-red-500 cursor-pointer",onClick:o[2]||(o[2]=s=>r(e).form.showStoreForm=!1)},{default:d(()=>[P("Cancel ")]),_:1})]),_:1})):H("",!0)]),_:1},8,["table-headers"])):H("",!0),p(C,{justify:"center",class:"mt-8",gap:4},{default:d(()=>[p(oa,{title:"Save Changes",disable:!r(e).form.showStoreForm,onClick:o[3]||(o[3]=s=>r(e)._store())},null,8,["disable"])]),_:1})])):(g(),x("div",wn,xn))}}),ne=a=>(Ga("data-v-3df5231c"),a=a(),La(),a),Cn={key:0,class:"bg-dark bg-opacity-90 fixed top-0 left-0 w-full h-full flex justify-center items-center z-[2147483647]"},$n=ne(()=>n("div",{class:"p-4 text-xl text-white"}," Game Master Dashboard ",-1)),Tn=["onClick"],Mn={class:"container my-10"},Sn={key:0},En=ne(()=>n("div",null," Actions ",-1)),Dn={class:"bg-dark-smooth p-4"},An=ne(()=>n("div",{class:"text-2xl text-white mb-4"},"Game Status",-1)),In=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"})],-1)),zn=["disable"],Pn=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.25 5C5.56 5 5 5.56 5 6.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C7.5 5.56 6.94 5 6.25 5zm3.5 0c-.69 0-1.25.56-1.25 1.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C11 5.56 10.44 5 9.75 5z"})],-1)),On=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.5 5A1.5 1.5 0 0 0 5 6.5v3A1.5 1.5 0 0 0 6.5 11h3A1.5 1.5 0 0 0 11 9.5v-3A1.5 1.5 0 0 0 9.5 5h-3z"})],-1)),Nn=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[n("path",{d:"M1.5 15a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1H13V2.5A1.5 1.5 0 0 0 11.5 1H11V.5a.5.5 0 0 0-.57-.495l-7 1A.5.5 0 0 0 3 1.5V15H1.5zM11 2h.5a.5.5 0 0 1 .5.5V15h-1V2zm-2.5 8c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1z"})],-1)),Rn={class:"bg-dark-smooth p-4 mt-6"},Gn=ne(()=>n("div",{class:"text-2xl text-white mb-4"},"Cards",-1)),Ln=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.79-2.907L8.5 7.028V5.5a.5.5 0 0 0-.79-.407L5 7.028V5.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0V8.972l2.71 1.935a.5.5 0 0 0 .79-.407V8.972l2.71 1.935A.5.5 0 0 0 12 10.5v-5a.5.5 0 0 0-.79-.407z"})],-1)),Vn=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.79 5.093A.5.5 0 0 0 4 5.5v5a.5.5 0 0 0 .79.407L7.5 8.972V10.5a.5.5 0 0 0 .79.407L11 8.972V10.5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-1 0v1.528L8.29 5.093a.5.5 0 0 0-.79.407v1.528L4.79 5.093z"})],-1)),Hn=["disable"],Bn=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[n("path",{d:"M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"})],-1)),Un=["disable"],jn=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[n("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM7.729 5.055A.5.5 0 0 1 8 5.5v1.886l3.21-2.293A.5.5 0 0 1 12 5.5v5a.5.5 0 0 1-.79.407L8 8.614V10.5a.5.5 0 0 1-.79.407l-3.5-2.5a.5.5 0 0 1 0-.814l3.5-2.5a.5.5 0 0 1 .519-.038Z"})],-1)),Fn=["disable"],Yn=ne(()=>n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[n("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM4.79 5.093 8 7.386V5.5a.5.5 0 0 1 .79-.407l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 8 10.5V8.614l-3.21 2.293A.5.5 0 0 1 4 10.5v-5a.5.5 0 0 1 .79-.407Z"})],-1)),Zn={key:1},Wn=ne(()=>n("div",{class:"w-1/6"},"Turn",-1)),Xn=ne(()=>n("div",{class:"w-1/6"},"Name",-1)),qn=ne(()=>n("div",{class:"w-1/6"},"Team",-1)),Jn=ne(()=>n("div",{class:"w-1/6"},"Status",-1)),Kn=ne(()=>n("div",{class:"w-1/6"},"Role",-1)),Qn=ne(()=>n("div",{class:"w-1/6"},"Actions",-1)),er={class:"w-1/6"},tr={class:"w-1/6"},ar={class:"w-1/6"},or={class:"w-1/6"},nr={class:"w-1/6"},rr={class:"w-1/6 text-red-500 cursor-pointer hover:text-red-600 transition duration-300 text-lg"},sr=["onClick"],lr={key:2},ir=te({__name:"ModalFullPage",props:{modalOpen:{type:Boolean},tableUsers:{type:Array,required:!0},table:{type:Object},tableStatus:{type:Object},menuTab:{type:Number,default:1}},emits:["closeModal","updateTurnTableUsers","updateRole","updateStatus","updateTeam","stopGame","exitTable","newGame","updateTableGameStatus","showAllCards","removePlayer","setNextPlayer"],setup(a,{emit:e}){const t=a,o=W(!0),s=W(null),l=W([{id:1,name:"Game"},{id:2,name:"Players"},{id:3,name:"Rank Table"}]),i=W(1),u=c=>{e("updateTurnTableUsers",c)};return Fa(s,()=>{e("closeModal")}),et(()=>t.menuTab,()=>{i.value=t.menuTab}),(c,f)=>(g(),O(Ra,{name:"modal"},{default:d(()=>[a.modalOpen?(g(),x("div",Cn,[n("div",{class:"bg-dark relative rounded-sm shadow h-full w-full",ref_key:"modal",ref:s},[p(C,{class:"border-b-2 px-8",justify:"between",items:"center"},{default:d(()=>[$n,n("button",{class:"cursor-pointer border h-10 w-10 border-transparent rounded-3xl px-2 transition duration-300 text-lg text-white hover:text-primary hover:bg-white",onClick:f[0]||(f[0]=h=>c.$emit("closeModal"))}," x ")]),_:1}),p(C,{class:"h-full text-white"},{default:d(()=>[p(C,{class:"border-r w-60 p-4",column:!0,gap:2},{default:d(()=>[(g(!0),x(Z,null,q(l.value,h=>(g(),x("div",{key:h.id,class:z(["px-4 py-3 hover:bg-primary rounded-lg border-gray-500 border cursor-pointer hover:border-primary transition duration-300 text-lg",i.value===h.id?"bg-primary":"bg-transparent"]),onClick:b=>i.value=h.id},Y(h.name),11,Tn))),128))]),_:1}),p(C,{class:"w-full overflow-x-auto"},{default:d(()=>[n("div",Mn,[i.value===1?(g(),x("div",Sn,[p(C,{class:"text-2xl underline underline-offset-4 mb-6 w-full",justify:"between"},{default:d(()=>[En,n("div",null,[p(Za,{title:"Close settings on click an action",input:o.value,onChange:f[1]||(f[1]=h=>o.value=h)},null,8,["input"])])]),_:1}),n("div",Dn,[An,p(C,{class:"w-full text-center cursor-pointer",gap:8},{default:d(()=>{var h,b,M,D;return[n("button",{onClick:f[2]||(f[2]=E=>{c.$emit("newGame"),o.value&&e("closeModal")}),class:"p-3 w-1/4 transition duration-300 text-lg bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary"},[p(C,{justify:"center",items:"center"},{default:d(()=>[In,P(" New Game ")]),_:1})]),n("button",{class:z(["p-3 w-1/4 transition duration-300 text-lg bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",((h=a.tableStatus)==null?void 0:h.status)===r(k).WAITING||((b=a.tableStatus)==null?void 0:b.status)===r(k).FINISH?"cursor-not-allowed":""]),disable:((M=a.tableStatus)==null?void 0:M.status)===r(k).WAITING||((D=a.tableStatus)==null?void 0:D.status)===r(k).FINISH,onClick:f[3]||(f[3]=E=>{var I;((I=a.tableStatus)==null?void 0:I.status)===r(k).PLAYING?c.$emit("updateTableGameStatus",r(k).PAUSE):c.$emit("updateTableGameStatus",r(k).PLAYING),o.value&&e("closeModal")})},[p(C,{justify:"center",items:"center"},{default:d(()=>{var E;return[Pn,P(" "+Y(((E=a.tableStatus)==null?void 0:E.status)===r(k).PAUSE?"Resume Game":"Pause Game"),1)]}),_:1})],10,zn),n("button",{onClick:f[4]||(f[4]=E=>{c.$emit("stopGame"),o.value&&e("closeModal")}),class:"p-3 w-1/4 transition duration-300 text-lg bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary"},[p(C,{justify:"center",items:"center"},{default:d(()=>[On,P(" End Game ")]),_:1})]),n("button",{class:"p-3 w-1/4 transition duration-300 text-lg bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",onClick:f[5]||(f[5]=E=>c.$emit("exitTable"))},[p(C,{justify:"center",items:"center"},{default:d(()=>[Nn,P(" Leave Game ")]),_:1})])]}),_:1})]),n("div",Rn,[Gn,p(C,{class:"w-full text-center cursor-pointer",gap:8},{default:d(()=>{var h,b,M,D,E,I;return[n("div",{class:"p-3 transition duration-300 text-lg w-1/3 bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",onClick:f[6]||(f[6]=A=>c.$emit("setNextPlayer",!1))},[p(C,{justify:"center",items:"center"},{default:d(()=>[Ln,P(" Previous Player ")]),_:1})]),n("div",{class:"p-3 transition duration-300 text-lg w-1/3 bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",onClick:f[7]||(f[7]=A=>c.$emit("setNextPlayer",!0))},[p(C,{justify:"center",items:"center"},{default:d(()=>[Vn,P(" Next Player ")]),_:1})]),n("div",{onClick:f[8]||(f[8]=A=>{c.$emit("showAllCards"),o.value&&e("closeModal")}),class:z(["p-3 transition duration-300 text-lg w-1/3 bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",((h=a.tableStatus)==null?void 0:h.status)===r(k).WAITING?"cursor-not-allowed":""]),disable:((b=a.tableStatus)==null?void 0:b.status)===r(k).WAITING},[p(C,{justify:"center",items:"center"},{default:d(()=>[Bn,P(" Show all cards ")]),_:1})],10,Hn),n("div",{class:z(["p-3 transition duration-300 text-lg w-1/3 bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",((M=a.tableStatus)==null?void 0:M.status)===r(k).WAITING?"cursor-not-allowed":""]),disable:((D=a.tableStatus)==null?void 0:D.status)===r(k).WAITING},[p(C,{justify:"center",items:"center"},{default:d(()=>[jn,P(" Undo ")]),_:1})],10,Un),n("div",{class:z(["p-3 transition duration-300 text-lg w-1/3 bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",((E=a.tableStatus)==null?void 0:E.status)===r(k).WAITING?"cursor-not-allowed":""]),disable:((I=a.tableStatus)==null?void 0:I.status)===r(k).WAITING},[p(C,{justify:"center",items:"center"},{default:d(()=>[Yn,P(" Redo ")]),_:1})],10,Fn)]}),_:1})])])):H("",!0),i.value===2?(g(),x("div",Zn,[p(C,{disabled:"",class:"list-group-item bg-dark-smooth m-1 p-3 rounded-md text-center border border-primary mb-6",justify:"center"},{default:d(()=>[Wn,Xn,qn,Jn,Kn,Qn]),_:1}),p(C,{class:"w-full"},{default:d(()=>[a.tableUsers?(g(),O(r(cn),{key:0,class:"dragArea list-group w-full",list:a.tableUsers,onChange:u,disabled:!1,group:{name:"people"},"ghost-class":"ghost"},{default:d(()=>[p(Na,null,{default:d(()=>[(g(!0),x(Z,null,q(a.tableUsers,h=>(g(),O(C,{items:"center",gap:8,class:"list-group-item bg-dark-smooth m-1 p-3 rounded-md text-center mb-3",key:h.id},{default:d(()=>{var b,M,D,E,I,A,v,m,w,y,T,S;return[n("div",er,Y(h.turn),1),n("div",tr,Y(h.user.username),1),n("div",ar,[p($t,{options:(M=(b=a.table)==null?void 0:b.game)==null?void 0:M.teams,dark:!0,input:(D=h.team)!=null&&D.id?{value:(E=h.team)==null?void 0:E.id}:null,onUpdate:_=>c.$emit("updateTeam",_,h)},null,8,["options","input","onUpdate"])]),n("div",or,[p($t,{options:(A=(I=a.table)==null?void 0:I.game)==null?void 0:A.status,dark:!0,input:(v=h.status)!=null&&v.id?{value:(m=h.status)==null?void 0:m.id}:null,onUpdate:_=>c.$emit("updateStatus",_,h)},null,8,["options","input","onUpdate"])]),n("div",nr,[p($t,{options:(y=(w=a.table)==null?void 0:w.game)==null?void 0:y.roles,dark:!0,input:(T=h.role)!=null&&T.id?{value:(S=h.role)==null?void 0:S.id}:null,onUpdate:_=>c.$emit("updateRole",_,h)},null,8,["options","input","onUpdate"])]),n("div",rr,[n("button",{onClick:_=>c.$emit("removePlayer",h.user.id)},"Remove User",8,sr)])]}),_:2},1024))),128))]),_:1})]),_:1},8,["list"])):H("",!0)]),_:1})])):H("",!0),i.value===3?(g(),x("div",lr,[p(kn)])):H("",!0)])]),_:1})]),_:1})],512)])):H("",!0)]),_:1}))}});const dr=Wa(ir,[["__scopeId","data-v-3df5231c"]]),ur=te({__name:"GameUserItem",props:{playing:{type:Boolean,default:!1}},setup(a){return(e,t)=>(g(),x("div",{class:z(["px-4 py-3 rounded-lg hover:border-primary transition duration-300",a.playing?"bg-primary":"bg-dark-smooth"])},[va(e.$slots,"default")],2))}}),jt="/assets/close-card.89ac7cbb.png",cr=n("div",{class:"text-2xl border-b border-primary pb-2"},"Users",-1),hr={class:"w-3/6"},fr=n("img",{src:Xa,alt:"cards",srcset:""},null,-1),pr=["onClick"],mr=n("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"},null,-1),gr=[mr],vr={key:1,class:"p-2 mt-2 shadow-2xl rounded-xl border-dashed border"},br=n("div",{class:"w-2/6"},"Team:",-1),wr=n("div",{class:"w-2/6"},"Role:",-1),_r=n("div",{class:"w-2/6"},"Status:",-1),yr={key:2,class:"mt-4"},xr=["src"],kr=te({__name:"SidebarGame",setup(a){const e=Ie(),t=W([]),o=l=>t.value.indexOf(l)!==-1,s=l=>{t.value.indexOf(l)!==-1?t.value=t.value.filter(i=>i!==l):t.value.push(l)};return et(()=>e.table,()=>{var l,i,u;((l=e.table)==null?void 0:l.status)!==k.WAITING&&(t.value=[],(u=(i=e.table)==null?void 0:i.table_users)==null||u.forEach(c=>{t.value.push(c.id)}))}),(l,i)=>{const u=Ke("RouterLink");return g(),O(C,{class:"border-l w-72 p-4 h-full bg-dark text-white",column:!0,gap:2},{default:d(()=>[p(C,{column:!0,justify:"between",class:"h-[96%]"},{default:d(()=>{var c,f;return[n("div",null,[cr,(g(!0),x(Z,null,q((f=(c=r(e).table)==null?void 0:c.table_users)==null?void 0:f.sort((h,b)=>h.turn-b.turn),(h,b)=>(g(),O(ur,{key:b,class:"mt-3 w-2xl bg-primary",playing:h.playing},{default:d(()=>{var M,D,E,I,A,v,m,w,y,T;return[p(C,{items:"center",justify:r(e).cards?"center":"between",gap:2},{default:d(()=>{var S,_,L,G;return[n("div",hr,Y((S=h.user)==null?void 0:S.username),1),r(e).cards?(g(),O(C,{key:0,gap:2,class:"w-2/6"},{default:d(()=>{var F;return[fr,n("div",null,Y((F=r(e).getCards(r(e).getTableDeckIdOfUser(h.user.id)))==null?void 0:F.length),1)]}),_:2},1024)):H("",!0),((_=h.team)==null?void 0:_.name)||((L=h.role)==null?void 0:L.name)||((G=h.status)==null?void 0:G.name)||r(e).cards?(g(),x("div",{key:1,class:"w-1/6 cursor-pointer group",onClick:F=>s(h.id)},[(g(),x("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:z(["group-hover:text-primary duration-300 transition",o(h.id)?"rotate-0":"rotate-180"]),viewBox:"0 0 16 16"},gr,2))],8,pr)):H("",!0)]}),_:2},1032,["justify"]),((D=(M=r(e).table)==null?void 0:M.game_master)==null?void 0:D.id)===((E=h.user)==null?void 0:E.id)?(g(),x("div",{key:0,class:z(["italic font-bold",r(e).table.game_master.id===((I=h.user)==null?void 0:I.id)&&h.playing?"text-dark":"text-primary"])},"Game Master",2)):H("",!0),o(h.id)&&(((A=h.team)==null?void 0:A.name)||((v=h.role)==null?void 0:v.name)||((m=h.status)==null?void 0:m.name))?(g(),x("div",vr,[(w=h.team)!=null&&w.name?(g(),O(C,{key:0},{default:d(()=>{var S,_;return[br,n("div",null,Y((S=h.team)!=null&&S.name?(_=h.team)==null?void 0:_.name:"none"),1)]}),_:2},1024)):H("",!0),(y=h.role)!=null&&y.name?(g(),O(C,{key:1},{default:d(()=>{var S,_;return[wr,n("div",null,Y((S=h.role)!=null&&S.name?(_=h.role)==null?void 0:_.name:"none"),1)]}),_:2},1024)):H("",!0),(T=h.status)!=null&&T.name?(g(),O(C,{key:2},{default:d(()=>{var S,_;return[_r,n("div",null,Y((S=h.status)!=null&&S.name?(_=h.status)==null?void 0:_.name:"none"),1)]}),_:2},1024)):H("",!0)])):H("",!0),r(e).cards&&o(h.id)?(g(),x("div",yr,[p(C,{gap:2,class:"flex-wrap",justify:"start"},{default:d(()=>[(g(!0),x(Z,null,q(r(e).getCards(r(e).getTableDeckIdOfUser(h.user.id)),(S,_)=>(g(),x("img",{src:S.hidden?r(jt):r(Qe)(S.card.image),alt:"",srcset:"",key:`user-card-${_}`,class:"w-10 h-12 hover:scale-150 transition duration-500"},null,8,xr))),128))]),_:2},1024)])):H("",!0)]}),_:2},1032,["playing"]))),128))]),p(C,{justify:"center"},{default:d(()=>[p(u,{to:{name:"lobby"}},{default:d(()=>[p(qa,{title:"Leave Game"})]),_:1})]),_:1})]}),_:1})]),_:1})}}}),Cr=["id"],$r={class:"relative w-full h-full"},Tr=["src"],Mr={key:0,class:"absolute top-[39.5px] left-[21.5px] text-black"},Sr=n("svg",{width:"16",height:"16",fill:"currentColor",class:"w-5 h-5",viewBox:"0 0 16 16"},[n("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"}),n("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"})],-1),Er=[Sr],mt=te({__name:"DraggableCard",props:{card:{type:Object,required:!0},absolute:{type:Boolean,default:!0},hiddenCards:{type:Boolean,default:!1},rotate:{type:Boolean,default:!1},showCards:{type:Boolean,default:!1},playerDeck:{type:Boolean,default:!1}},emits:["onDragStart"],setup(a,{emit:e}){const t=a,o=Ie(),s=W(null),l=u=>{switch(u){case ot.ZERO:return"";case ot.NINETY:return" rotate-90";case ot.ONE_EIGHTY:return" rotate-180";case ot.TWO_SEVENTY:return" -rotate-90";default:return""}},i=u=>t.hiddenCards?jt:t.showCards?Qe(u.card.image):u.hidden?jt:Qe(u.card.image);return xt(()=>{t.card&&s.value&&(s.value.style.top=`${t.card.position_x}px`,s.value.style.left=`${t.card.position_y}px`,s.value.style.zIndex=`${t.card.z_index}`)}),et([()=>t.card.position_x,()=>t.card.position_y,()=>t.card.z_index],([u,c],[f,h])=>{s.value&&(s.value.style.top=`${t.card.position_x}px`,s.value.style.left=`${t.card.position_y}px`,s.value.style.zIndex=t.card.z_index.toString())}),(u,c)=>(g(),x("div",{ref_key:"cardRef",ref:s,id:a.card.id.toString(),class:z(["card-box cursor-pointer",[a.absolute?"absolute":"",a.rotate?l(a.card.rotate):""]]),onClick:c[0]||(c[0]=f=>r(o).clickCardId===a.card.id?r(o).clickCardId=null:r(o).clickCardId=a.card.id),onDragstart:c[1]||(c[1]=f=>u.$emit("onDragStart",f,s.value)),draggable:"true"},[n("div",$r,[n("img",{ref_key:"cardRef",ref:s,src:i(a.card),class:z(["card-box",[a.playerDeck?a.card.hidden?"":"opacity-50":"",r(o).clickCardId===a.card.id?"border-2 border-red-500":"hover:border hover:border-dark"]])},null,10,Tr),a.playerDeck&&!a.card.hidden?(g(),x("div",Mr,Er)):H("",!0)])],42,Cr))}}),Dr={class:"text-sm text-center"},Ar={key:0,class:"text-primary text-sm"},Ir=te({__name:"TableDecks",props:{deck:{type:Object,required:!0}},emits:["deckCreate","onDrop","onDragLeave","onDragEnter","onDragStart"],setup(a,{emit:e}){const t=W(null);return xt(()=>{t.value&&e("deckCreate",t.value)}),(o,s)=>(g(),O(C,{gap:4,class:"my-2 mx-8"},{default:d(()=>[p(C,{column:!0,items:"center"},{default:d(()=>{var l,i,u;return[n("div",{class:z(["relative card-box dropZone",(l=a.deck.cards)!=null&&l.length?"":"border"]),ref_key:"deckReference",ref:t,onDrop:s[0]||(s[0]=c=>o.$emit("onDrop",c,a.deck.tableDeckId)),onDragover:s[1]||(s[1]=ke(()=>{},["prevent"])),onDragleave:s[2]||(s[2]=c=>o.$emit("onDragLeave",c)),onDragenter:s[3]||(s[3]=ke(c=>o.$emit("onDragEnter",c),["prevent"]))},[(g(!0),x(Z,null,q(a.deck.cards,(c,f)=>(g(),O(mt,{card:c,key:f,onOnDragStart:(h,b)=>o.$emit("onDragStart",h,b,c),"hidden-cards":a.deck.deckType===r(Ja).DECK},null,8,["card","onOnDragStart","hidden-cards"]))),128))],34),n("div",Dr,Y(a.deck.deckName),1),a.deck.cards&&((i=a.deck.cards)==null?void 0:i.length)>0?(g(),x("div",Ar,Y((u=a.deck.cards)==null?void 0:u.length),1)):H("",!0)]}),_:1})]),_:1}))}}),zr=n("div",{class:"py-3 pr-4 border-r cursor-pointer"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6",viewBox:"0 0 16 16"},[n("path",{"fill-rule":"evenodd",d:"M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2zM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10zM.146 8.354a.5.5 0 0 1 0-.708l2-2a.5.5 0 1 1 .708.708L1.707 7.5H5.5a.5.5 0 0 1 0 1H1.707l1.147 1.146a.5.5 0 0 1-.708.708l-2-2zM10 8a.5.5 0 0 1 .5-.5h3.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L14.293 8.5H10.5A.5.5 0 0 1 10 8z"})])],-1),Pr={class:"py-1"},Or=n("path",{"fill-rule":"evenodd",d:"M6.5 12a5.5 5.5 0 1 0 0-11 5.5 5.5 0 0 0 0 11zM13 6.5a6.5 6.5 0 1 1-13 0 6.5 6.5 0 0 1 13 0z"},null,-1),Nr=n("path",{d:"M10.344 11.742c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1 6.538 6.538 0 0 1-1.398 1.4z"},null,-1),Rr=n("path",{"fill-rule":"evenodd",d:"M6.5 3a.5.5 0 0 1 .5.5V6h2.5a.5.5 0 0 1 0 1H7v2.5a.5.5 0 0 1-1 0V7H3.5a.5.5 0 0 1 0-1H6V3.5a.5.5 0 0 1 .5-.5z"},null,-1),Gr=[Or,Nr,Rr],Lr={class:"py-1"},Vr=n("path",{d:"m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7.029 7.029 0 0 0 2.79-.588zM5.21 3.088A7.028 7.028 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474L5.21 3.089z"},null,-1),Hr=n("path",{d:"M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829l-2.83-2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12-.708.708z"},null,-1),Br=[Vr,Hr],Ur=n("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"},null,-1),jr=n("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"},null,-1),Fr=[Ur,jr],Yr={class:"py-1"},Zr=n("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"},null,-1),Wr=n("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"},null,-1),Xr=[Zr,Wr],qr={class:"py-1"},Jr=n("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"},null,-1),Kr=n("path",{d:"M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"},null,-1),Qr=[Jr,Kr],es={class:"py-1"},ts=n("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"},null,-1),as=[ts],os=n("path",{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514ZM11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1),ns=n("path",{d:"M2 13c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Z"},null,-1),rs=[os,ns],ss={key:0,class:"py-1"},ls={class:"p-2 rounded-3xl cursor-pointer hover:bg-white group transition duration-300"},is=n("path",{d:"M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-9 8c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Zm9.886-3.54c.18-.613 1.048-.613 1.229 0l.043.148a.64.64 0 0 0 .921.382l.136-.074c.561-.306 1.175.308.87.869l-.075.136a.64.64 0 0 0 .382.92l.149.045c.612.18.612 1.048 0 1.229l-.15.043a.64.64 0 0 0-.38.921l.074.136c.305.561-.309 1.175-.87.87l-.136-.075a.64.64 0 0 0-.92.382l-.045.149c-.18.612-1.048.612-1.229 0l-.043-.15a.64.64 0 0 0-.921-.38l-.136.074c-.561.305-1.175-.309-.87-.87l.075-.136a.64.64 0 0 0-.382-.92l-.148-.045c-.613-.18-.613-1.048 0-1.229l.148-.043a.64.64 0 0 0 .382-.921l-.074-.136c-.306-.561.308-1.175.869-.87l.136.075a.64.64 0 0 0 .92-.382l.045-.148ZM14 12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"},null,-1),ds=[is],us={class:"cursor-default bg-black py-2 text-white"},cs=n("div",{class:"border-b p-2"}," Status player ",-1),hs=n("div",null," --Empty-- ",-1),fs={key:0},ps=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6",viewBox:"0 0 16 16"},[n("path",{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"})],-1),ms=[ps],gs=["onClick"],vs={key:0},bs=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6",viewBox:"0 0 16 16"},[n("path",{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"})],-1),ws=[bs],_s={class:"py-1"},ys=n("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"},null,-1),xs=[ys],ks={key:0,class:"absolute inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-red-500 border-2 border-white rounded-full -top-2 -right-2 dark:border-gray-900"},Cs={class:"py-1"},$s={class:"p-2 rounded-3xl cursor-pointer hover:bg-white group transition duration-300 relative"},Ts=n("path",{d:"M8.5 1.75v2.716l.047-.002c.312-.012.742-.016 1.051.046.28.056.543.18.738.288.273.152.456.385.56.642l.132-.012c.312-.024.794-.038 1.158.108.37.148.689.487.88.716.075.09.141.175.195.248h.582a2 2 0 0 1 1.99 2.199l-.272 2.715a3.5 3.5 0 0 1-.444 1.389l-1.395 2.441A1.5 1.5 0 0 1 12.42 16H6.118a1.5 1.5 0 0 1-1.342-.83l-1.215-2.43L1.07 8.589a1.517 1.517 0 0 1 2.373-1.852L5 8.293V1.75a1.75 1.75 0 0 1 3.5 0z"},null,-1),Ms=[Ts],Ss={class:"cursor-default bg-black py-2 text-white"},Es=n("div",{class:"border-b p-2"}," Get all cards from: ",-1),Ds=["onClick"],As={class:"py-1"},Is={class:"p-2 rounded-3xl cursor-pointer hover:bg-white group transition duration-300 relative"},zs=n("path",{d:`M57.832,26.926l-8-12c-0.186-0.278-0.498-0.445-0.832-0.445H9c-0.335,0-0.646,0.167-0.832,0.445l-8,12\r
        		c-0.205,0.307-0.224,0.701-0.05,1.026C0.292,28.278,0.631,28.481,1,28.481h6v15.038h2V28.481h5v6h2v-6h27v6h2v-6h5v15.038h2V28.481\r
        		h5c0.369,0,0.708-0.203,0.882-0.528C58.056,27.627,58.037,27.233,57.832,26.926z M2.869,26.481l6.666-10h38.93l6.667,10H2.869z`},null,-1),Ps=[zs],Os={class:"cursor-default bg-black py-2 text-white"},Ns=n("div",{class:"border-b p-2"}," Move cards from table to: ",-1),Rs=["onClick"],Gs={key:1,class:"py-1"},Ls={class:"p-2 rounded-3xl hover:bg-white group transition duration-300 relative"},Vs=n("path",{d:"M11.5 12.5a3.493 3.493 0 0 1-2.684-1.254 19.92 19.92 0 0 0 1.582 2.907c.231.35-.02.847-.438.847H6.04c-.419 0-.67-.497-.438-.847a19.919 19.919 0 0 0 1.582-2.907 3.5 3.5 0 1 1-2.538-5.743 3.5 3.5 0 1 1 6.708 0A3.5 3.5 0 1 1 11.5 12.5z"},null,-1),Hs=[Vs],Bs={class:"cursor-default bg-black py-2 text-white"},Us=n("div",{class:"border-b p-2"}," Give card to player: ",-1),js=["onClick"],Fs=te({__name:"PlayerSettings",setup(a){const e=Ie(),t=W(null),o=W(!0),s=W("Please click a card first"),{x:l,y:i,style:u}=Ya(t,{initialValue:{x:window.innerWidth*.5-300,y:window.innerHeight-250}}),c=()=>{var b;const h=(b=e.cards)==null?void 0:b.find(M=>M.id===e.clickCardId);return h&&(h.table_deck.id===e.getExistPlayerTableDeckId||!(h!=null&&h.hidden))},f=()=>{var h,b;return e.clickCardId&&((h=e.getClickedCard)==null?void 0:h.table_deck.id)===e.getExistPlayerTableDeckId||((b=e.getExistTableUser)==null?void 0:b.playing)};return(h,b)=>{const M=Ke("VTooltip"),D=Ke("VMenu");return g(),x("div",{ref_key:"el",ref:t,style:Va([r(u),{position:"fixed"}]),class:z([r(e).clickCardId?"snooze":"","z-[2147483644]"])},[p(C,{class:z(["rounded-2xl px-4 border border-white transition duration-500",r(e).getExistPlayerPlayingStatus?"bg-primary":"bg-dark"]),gap:2},{default:d(()=>{var E,I,A,v,m;return[zr,n("div",Pr,[p(M,null,{popper:d(()=>[P(" Zoom Card ")]),default:d(()=>[n("div",{class:z(["p-2 rounded-3xl group transition duration-300",[c()?"hover:bg-white cursor-pointer":"cursor-not-allowed"]]),onClick:b[0]||(b[0]=w=>c()?r(e).isCardDetailsModalOpen=!0:"")},[(g(),x("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:z([[c()?"group-hover:text-dark":"opacity-50"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},Gr,2))],2)]),_:1})]),n("div",Lr,[p(M,null,{popper:d(()=>[P(Y(r(e).clickCardId?"Show / Hide card":s.value),1)]),default:d(()=>[n("div",{class:z(["p-2 rounded-3xl group transition duration-300",[f()||r(e).gameMaster?"hover:bg-white cursor-pointer":"cursor-not-allowed"]]),onClick:b[1]||(b[1]=w=>f()||r(e).gameMaster?r(e).toggleCardVisibility():"")},[r(e).isCardHidden()?(g(),x("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:z([[f()?"group-hover:text-dark":"opacity-50"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},Br,2)):(g(),x("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:z([[f()?"group-hover:text-dark":"opacity-50"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},Fr,2))],2)]),_:1})]),n("div",Yr,[p(M,null,{popper:d(()=>[P(" Rotate card right 90\xB0 ")]),default:d(()=>[n("div",{class:z(["p-2 rounded-3xl group transition duration-300",[f()||r(e).gameMaster?"hover:bg-white cursor-pointer hover:rotate-90":"cursor-not-allowed"]]),onClick:b[2]||(b[2]=w=>f()||r(e).gameMaster?r(e).rotateCard(r(ta).RIGHT):"")},[(g(),x("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:z([[f()||r(e).gameMaster?"group-hover:text-dark":"opacity-50"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},Xr,2))],2)]),_:1})]),n("div",qr,[p(M,null,{popper:d(()=>[P(" Rotate card left 90\xB0 ")]),default:d(()=>[n("div",{class:z(["p-2 rounded-3xl group transition duration-300",[f()||r(e).gameMaster?"hover:bg-white cursor-pointer hover:-rotate-90":"cursor-not-allowed"]]),onClick:b[3]||(b[3]=w=>f()||r(e).gameMaster?r(e).rotateCard(r(ta).LEFT):"")},[(g(),x("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:z([[f()||r(e).gameMaster?"group-hover:text-dark":"opacity-50"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},Qr,2))],2)]),_:1})]),n("div",es,[p(M,null,{popper:d(()=>[P(' Set status "My turn" ')]),default:d(()=>[n("div",{onClick:b[4]||(b[4]=w=>o.value?r(e).setPlayingPlayer():""),class:"p-2 rounded-3xl cursor-pointer hover:bg-white group transition duration-300"},[r(e).getExistPlayerPlayingStatus?(g(),x("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:z([[o.value?"group-hover:text-dark":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},rs,2)):(g(),x("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:z([[o.value?"group-hover:text-dark":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},as,2))])]),_:1})]),((A=(I=(E=r(e).table)==null?void 0:E.game)==null?void 0:I.status)==null?void 0:A.length)!==0?(g(),x("div",ss,[p(D,{placement:"top"},{popper:d(()=>{var w,y;return[n("div",us,[cs,n("div",{class:"p-2 mt-2 cursor-pointer hover:bg-white hover:text-black transition duration-300",onClick:b[5]||(b[5]=T=>r(e).addStatusPlayer(null))},[p(C,{justify:"between",items:"center"},{default:d(()=>{var T;return[hs,((T=r(e).getExistTableUser)==null?void 0:T.status)===null?(g(),x("div",fs,ms)):H("",!0)]}),_:1})]),(g(!0),x(Z,null,q((y=(w=r(e).table)==null?void 0:w.game)==null?void 0:y.status,T=>(g(),x("div",{class:"p-2 mt-2 cursor-pointer hover:bg-white hover:text-black transition duration-300",key:T.id,onClick:S=>r(e).addStatusPlayer(T)},[p(C,{justify:"between",items:"center"},{default:d(()=>{var S,_;return[n("div",null,Y(T.name),1),((_=(S=r(e).getExistTableUser)==null?void 0:S.status)==null?void 0:_.id)===T.id?(g(),x("div",vs,ws)):H("",!0)]}),_:2},1024)],8,gs))),128))])]}),default:d(()=>[n("div",ls,[(g(),x("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:z([[o.value?"group-hover:text-dark":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},ds,2))])]),_:1})])):H("",!0),n("div",_s,[p(M,null,{popper:d(()=>[P(" View Rank ")]),default:d(()=>[n("button",{class:"p-2 rounded-3xl cursor-pointer hover:bg-white group transition duration-300 relative",onClick:b[6]||(b[6]=w=>{r(e).rank.isRankModalOpen=!0,r(e).rank.notification=!1})},[(g(),x("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:z([[o.value?"group-hover:text-dark":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},xs,2)),r(e).rank.notification?(g(),x("div",ks," ! ")):H("",!0)])]),_:1})]),n("div",Cs,[p(D,{placement:"top"},{popper:d(()=>{var w,y;return[n("div",Ss,[Es,(g(!0),x(Z,null,q((y=(w=r(e).table)==null?void 0:w.table_decks)==null?void 0:y.filter(T=>T.type!==r(ge).USER),T=>{var S;return g(),x("div",{class:z(["p-2 mt-2 cursor-pointer hover:bg-white hover:text-black transition duration-300",((S=r(e).getExistTableUser)==null?void 0:S.playing)||r(e).gameMaster?"cursor-pointer":"cursor-not-allowed"]),key:T.id,onClick:_=>{var L,G,F;return((L=r(e).getExistTableUser)==null?void 0:L.playing)||r(e).gameMaster?r(e).cardsToDeck(T.id,(F=(G=r(e).table)==null?void 0:G.table_decks)==null?void 0:F.find(ae=>ae.id===r(e).getExistPlayerTableDeckId)):""}},[p(C,{justify:"between",items:"center"},{default:d(()=>{var _;return[n("div",null,Y((_=T.deck)==null?void 0:_.name),1)]}),_:2},1024)],10,Ds)}),128))])]}),default:d(()=>{var w;return[n("div",$s,[(g(),x("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:z([[((w=r(e).getExistTableUser)==null?void 0:w.playing)||r(e).gameMaster?"":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300 group-hover:text-dark"]),viewBox:"0 0 16 16"},Ms,2))])]}),_:1})]),n("div",As,[p(D,{placement:"top"},{popper:d(()=>{var w,y;return[n("div",Os,[Ns,(g(!0),x(Z,null,q((y=(w=r(e).table)==null?void 0:w.table_decks)==null?void 0:y.filter(T=>T.type===r(ge).JUNK||T.type===r(ge).DECK),T=>{var S,_;return g(),x("div",{class:z(["p-2 mt-2 cursor-pointer hover:bg-white hover:text-black transition duration-300",((S=r(e).getExistTableUser)==null?void 0:S.playing)||r(e).gameMaster?"cursor-pointer":"cursor-not-allowed"]),key:T.id,onClick:L=>{var G;return((G=r(e).getExistTableUser)==null?void 0:G.playing)||r(e).gameMaster?r(e).cardsToDeck(r(e).getTableDeckId,T):""}},Y((_=T.deck)==null?void 0:_.name),11,Rs)}),128))])]}),default:d(()=>{var w;return[n("div",Is,[(g(),x("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:z([[((w=r(e).getExistTableUser)==null?void 0:w.playing)||r(e).gameMaster?"":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300 group-hover:text-dark"]),viewBox:"0 0 56 56"},Ps,2))])]}),_:1})]),(m=(v=r(e).table)==null?void 0:v.game)!=null&&m.status?(g(),x("div",Gs,[p(D,{placement:"top"},{popper:d(()=>{var w,y;return[n("div",Bs,[Us,(g(!0),x(Z,null,q((y=(w=r(e).table)==null?void 0:w.table_decks)==null?void 0:y.filter(T=>T.type===r(ge).USER&&T.id!==r(e).getExistPlayerTableDeckId),T=>{var S,_;return g(),x("div",{class:z(["p-2 mt-2 hover:bg-white hover:text-black transition duration-300",((S=r(e).getExistTableUser)==null?void 0:S.playing)||r(e).gameMaster?"cursor-pointer":"cursor-not-allowed"]),key:T.id,onClick:L=>{var G;return r(e).clickCardId&&((G=r(e).getExistTableUser)==null?void 0:G.playing)||r(e).gameMaster?r(e).cardToPlayer(T.id):""}},Y((_=T.user)==null?void 0:_.username),11,js)}),128))])]}),default:d(()=>{var w;return[n("button",Ls,[(g(),x("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:z([[r(e).clickCardId&&((w=r(e).getExistTableUser)==null?void 0:w.playing)||r(e).gameMaster?"":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300 group-hover:text-dark"]),viewBox:"0 0 16 16"},Hs,2))])]}),_:1})])):H("",!0)]}),_:1},8,["class"])],6)}}});const Ys=n("div",{class:"text-sm text-center"},"Junk Deck",-1),Zs={key:0,class:"text-primary text-sm"},Ws={class:"col-span-1"},Xs=n("div",{class:"text-black"}," Card Details ",-1),qs=["src"],Js=n("div",{class:"text-black"}," Rank Table ",-1),Ks={key:1,class:"bg-red-500 p-4 my-4 rounded italic"},Qs=te({__name:"OnlineTable",setup(a){var E,I;const e=Ie(),t=W("600"),o=W("1000"),s=W("600"),l=Xt();(E=e.table)!=null&&E.game&&(s.value=parseFloat((t.value/((I=e.table)==null?void 0:I.game.grid_rows)).toFixed(1)));const i=W(null),u=W(null),c=W(null);xt(()=>{c.value&&(e.deckReferences.junk=c.value,e.dropZones.junk[0].element=c.value),u.value&&(e.deckReferences.table=u.value,e.dropZones.table[0].element=u.value),i.value&&(e.deckReferences.user=i.value,e.dropZones.user[0].element=i.value)});const f=(A,v)=>{A&&(e.dropZones.deck[v].element=A)};W(2);const h=A=>{},b=A=>{},M=(A,v,m)=>{A.dataTransfer.dropEffect="move",A.dataTransfer.effectAllowed="move",A.dataTransfer.setData("card",JSON.stringify(m)),A.dataTransfer.setData("cardHeight",v.offsetHeight),A.dataTransfer.setData("cardWidth",v.offsetWidth),A.dataTransfer.setData("top",A.y-v.getBoundingClientRect().top),A.dataTransfer.setData("left",A.x-v.getBoundingClientRect().left)},D=(A,v,m)=>{e.onDrop(A,v,m)};return et(()=>{var A,v;return(v=(A=e.table)==null?void 0:A.game)==null?void 0:v.grid_rows},()=>{var A,v;(A=e.table)!=null&&A.game&&(s.value=parseFloat((t.value/((v=e.table)==null?void 0:v.game.grid_rows)).toFixed(1)))}),(A,v)=>(g(),x(Z,null,[p(C,{justify:"center"},{default:d(()=>[p(C,{class:z([`w-[${o.value}px] h-[120px]`,"bg-secondary border px-4 divide-x-2 h-full"]),items:"center",justify:"center"},{default:d(()=>[r(e).cards?(g(),O(C,{key:0},{default:d(()=>[(g(!0),x(Z,null,q(r(e).dropZones.deck,(m,w)=>{var y,T,S,_,L,G,F,ae;return g(),O(Ir,{deck:{tableDeckId:m.tableDeckId,index:w,cards:r(e).getCards(m.tableDeckId),deckName:(_=(S=(T=(y=r(e).table)==null?void 0:y.table_decks)==null?void 0:T.find(Q=>Q.id===m.tableDeckId))==null?void 0:S.deck)==null?void 0:_.name,deckType:(ae=(F=(G=(L=r(e).table)==null?void 0:L.table_decks)==null?void 0:G.find(Q=>Q.id===m.tableDeckId))==null?void 0:F.deck)==null?void 0:ae.type},index:w,key:m.tableDeckId,onDeckCreate:Q=>f(Q,w),onOnDragStart:v[0]||(v[0]=(Q,le,pe)=>M(Q,le,pe)),onOnDragEnter:v[1]||(v[1]=Q=>b()),onOnDragLeave:v[2]||(v[2]=Q=>h()),onOnDrop:(Q,le)=>D(Q,le,"deck")},null,8,["deck","index","onDeckCreate","onOnDrop"])}),128))]),_:1})):H("",!0),r(e).cards?(g(),O(C,{key:1,class:"h-full px-4",column:!0,justify:"center",items:"center",gap:1},{default:d(()=>{var m,w;return[n("div",{class:z(["card-box cursor-pointer relative dropZone",(m=r(e).getCards(r(e).getJunkTableDeckId))!=null&&m.length?"":"border"]),ref_key:"tableDeckTrashReference",ref:c,id:"junkDeck",onDrop:v[3]||(v[3]=y=>D(y,r(e).getJunkTableDeckId,"junk")),onDragover:v[4]||(v[4]=ke(()=>{},["prevent"])),onDragleave:v[5]||(v[5]=y=>h()),onDragenter:v[6]||(v[6]=ke(y=>b(),["prevent"]))},[(g(!0),x(Z,null,q(r(e).getCards(r(e).getJunkTableDeckId),(y,T)=>(g(),O(mt,{card:y,key:T,onOnDragStart:(S,_)=>M(S,_,y)},null,8,["card","onOnDragStart"]))),128))],34),Ys,r(e).getCards(r(e).getJunkTableDeckId)?(g(),x("div",Zs,Y((w=r(e).getCards(r(e).getJunkTableDeckId))==null?void 0:w.length),1)):H("",!0)]}),_:1})):H("",!0)]),_:1},8,["class"])]),_:1}),r(e).cards&&r(e).getTableExist?(g(),O(C,{key:0,justify:"center"},{default:d(()=>{var m,w,y,T,S,_;return[n("div",{id:"tableDeck",class:z(["grid bg-dark relative dropZone",`grid-cols-${(w=(m=r(e).table)==null?void 0:m.game)==null?void 0:w.grid_cols} grid-rows-${(T=(y=r(e).table)==null?void 0:y.game)==null?void 0:T.grid_rows} h-[${t.value}px] w-[${o.value}px]`]),ref_key:"tableDeckReference",ref:u,onDrop:v[7]||(v[7]=L=>D(L,r(e).getTableDeckId,"table")),onDragover:v[8]||(v[8]=ke(()=>{},["prevent"])),onDragleave:v[9]||(v[9]=L=>h()),onDragenter:v[10]||(v[10]=ke(L=>b(),["prevent"]))},[(g(!0),x(Z,null,q((_=(S=r(e).table)==null?void 0:S.game)==null?void 0:_.grid_cols,L=>{var G,F;return g(),x("div",Ws,[(g(!0),x(Z,null,q((F=(G=r(e).table)==null?void 0:G.game)==null?void 0:F.grid_rows,ae=>(g(),x("div",{class:z(["row-span-1 bg-primary border w-full",`h-[${s.value}px]`])},null,2))),256))])}),256)),(g(!0),x(Z,null,q(r(e).getCards(r(e).getTableDeckId),(L,G)=>(g(),O(mt,{card:L,key:G,onOnDragStart:(F,ae)=>M(F,ae,L),absolute:!0,rotate:!0},null,8,["card","onOnDragStart"]))),128))],34)]}),_:1})):H("",!0),r(e).cards?(g(),O(C,{key:1,justify:"center"},{default:d(()=>[n("div",{class:z([`w-[${o.value}px] h-[150px]`,"bg-secondary border relative dropZone"]),id:"playerDeck",ref_key:"playerDeckReference",ref:i,onDrop:v[11]||(v[11]=m=>D(m,r(e).getExistPlayerTableDeckId,"user")),onDragover:v[12]||(v[12]=ke(()=>{},["prevent"])),onDragleave:v[13]||(v[13]=m=>h()),onDragenter:v[14]||(v[14]=ke(m=>b(),["prevent"]))},[n("div",null,[p(C,{class:"border w-full h-full"},{default:d(()=>[(g(!0),x(Z,null,q(r(e).getCards(r(e).getExistPlayerTableDeckId),(m,w)=>(g(),O(mt,{card:m,key:w,onOnDragStart:(y,T)=>M(y,T,m),absolute:!0,rotate:!0,"show-cards":!0,"player-deck":!0},null,8,["card","onOnDragStart"]))),128))]),_:1})])],34)]),_:1})):H("",!0),p(Fs),p(gt,{"modal-open":r(e).isCardDetailsModalOpen,onCloseModal:v[16]||(v[16]=m=>r(e).isCardDetailsModalOpen=!1)},{modal_header:d(()=>[Xs]),body:d(()=>[p(C,{justify:"center"},{default:d(()=>{var m,w;return[n("img",{src:r(Qe)(((w=(m=r(e).cards)==null?void 0:m.find(y=>y.id===r(e).clickCardId))==null?void 0:w.card.image)||"")},null,8,qs)]}),_:1})]),modal_footer:d(()=>[p(_a,{onClick:v[15]||(v[15]=m=>r(e).isCardDetailsModalOpen=!1)},{default:d(()=>[P(" Close ")]),_:1})]),_:1},8,["modal-open"]),p(gt,{"modal-open":r(e).rank.isRankModalOpen,onCloseModal:v[17]||(v[17]=m=>r(e).rank.isRankModalOpen=!1),class:"z-[2147483641]"},{modal_header:d(()=>[Js]),body:d(()=>[r(l).rankPoints.length>0?(g(),O(ya,{key:0,"table-headers":r(l).tableHeaders,class:"border border-gray-700 rounded-lg overflow-y-auto"},{default:d(()=>[(g(!0),x(Z,null,q(r(l).rankPoints,(m,w)=>(g(),O(Rt,{key:`rankRow-${m}`},{default:d(()=>[(g(!0),x(Z,null,q(m,y=>(g(),O(Le,{key:y.id},{default:d(()=>[P(Y(y.type===r(Ae).TITLE?y.title:y.points),1)]),_:2},1024))),128))]),_:2},1024))),128))]),_:1},8,["table-headers"])):(g(),x("div",Ks," The rank table is empty "))]),_:1},8,["modal-open"])],64))}}),el={class:"max-h-[500px] overflow-y-auto"},tl={class:"border-b border-primary text-black py-2 mb-3"},al=["src"],ol=n("div",null,"No cards",-1),nl=te({__name:"ModalViewAllCards",props:{isModalOpen:{type:Boolean,required:!0},tableDecks:{type:Array,required:!0},cards:{type:Array,required:!0}},emits:["closeModal"],setup(a,{emit:e}){const t=a,o=l=>{var i,u;switch(l.type){case ge.USER:return(i=l.user)==null?void 0:i.username;case ge.DECK:return(u=l.deck)==null?void 0:u.name;case ge.TABLE:return"Table";case ge.JUNK:return"Junk"}},s=l=>{var i;return((i=t.cards)==null?void 0:i.filter(u=>u.table_deck.id===l))||[]};return(l,i)=>a.cards||a.tableDecks?(g(),O(gt,{key:0,modalOpen:a.isModalOpen,onCloseModal:i[1]||(i[1]=u=>l.$emit("closeModal")),class:"z-[2147483645]"},{modal_header:d(()=>[P(" Cards ")]),body:d(()=>[n("div",el,[(g(!0),x(Z,null,q(a.tableDecks,u=>{var c;return g(),x("div",{key:u.id,class:"px-4"},[n("div",tl,Y(o(u)),1),((c=s(u.id))==null?void 0:c.length)>0?(g(),O(C,{key:0,gap:2,wrap:!0},{default:d(()=>[(g(!0),x(Z,null,q(s(u.id),f=>(g(),x("img",{class:"card-box",src:r(Qe)(f.card.image),key:f.id},null,8,al))),128))]),_:2},1024)):(g(),O(C,{key:1,gap:2},{default:d(()=>[ol]),_:1}))])}),128))])]),modal_footer:d(()=>[p(_a,{onClick:i[0]||(i[0]=u=>l.$emit("closeModal"))},{default:d(()=>[P(" Close ")]),_:1})]),_:1},8,["modalOpen"])):H("",!0)}}),rl=te({__name:"TimeAgo",props:{created_at:{type:String,required:!0}},setup(a){const e=a,t=W();xt(()=>{t.value=o(),setInterval(()=>{t.value=o()},6e4)});const o=()=>{const s=new Date,l=new Date(e.created_at),i=Math.floor((s.getTime()-l.getTime())/1e3);if(i<60)return"less a minute ago";if(i<3600){const u=Math.floor(i/60);return`${u} ${u===1?"minute":"minutes"} ago`}else if(i<86400){const u=Math.floor(i/3600);return`${u} ${u===1?"hour":"hours"} ago`}else{const u=Math.floor(i/86400);return`${u} ${u===1?"day":"days"} ago`}};return(s,l)=>Y(t.value)}}),sl={class:"font-bold text-dark"},ll={class:"text-gray-800 text-sm text-right"},il=te({__name:"ChatMessage",props:{isActiveUserMessage:{type:Boolean,default:!1},data:{type:Object,required:!0}},setup(a){return(e,t)=>(g(),O(C,{justify:a.isActiveUserMessage?"start":"end"},{default:d(()=>[p(C,{class:z(["py-2 px-4 rounded-3xl w-96",a.isActiveUserMessage?"bg-primary":"bg-light-blue"]),column:!0},{default:d(()=>{var o,s,l;return[n("span",sl,Y((o=a.data)==null?void 0:o.user.username)+":",1),n("div",null,Y((s=a.data)==null?void 0:s.message),1),n("div",ll,[p(rl,{created_at:(l=a.data)==null?void 0:l.created_at.toString()},null,8,["created_at"])])]}),_:1},8,["class"])]),_:1},8,["justify"]))}}),dl=Ft(),ul=Ie(),cl=ga("ChatStore",{state:()=>({message:"",messages:[],unreadMessages:0,room:ul.room,isChatOpen:!1}),getters:{getMessages:a=>a.messages},actions:{_sendMessage(){if(this.$state.message.length>0){const a={message:this.$state.message,room:this.$state.room,user:dl.user};re.emit("sendMessage",{data:a},e=>{e.status===200&&(this.$state.message="")})}},toggleChatMessenger(){this.$state.isChatOpen||(this.$state.unreadMessages=0),this.$state.isChatOpen=!this.$state.isChatOpen}}}),hl=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-12 h-12",viewBox:"0 0 16 16"},[n("path",{d:"M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})],-1),fl={key:0,class:"absolute inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-red-500 border-2 border-white rounded-full -top-2 -right-2 dark:border-gray-900"},pl={key:1,class:"h-full relative bg-dark-smooth rounded-3xl p-4"},ml=n("div",{class:"text-2xl px-2 font-bold"}," Table Chat ",-1),gl=n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-8 h-8",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"})],-1),vl=[gl],bl=n("button",{type:"submit",class:"w-8 h-8 mr-8 absolute right-3 cursor-pointer"},[n("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-8 h-8 mr-8 cursor-pointer hover:text-primary transition duration-300 hover:scale-110",viewBox:"0 0 16 16"},[n("path",{d:"M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083l6-15Zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471-.47 1.178Z"})])],-1),wl=te({__name:"RoomChat",setup(a){const e=W(""),t=cl(),o=Ft(),s=Ie();return ba(()=>{t.room=s.room,re.on("getSendMessage",l=>{l&&(t.messages.unshift(l),t.isChatOpen||t.unreadMessages++)})}),et(()=>t.message,l=>{e.value=l}),wa(()=>{re.off("getSendMessage"),t.messages=[],t.message="",t.unreadMessages=0}),(l,i)=>(g(),x("div",{class:z(["fixed bottom-10 left-10 transition-height ease duration-1000 z-[2147483640]",r(t).isChatOpen?"w-[500px] h-[600px]":"w-[50px] h-[50px]"])},[r(t).isChatOpen?(g(),x("div",pl,[p(C,{justify:"between",column:!0,class:"h-full",gap:6},{default:d(()=>[p(C,{justify:"between"},{default:d(()=>[ml,n("div",{class:"cursor-pointer hover:text-primary duration-300 transition hover:scale-110",onClick:i[1]||(i[1]=u=>r(t).toggleChatMessenger())},vl)]),_:1}),r(t).getMessages.length>0?(g(),O(C,{key:0,class:"bottom-5 left-6 bg-dark rounded-3xl w-full p-4 h-full overflow-y-auto scroll-smooth",columnReverse:!0,gap:4},{default:d(()=>[(g(!0),x(Z,null,q(r(t).getMessages,u=>(g(),O(il,{data:u,key:u.id,isActiveUserMessage:u.user.id===r(o).user.id},null,8,["data","isActiveUserMessage"]))),128))]),_:1})):(g(),O(C,{key:1,justify:"center",items:"center",class:"text-xl bottom-5 left-6 bg-dark rounded-3xl w-full p-4 h-full overflow-y-auto scroll-smooth",columnReverse:!0,gap:4},{default:d(()=>[P(" No messages ")]),_:1})),n("form",{onSubmit:i[4]||(i[4]=ke(u=>r(t)._sendMessage(),["prevent"]))},[p(C,{justify:"center",items:"center",class:"bg-dark bottom-5 rounded-3xl left-6 w-full",gap:4},{default:d(()=>[Ha(n("input",{"onUpdate:modelValue":i[2]||(i[2]=u=>e.value=u),onInput:i[3]||(i[3]=u=>r(t).message=e.value),class:"w-full bg-dark rounded-3xl p-4 focus:outline-none focus:ring-2 transition duration-300 focus:ring-primary focus:ring-opacity-50",placeholder:"Type your message..."},null,544),[[Ba,e.value]]),bl]),_:1})],32)]),_:1})])):(g(),O(C,{key:0,justify:"start"},{default:d(()=>[n("div",{class:"cursor-pointer hover:text-primary duration-300 transition hover:scale-110 relative",onClick:i[0]||(i[0]=u=>r(t).toggleChatMessenger())},[hl,r(t).unreadMessages>0?(g(),x("div",fl,Y(r(t).unreadMessages),1)):H("",!0)])]),_:1}))],2))}}),_l={class:"rounded-2xl bg-primary px-12 py-6 text-4xl italic"},yl={class:"mt-6 text-xl italic"},xl={class:"mt-6 text-base italic"},kl={key:0,class:"text-red-500 text-xl mt-6"},Cl=te({__name:"TableStatusMessage",props:{title:{type:String,required:!0},message:{type:String,required:!0},leaverUsers:{type:Array,required:!0}},emits:["openInfoModal"],setup(a,{emit:e}){return(t,o)=>(g(),O(C,{class:"one-page bg-dark",items:"center",justify:"center",column:!0},{default:d(()=>[n("div",_l,Y(a.title),1),n("div",yl,Y(a.message),1),n("div",xl,[P(" *While you wait, check "),n("span",{class:"underline cursor-pointer hover:text-primary transition duration-300",onClick:o[0]||(o[0]=s=>t.$emit("openInfoModal"))},"how you play"),P(" the game ")]),a.leaverUsers.length>0?(g(),x("div",kl," Waiting for: "+Y(a.leaverUsers.join(", ")),1)):H("",!0)]),_:1}))}}),$l=n("div",{class:"row"},null,-1),B=te({__name:"InfoIconItem",props:{reverse:{type:Boolean,default:!1}},setup(a){return(e,t)=>(g(),O(C,{items:"center",gap:8,class:z([(a.reverse,""),"mb-4 border-l-4 border-primary pl-4"])},{default:d(()=>[$l,va(e.$slots,"default")]),_:3},8,["class"]))}}),Tl="/assets/player-playing.0b835fe5.png",Ml="/assets/player-not-playing.48c91db7.png",Sl="/assets/hidden-card.b0b058e8.png",El="/assets/hidden-card-table.b8081a3e.png",Dl="/assets/show-card.106e6230.png",Al=n("div",{class:"text-xl mb-6 text-center italic"}," How to play the game and how to use your tools ",-1),Il=n("svg",{fill:"currentColor",class:"w-8 h-8",viewBox:"0 0 16 16"},[n("path",{d:"M8.5.069A15.328 15.328 0 0 0 7 0c-.593 0-1.104.157-1.527.463-.418.302-.717.726-.93 1.208-.386.873-.522 2.01-.54 3.206l4.497 1V.069zM3.71 5.836 3.381 6A2.5 2.5 0 0 0 2 8.236v2.576C2 13.659 4.22 16 7 16h2c2.78 0 5-2.342 5-5.188V8.123l-9-2v.003l.008.353c.007.3.023.715.053 1.175.063.937.186 2.005.413 2.688a.5.5 0 1 1-.948.316c-.273-.817-.4-2-.462-2.937A30.16 30.16 0 0 1 4 6.003c0-.034.003-.067.01-.1l-.3-.067zM14 7.1V5.187c0-1.13-.272-2.044-.748-2.772-.474-.726-1.13-1.235-1.849-1.59A7.495 7.495 0 0 0 9.5.212v5.887l4.5 1z"})],-1),zl=n("svg",{fill:"currentColor",class:"w-8 h-8",viewBox:"0 0 16 16"},[n("path",{d:"M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})],-1),Pl=n("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"w-8 h-8",viewBox:"0 0 16 16"},[n("path",{"fill-rule":"evenodd",d:"M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2zM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10zM.146 8.354a.5.5 0 0 1 0-.708l2-2a.5.5 0 1 1 .708.708L1.707 7.5H5.5a.5.5 0 0 1 0 1H1.707l1.147 1.146a.5.5 0 0 1-.708.708l-2-2zM10 8a.5.5 0 0 1 .5-.5h3.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L14.293 8.5H10.5A.5.5 0 0 1 10 8z"})],-1),Ol=n("div",null," You can move the player tools anywhere to the screen ",-1),Nl=n("svg",{fill:"currentColor",class:"w-8 h-8",viewBox:"0 0 16 16"},[n("path",{d:"m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7.029 7.029 0 0 0 2.79-.588zM5.21 3.088A7.028 7.028 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474L5.21 3.089z"}),n("path",{d:"M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829l-2.83-2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12-.708.708z"})],-1),Rl=n("div",null," You can hide a card from other players",-1),Gl=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300",viewBox:"0 0 16 16"},[n("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"}),n("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"})],-1),Ll=n("div",null," You can show a card to other players",-1),Vl=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300",viewBox:"0 0 16 16"},[n("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"}),n("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"})],-1),Hl=n("div",null," You can rotate a card to the right",-1),Bl=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300",viewBox:"0 0 16 16"},[n("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"}),n("path",{d:"M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"})],-1),Ul=n("div",null,"You can rotate a card to the left",-1),jl=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300",viewBox:"0 0 16 16"},[n("path",{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514ZM11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),n("path",{d:"M2 13c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Z"})],-1),Fl=n("div",null,"The icon show that user is playing. If you click the icon you will end your turn and won't be able to move a card",-1),Yl=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300",viewBox:"0 0 16 16"},[n("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"})],-1),Zl=n("div",null," You can set your turn to be able to move a card",-1),Wl=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300",viewBox:"0 0 16 16"},[n("path",{d:"M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-9 8c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Zm9.886-3.54c.18-.613 1.048-.613 1.229 0l.043.148a.64.64 0 0 0 .921.382l.136-.074c.561-.306 1.175.308.87.869l-.075.136a.64.64 0 0 0 .382.92l.149.045c.612.18.612 1.048 0 1.229l-.15.043a.64.64 0 0 0-.38.921l.074.136c.305.561-.309 1.175-.87.87l-.136-.075a.64.64 0 0 0-.92.382l-.045.149c-.18.612-1.048.612-1.229 0l-.043-.15a.64.64 0 0 0-.921-.38l-.136.074c-.561.305-1.175-.309-.87-.87l.075-.136a.64.64 0 0 0-.382-.92l-.148-.045c-.613-.18-.613-1.048 0-1.229l.148-.043a.64.64 0 0 0 .382-.921l-.074-.136c-.306-.561.308-1.175.869-.87l.136.075a.64.64 0 0 0 .92-.382l.045-.148ZM14 12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"})],-1),Xl=n("div",null,"You can choose a status from the available custom status",-1),ql=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300",viewBox:"0 0 16 16"},[n("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"})],-1),Jl=n("div",null,"You can see the points that have all the players at the table",-1),Kl=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300 group-hover:text-dark",viewBox:"0 0 16 16"},[n("path",{d:"M8.5 1.75v2.716l.047-.002c.312-.012.742-.016 1.051.046.28.056.543.18.738.288.273.152.456.385.56.642l.132-.012c.312-.024.794-.038 1.158.108.37.148.689.487.88.716.075.09.141.175.195.248h.582a2 2 0 0 1 1.99 2.199l-.272 2.715a3.5 3.5 0 0 1-.444 1.389l-1.395 2.441A1.5 1.5 0 0 1 12.42 16H6.118a1.5 1.5 0 0 1-1.342-.83l-1.215-2.43L1.07 8.589a1.517 1.517 0 0 1 2.373-1.852L5 8.293V1.75a1.75 1.75 0 0 1 3.5 0z"})],-1),Ql=n("div",null," You can get all the cards from a chosen deck",-1),ei=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300 group-hover:text-dark",viewBox:"0 0 56 56"},[n("path",{d:`M57.832,26.926l-8-12c-0.186-0.278-0.498-0.445-0.832-0.445H9c-0.335,0-0.646,0.167-0.832,0.445l-8,12\r
        		c-0.205,0.307-0.224,0.701-0.05,1.026C0.292,28.278,0.631,28.481,1,28.481h6v15.038h2V28.481h5v6h2v-6h27v6h2v-6h5v15.038h2V28.481\r
        		h5c0.369,0,0.708-0.203,0.882-0.528C58.056,27.627,58.037,27.233,57.832,26.926z M2.869,26.481l6.666-10h38.93l6.667,10H2.869z`})],-1),ti=n("div",null," You can move all the cards from the table to a chosen deck",-1),ai=n("svg",{fill:"currentColor",class:"w-8 h-8 transition duration-300 group-hover:text-dark",viewBox:"0 0 16 16"},[n("path",{d:"M11.5 12.5a3.493 3.493 0 0 1-2.684-1.254 19.92 19.92 0 0 0 1.582 2.907c.231.35-.02.847-.438.847H6.04c-.419 0-.67-.497-.438-.847a19.919 19.919 0 0 0 1.582-2.907 3.5 3.5 0 1 1-2.538-5.743 3.5 3.5 0 1 1 6.708 0A3.5 3.5 0 1 1 11.5 12.5z"})],-1),oi=n("div",null," You can give a card to other player straight to his hand",-1),ni=["src"],ri=["src"],si=["src"],li=["src"],ii=["src"],di=te({__name:"HowToPlay",setup(a){return(e,t)=>(g(),x(Z,null,[Al,p(B,null,{default:d(()=>[Il,P(" You can move a card with your mouse ")]),_:1}),p(B,{reverse:!0},{default:d(()=>[zl,P(" You can chat with other players to the room ")]),_:1}),p(B,null,{default:d(()=>[Pl,Ol]),_:1}),p(B,{reverse:!0},{default:d(()=>[Nl,Rl]),_:1}),p(B,null,{default:d(()=>[Gl,Ll]),_:1}),p(B,{reverse:!0},{default:d(()=>[Vl,Hl]),_:1}),p(B,null,{default:d(()=>[Bl,Ul]),_:1}),p(B,{reverse:!0},{default:d(()=>[jl,Fl]),_:1}),p(B,null,{default:d(()=>[Yl,Zl]),_:1}),p(B,{reverse:!0},{default:d(()=>[Wl,Xl]),_:1}),p(B,null,{default:d(()=>[ql,Jl]),_:1}),p(B,{reverse:!0},{default:d(()=>[Kl,Ql]),_:1}),p(B,null,{default:d(()=>[ei,ti]),_:1}),p(B,{reverse:!0},{default:d(()=>[ai,oi]),_:1}),p(B,null,{default:d(()=>[n("img",{src:r(Dl),class:"w-20 h-32"},null,8,ni),P(" When the card in your hand is without eye, the card is hidden to other players ")]),_:1}),p(B,null,{default:d(()=>[n("img",{src:r(Sl),class:"w-20 h-32"},null,8,ri),P(" When the card in your hand has the eye, the card is visible to other players ")]),_:1}),p(B,null,{default:d(()=>[n("img",{src:r(El),class:"w-20 h-32"},null,8,si),P(" When the card has this image, the card is hidden from all player to the table ")]),_:1}),p(B,null,{default:d(()=>[n("img",{src:r(Ml),class:"w-80"},null,8,li),P(" Player tools. When the background is black the player is waiting for his turn ")]),_:1}),p(B,null,{default:d(()=>[n("img",{src:r(Tl),class:"w-80"},null,8,ii),P(" Player tools. When the background is green the player is playing ")]),_:1})],64))}}),ui=Ua('<div><div class="text-xl mb-6 text-center italic"> As a game master you can control the whole game. </div><div class="text-xl font-semibold mb-2"> Functionalities: </div><div class="mb-1 border-l-4 border-primary px-4"> You can start, pause, edit or stop the game. </div><div class="mb-1 border-l-4 border-primary px-4"> You can do any move with the cards in all the game. </div><div class="mb-1 border-l-4 border-primary px-4"> You can add, edit or delete the points for the game </div><div class="mb-1 border-l-4 border-primary px-4"> You can choose the next or previous player </div><div class="mb-1 border-l-4 border-primary px-4"> You can choose the row that the players will play to the game </div><div class="mb-1 border-l-4 border-primary px-4"> You can choose role, status or team to the players before or at the same time of the game </div><div class="mb-1 border-l-4 border-primary px-4"> You can shuffle a deck </div><div class="mb-1 border-l-4 border-primary px-4"> You can show all the cards of the game to the users </div><div class="mb-1 border-l-4 border-primary px-4"> You can undo or redo a move of a player with max 10 movements </div><div class="mb-1 border-l-4 border-primary px-4"> You can remove one or all players from the room </div></div><div class="text-xl font-semibold mt-4 mb-3"> Actions: </div>',2),ci=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"})],-1),hi=n("div",null,"New Game",-1),fi=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.25 5C5.56 5 5 5.56 5 6.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C7.5 5.56 6.94 5 6.25 5zm3.5 0c-.69 0-1.25.56-1.25 1.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C11 5.56 10.44 5 9.75 5z"})],-1),pi=n("div",null,"Pause Game",-1),mi=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"})],-1),gi=n("div",null,"Resume Game",-1),vi=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),n("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})],-1),bi=n("div",null,"Edit Game",-1),wi=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.5 5A1.5 1.5 0 0 0 5 6.5v3A1.5 1.5 0 0 0 6.5 11h3A1.5 1.5 0 0 0 11 9.5v-3A1.5 1.5 0 0 0 9.5 5h-3z"})],-1),_i=n("div",null,"Stop Game",-1),yi=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M2.5 15a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11zm2-13v1c0 .537.12 1.045.337 1.5h6.326c.216-.455.337-.963.337-1.5V2h-7zm3 6.35c0 .701-.478 1.236-1.011 1.492A3.5 3.5 0 0 0 4.5 13s.866-1.299 3-1.48V8.35zm1 0v3.17c2.134.181 3 1.48 3 1.48a3.5 3.5 0 0 0-1.989-3.158C8.978 9.586 8.5 9.052 8.5 8.351z"})],-1),xi=n("div",null,"Search for a new players when game has finished",-1),ki=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M1.5 15a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1H13V2.5A1.5 1.5 0 0 0 11.5 1H11V.5a.5.5 0 0 0-.57-.495l-7 1A.5.5 0 0 0 3 1.5V15H1.5zM11 2h.5a.5.5 0 0 1 .5.5V15h-1V2zm-2.5 8c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1z"})],-1),Ci=n("div",null,"Exit all the players from the table",-1),$i=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.79-2.907L8.5 7.028V5.5a.5.5 0 0 0-.79-.407L5 7.028V5.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0V8.972l2.71 1.935a.5.5 0 0 0 .79-.407V8.972l2.71 1.935A.5.5 0 0 0 12 10.5v-5a.5.5 0 0 0-.79-.407z"})],-1),Ti=n("div",null,"Set the previous player at the row as playing",-1),Mi=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.79 5.093A.5.5 0 0 0 4 5.5v5a.5.5 0 0 0 .79.407L7.5 8.972V10.5a.5.5 0 0 0 .79.407L11 8.972V10.5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-1 0v1.528L8.29 5.093a.5.5 0 0 0-.79.407v1.528L4.79 5.093z"})],-1),Si=n("div",null,"Set the next player at the row as playing",-1),Ei=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"})],-1),Di=n("div",null,"Show all the cards to all the players",-1),Ai=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{"fill-rule":"evenodd",d:"M0 3.5A.5.5 0 0 1 .5 3H1c2.202 0 3.827 1.24 4.874 2.418.49.552.865 1.102 1.126 1.532.26-.43.636-.98 1.126-1.532C9.173 4.24 10.798 3 13 3v1c-1.798 0-3.173 1.01-4.126 2.082A9.624 9.624 0 0 0 7.556 8a9.624 9.624 0 0 0 1.317 1.918C9.828 10.99 11.204 12 13 12v1c-2.202 0-3.827-1.24-4.874-2.418A10.595 10.595 0 0 1 7 9.05c-.26.43-.636.98-1.126 1.532C4.827 11.76 3.202 13 1 13H.5a.5.5 0 0 1 0-1H1c1.798 0 3.173-1.01 4.126-2.082A9.624 9.624 0 0 0 6.444 8a9.624 9.624 0 0 0-1.317-1.918C4.172 5.01 2.796 4 1 4H.5a.5.5 0 0 1-.5-.5z"}),n("path",{d:"M13 5.466V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192zm0 9v-3.932a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192z"})],-1),Ii=n("div",null,"Click a deck and shuffle it",-1),zi=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM7.729 5.055A.5.5 0 0 1 8 5.5v1.886l3.21-2.293A.5.5 0 0 1 12 5.5v5a.5.5 0 0 1-.79.407L8 8.614V10.5a.5.5 0 0 1-.79.407l-3.5-2.5a.5.5 0 0 1 0-.814l3.5-2.5a.5.5 0 0 1 .519-.038Z"})],-1),Pi=n("div",null,"Undo a movement",-1),Oi=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM4.79 5.093 8 7.386V5.5a.5.5 0 0 1 .79-.407l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 8 10.5V8.614l-3.21 2.293A.5.5 0 0 1 4 10.5v-5a.5.5 0 0 1 .79-.407Z"})],-1),Ni=n("div",null,"Redo a movement",-1),Ri=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"})],-1),Gi=n("div",null,"New Game",-1),Li=n("svg",{fill:"currentColor",class:"w-8 h-8 focus:outline-none",viewBox:"0 0 16 16"},[n("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"})],-1),Vi=n("div",null,"Open the points table to edit it",-1),Hi=n("svg",{fill:"#fff",viewBox:"0 0 16 16",class:"fill-black transition duration-300 h-8 w-8 focus:outline-none"},[n("path",{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"}),n("path",{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"})],-1),Bi=n("div",null,"Click the tool to keep it open or close the Game Master menu",-1),Ui=te({__name:"HowToBeTheGameMaster",setup(a){return(e,t)=>(g(),x(Z,null,[ui,p(B,null,{default:d(()=>[ci,hi]),_:1}),p(B,null,{default:d(()=>[fi,pi]),_:1}),p(B,null,{default:d(()=>[mi,gi]),_:1}),p(B,null,{default:d(()=>[vi,bi]),_:1}),p(B,null,{default:d(()=>[wi,_i]),_:1}),p(B,null,{default:d(()=>[yi,xi]),_:1}),p(B,null,{default:d(()=>[ki,Ci]),_:1}),p(B,null,{default:d(()=>[$i,Ti]),_:1}),p(B,null,{default:d(()=>[Mi,Si]),_:1}),p(B,null,{default:d(()=>[Ei,Di]),_:1}),p(B,null,{default:d(()=>[Ai,Ii]),_:1}),p(B,null,{default:d(()=>[zi,Pi]),_:1}),p(B,null,{default:d(()=>[Oi,Ni]),_:1}),p(B,null,{default:d(()=>[Ri,Gi]),_:1}),p(B,null,{default:d(()=>[Li,Vi]),_:1}),p(B,null,{default:d(()=>[Hi,Bi]),_:1})],64))}}),ji={class:"absolute top-10 left-10"},Fi=n("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16zm.93-9.412-1 4.705c-.07.34.029.533.304.533.194 0 .487-.07.686-.246l-.088.416c-.287.346-.92.598-1.465.598-.703 0-1.002-.422-.808-1.319l.738-3.468c.064-.293.006-.399-.287-.47l-.451-.081.082-.381 2.29-.287zM8 5.5a1 1 0 1 1 0-2 1 1 0 0 1 0 2z"},null,-1),Yi=[Fi],Zi=n("span",{class:"text-primary"},"Game",-1),Wi=n("span",{class:"text-primary"}," play",-1),Xi=n("span",{class:"text-primary"}," Game Master ",-1),qi={class:"max-h-[450px] h-[450px] overflow-y-auto p-2 pt-10"},Ji={key:0,class:"h-full"},Ki={key:0},Qi={class:"text-primary ml-1"},e1={class:"text-primary ml-1"},t1={key:1},a1={key:2},o1=te({__name:"Info",props:{gameDescription:{type:String},gameDesigner:{type:Object,required:!0},gameMaster:{type:Object,required:!0},modalOpen:{type:Boolean,required:!0}},emits:["closeModal","openModal"],setup(a,{emit:e}){const t=W(0);return(o,s)=>(g(),x(Z,null,[n("div",ji,[(g(),x("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",class:"w-6 h-6 hover:text-primary transition duration-300 cursor-pointer hover:scale-110",onClick:s[0]||(s[0]=l=>o.$emit("openModal")),viewBox:"0 0 16 16"},Yi))]),p(gt,{modalOpen:a.modalOpen,onCloseModal:s[4]||(s[4]=l=>o.$emit("closeModal")),class:"text-black z-[2147483640]"},{modal_header:d(()=>[P(" Info ")]),body:d(()=>[p(C,{justify:"between",items:"center"},{default:d(()=>[n("div",{class:z(["cursor-pointer py-3 px-2 border-b hover:text-secondary hover:border-secondary transition duration-300",t.value===0?"border-primary":"border-transparent"]),onClick:s[1]||(s[1]=l=>t.value=0)},[Zi,P(" description ")],2),n("div",{class:z(["cursor-pointer py-3 px-2 hover:text-secondary hover:border-secondary border-b transition duration-300",t.value===1?"border-primary":"border-transparent"]),onClick:s[2]||(s[2]=l=>t.value=1)},[P(" How to"),Wi],2),n("div",{class:z(["cursor-pointer py-3 px-2 hover:text-secondary hover:border-secondary border-b transition duration-300",t.value===2?"border-primary":"border-transparent"]),onClick:s[3]||(s[3]=l=>t.value=2)},[P(" How to be the "),Xi],2)]),_:1}),n("div",qi,[t.value===0?(g(),x("div",Ji,[p(C,{class:"h-full",column:!0,justify:"between"},{default:d(()=>[a.gameDescription?(g(),x("div",Ki,Y(a.gameDescription),1)):H("",!0),a.gameDesigner&&a.gameMaster?(g(),O(C,{key:1,justify:"between"},{default:d(()=>[p(C,null,{default:d(()=>[P(" Game Master of the game"),n("span",Qi,Y(a.gameDesigner.name),1)]),_:1}),p(C,null,{default:d(()=>[P(" Game Designer of the game"),n("span",e1,Y(a.gameMaster.name),1)]),_:1})]),_:1})):H("",!0)]),_:1})])):H("",!0),t.value===1?(g(),x("div",t1,[p(di)])):H("",!0),t.value===2?(g(),x("div",a1,[p(Ui)])):H("",!0)])]),_:1},8,["modalOpen"])],64))}}),n1={class:"w-5/6 overflow-auto text-white relative"},y1=te({__name:"RoomView",setup(a){const e=ja(),t=Ie(),o=Ft(),s=W(!1),l=W(!1),i=W(1),u=W(!1),c=ma(),f=Xt(),h=W(!1),b=W([]);t.room=e.params.id.toString(),t.table?t._joinTable(t.room):Ct.push({name:"lobby"});const M=W(["getTurnTableUsers","getUpdateTableUser","getStartGameDetails","exitUsersFromTable","getTableGameStatus","getShowAllCards","getUpdateCard","getShuffleDeck","getUpdateRankRow"]),D=()=>{var v,m,w,y,T;f.room=(v=t.room)!=null?v:"",f.tableId=(w=(m=t.table)==null?void 0:m.id)!=null?w:null,f.addTableUsers((T=(y=t.table)==null?void 0:y.table_users)!=null?T:[])};ba(()=>{t.setGameMaster(),re.on("getTableUsers",v=>{var m,w,y;v.public_url===t.room&&v.table_users&&(t.table={...v},(t.table.status===k.PLAYER_DISCONNECTED||t.table.status===k.PLAYER_LEAVE)&&(b.value=(w=(m=t.table.table_users)==null?void 0:m.filter(S=>S.socket_status===aa.LEAVE||S.socket_status===aa.DISCONNECT).map(S=>{var _;return(_=S.user.username)!=null?_:null}))!=null?w:[],console.log(b.value)),t.table.status===k.PLAYING&&(b.value=[]),(y=t.table.table_users)!=null&&y.find(S=>S.user.id===o.user.id)||(c.info(`Player ${o.user.username} has remove from Game Master`),Ct.push({name:"lobby"})))}),re.on("getTurnTableUsers",v=>{var w,y,T;t.table&&v&&(t.table.table_users=v);const m=(y=(w=t.table)==null?void 0:w.table_users)==null?void 0:y.find(S=>S.playing===!0);m&&(m.id===((T=t.getExistTableUser)==null?void 0:T.id)?c.success("It's your turn",{position:Qt.TOP_CENTER}):c.info(`Player ${m.user.username} is playing`,{position:Qt.TOP_CENTER,timeout:3e3}))}),re.on("getUpdateTableUser",v=>{var m,w,y,T,S,_,L;if(v){const G=(w=(m=t.table)==null?void 0:m.table_users)==null?void 0:w.map(F=>F.id).indexOf(v.id);if(t.table&&G!==void 0){if(!((y=t.table.table_users[G])!=null&&y.status)&&(v==null?void 0:v.status)||((T=t.table.table_users[G].status)==null?void 0:T.id)!==((S=v==null?void 0:v.status)==null?void 0:S.id)){const F=(_=v.status)!=null&&_.name?`${v.user.username} update his status to "${(L=v.status)==null?void 0:L.name}"`:`${v.user.username} has remove his status`;c.info(F)}t.table.table_users[G]=v}}}),re.on("getStartGameDetails",(v,m)=>{var w,y,T,S;if(v){const _=((w=t.table)==null?void 0:w.status)===k.WAITING;t.table=v,I();const L=((y=t.table)==null?void 0:y.status)===k.PLAYING;L&&_&&(D(),t.refUndoHistory=[],t.refRedoHistory=[]),L&&t.deckReferences.junk&&([t.dropZones.junk[0].element,t.dropZones.user[0].element,t.dropZones.table[0].element]=[t.deckReferences.junk,t.deckReferences.user,t.deckReferences.table],t.zIndex=(S=(T=t.cards)==null?void 0:T.reduce((G,F)=>F.z_index>G?F.z_index:G,0))!=null?S:1,t.zIndex++)}m&&(t.cards=m)}),re.on("exitUsersFromTable",()=>{t.room=null,t.gameMaster=!1,t.table=null,t.cards=null,h.value=!0,c.info("Game master has remove you from the table"),Ct.push({name:"lobby"})}),re.on("getTableGameStatus",(v,m)=>{v&&m===t.room&&(t.table={...v},v.status===k.PAUSE&&c.info("Game has paused"),v.status===k.PLAYING&&c.info("Game has start"),v.status===k.GAME_MASTER_EDIT&&c.info("The game master is preparing the table"),v.status===k.FINISH&&c.info("Game has end"),v.status===k.PLAYER_LEAVE&&c.info("Player has leave the game"),v.status===k.PLAYER_DISCONNECTED&&c.info("Player has lost his connection"))}),re.on("getShowAllCards",v=>{v&&(l.value=v)}),re.on("getUpdateCard",v=>{var m,w;v&&(E(v),t.zIndex=(w=(m=t.cards)==null?void 0:m.reduce((y,T)=>T.z_index>y?T.z_index:y,0))!=null?w:1,t.zIndex++)}),re.on("getShuffleDeck",(v,m)=>{var w,y,T,S;if(v){v.forEach(L=>{E(L)});const _=(S=(T=(y=(w=t.table)==null?void 0:w.table_decks)==null?void 0:y.find(L=>L.id===m))==null?void 0:T.deck)==null?void 0:S.name;c.info(`Game Master has shuffle the deck "${_}"`)}}),re.on("getUpdateRankRow",(v,m)=>{if(v)if(m===f.nextRow)f.rankPoints.push(v);else{const w=f.rankPoints.findIndex(y=>y.some(T=>T.row===m));f.rankPoints[w]=v}else{const w=f.rankPoints.findIndex(y=>y.some(T=>T.row===m));f.rankPoints=f.rankPoints.filter((y,T)=>T!==w)}t.rank.notification=!0})});const E=v=>{const m=t.replaceCard(v);m&&(t.updateUndoHistory(m),t.removeRedoHistoryMovement())},I=()=>{var v,m;t.resetDropZones(),(m=(v=t.table)==null?void 0:v.table_decks)==null||m.forEach(w=>{switch(w.type){case ge.DECK:t.dropZones.deck.push({tableDeckId:w.id,element:null});break;case ge.JUNK:t.dropZones.junk.push({tableDeckId:w.id,element:null});break;case ge.TABLE:t.dropZones.table.push({tableDeckId:w.id,element:null});break;case ge.USER:w.id===t.getExistPlayerTableDeckId&&t.dropZones.user.push({tableDeckId:w.id,element:null});break}})},A=W([{status:k.WAITING,title:"Game not started yet",message:"...waiting from Game Master to start the game"},{status:k.PAUSE,title:"Game Paused",message:"...waiting from Game Master to resume the game"},{status:k.GAME_MASTER_EDIT,title:"Game edit from Game Master",message:"..waiting from Game Master to finish with the configure of the table"},{status:k.FINISH,title:"Game has ended",message:"...waiting from Game Master to start the game"},{status:k.PLAYER_LEAVE,title:"Player has left the game",message:"...waiting for player to join or to Game Master to start new game"},{status:k.PLAYER_DISCONNECTED,title:"Player has lost his connection",message:"...waiting for player to join or to Game Master to start new game"}]);return wa(()=>{t.room=null,t.gameMaster=!1,t.cards=null,t.refUndoHistory=[],t.refRedoHistory=[],t.leaverPlayer.table=null,h.value||t._leaveTable(),M.value.forEach(v=>{re.off(v)})}),(v,m)=>{var w,y,T,S;return g(),x(Z,null,[p(C,{class:"relative one-page w-full bg-dark"},{default:d(()=>{var _,L,G,F,ae,Q,le,pe;return[n("div",n1,[((_=r(t).table)==null?void 0:_.status)===r(k).PLAYING||r(t).gameMaster&&((L=r(t).table)==null?void 0:L.status)===r(k).GAME_MASTER_EDIT?(g(),O(Qs,{key:0})):(g(!0),x(Z,{key:1},q(A.value,({status:be,title:we,message:Ne})=>(g(),O(C,{key:be,items:"center",justify:"center"},{default:d(()=>{var Me;return[((Me=r(t).table)==null?void 0:Me.status)===be?(g(),O(Cl,{key:0,title:we,message:Ne,onOpenInfoModal:m[0]||(m[0]=qt=>u.value=!0),"leaver-users":b.value},null,8,["title","message","leaver-users"])):H("",!0)]}),_:2},1024))),128)),p(o1,{"game-description":(F=(G=r(t).table)==null?void 0:G.game)==null?void 0:F.description,"modal-open":u.value,onCloseModal:m[1]||(m[1]=be=>u.value=!1),onOpenModal:m[2]||(m[2]=be=>u.value=!0),"game-designer":{name:(Q=(ae=r(t).table)==null?void 0:ae.creator)==null?void 0:Q.username},"game-master":{name:(pe=(le=r(t).table)==null?void 0:le.game_master)==null?void 0:pe.username}},null,8,["game-description","modal-open","game-designer","game-master"]),p(wl)]),p(kr,{class:"w-1/6 overflow-x-auto"})]}),_:1}),r(t).gameMaster?(g(),O(Co,{key:0,onOpenSettings:m[3]||(m[3]=_=>{i.value=_,s.value=!0}),onStopGame:m[4]||(m[4]=_=>r(t)._stopGame()),onExitTable:m[5]||(m[5]=_=>r(t)._exitTable()),onNewGame:m[6]||(m[6]=_=>r(t)._newGame()),onUpdateTableGameStatus:m[7]||(m[7]=_=>r(t)._updateTableGameStatus(_)),onShowAllCards:m[8]||(m[8]=_=>r(t)._showAllCards()),onSetNextPlayer:m[9]||(m[9]=_=>r(t)._setNextPlayer(_)),onShuffleDeck:m[10]||(m[10]=_=>r(t)._shuffleDeck()),onHistoryMovement:m[11]||(m[11]=_=>r(t).historyMovement(_))})):H("",!0),r(t).gameMaster?(g(),O(dr,{key:1,"table-users":(w=r(t).table)==null?void 0:w.table_users,"table-status":{status:(y=r(t).table)==null?void 0:y.status},table:r(t).table||void 0,"modal-open":s.value,onCloseModal:m[12]||(m[12]=_=>s.value=!1),onUpdateTurnTableUsers:m[13]||(m[13]=_=>r(t)._updateTurnTableUsers(_)),onUpdateRole:m[14]||(m[14]=(_,L)=>r(t)._setRoleTableUser(_,L)),onUpdateStatus:m[15]||(m[15]=(_,L)=>r(t)._setStatusTableUser(_,L)),onUpdateTeam:m[16]||(m[16]=(_,L)=>r(t)._setTeamTableUser(_,L)),onStopGame:m[17]||(m[17]=_=>r(t)._stopGame()),onExitTable:m[18]||(m[18]=_=>r(t)._exitTable()),onNewGame:m[19]||(m[19]=_=>r(t)._newGame()),onUpdateTableGameStatus:m[20]||(m[20]=_=>r(t)._updateTableGameStatus(_)),onShowAllCards:m[21]||(m[21]=_=>r(t)._showAllCards()),"menu-tab":i.value,onRemovePlayer:m[22]||(m[22]=_=>r(t)._removePlayer(_)),onSetNextPlayer:m[23]||(m[23]=_=>r(t)._setNextPlayer(_))},null,8,["table-users","table-status","table","modal-open","menu-tab"])):H("",!0),r(t).cards&&((T=r(t).table)==null?void 0:T.table_decks)?(g(),O(nl,{key:2,"is-modal-open":l.value,cards:r(t).cards,"table-decks":(S=r(t).table)==null?void 0:S.table_decks,onCloseModal:m[24]||(m[24]=_=>l.value=!1)},null,8,["is-modal-open","cards","table-decks"])):H("",!0)],64)}}});export{y1 as default};
