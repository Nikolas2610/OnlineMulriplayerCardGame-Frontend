import{u as x,r as m,e as y}from"./index.esm.d85b393f.js";import{d as k,u as L,a as b,b as C,r as p,e as $,f as B,g as V,o as c,c as u,h as e,i as d,j as o,w as j,k as _}from"./index.afe561d7.js";import{_ as g}from"./InputField.vue_vue_type_script_setup_true_lang.5253394b.js";const N={class:"flex min-h-full flex-col justify-center py-12 sm:px-6 lg:px-8 bg-dark one-page"},P={class:"container py-20"},S=e("div",{class:"sm:mx-auto sm:w-full sm:max-w-lg"},[e("h2",{class:"mt-6 text-center text-3xl font-bold tracking-tight text-white"},[_(" Sign in to our"),e("br"),e("span",{class:"text-primary"},"Creative Gave")])],-1),T={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},z={class:"bg-primary py-8 px-4 shadow sm:rounded-lg sm:px-10"},A={class:"space-y-6"},E={class:"flex items-center justify-between"},F={class:"text-sm"},M={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},R=e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),q=e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),G=[R,q],H={key:1},J=k({__name:"LoginPage",setup(U){const n=L(),s=b();C(()=>{s.authToken&&p.push({name:"home"})});const i=$(!1),h=B(()=>({email:{required:m,email:y},password:{required:m}})),r=x(h,s.userLoginCredentials),f=async()=>{if(i.value=!0,await r.value.$validate(),r.value.$error)n.error(`Login error!
Please complete correct the form`);else{const l=await s.login();l==="success"?(w(),r.value.$reset(),p.push({name:"lobby"}),n.success("You have been successfully login!")):n.error(`Login error!
${l}`)}i.value=!1},w=()=>{s.userLogin.email="",s.userLogin.password=""};return(l,t)=>{const v=V("RouterLink");return c(),u("div",N,[e("div",P,[S,e("div",T,[e("div",z,[e("form",A,[e("div",null,[d(g,{title:"Email Address",input:o(s).userLogin.email,errors:o(r).email.$errors,type:"email",class:"text-white",onChange:t[0]||(t[0]=a=>o(s).userLogin.email=a)},null,8,["input","errors"])]),e("div",null,[d(g,{title:"Password",input:o(s).$state.userLogin.password,errors:o(r).password.$errors,type:"password",class:"text-white",onChange:t[1]||(t[1]=a=>o(s).$state.userLogin.password=a)},null,8,["input","errors"])]),e("div",E,[e("div",F,[d(v,{to:{name:"forgot-password"},class:"font-medium text-white hover:text-secondary"},{default:j(()=>[_("Forgot your password?")]),_:1})])]),e("div",null,[e("div",{onClick:t[2]||(t[2]=a=>f()),class:"mt-14 btn-black"},[i.value?(c(),u("svg",M,G)):(c(),u("div",H,"Login"))])])])])])])])}}});export{J as default};
