import{M as p}from"./MyTitle.f241421f.js";import{_ as c}from"./CardForm.vue_vue_type_script_setup_true_lang.510dcac4.js";import{a as d}from"./axiosUser.fe64fb1c.js";import{d as m,u as l,e as u,o as f,c as g,i as n,w as _,k as v}from"./index.afe561d7.js";import"./_plugin-vue_export-helper.cdc0426e.js";import"./Function.92d05e83.js";const w={class:"container w-4/6 border rounded-lg shadow-xl lg:mt-4"},D=m({__name:"CreateCardView",setup(C){const a=l(),s=u(-1),i=async(t,r)=>{const e=new FormData;e.append("image",r.file,r.name),e.append("name",t.name),e.append("private",t.private.toString());try{if((await d.post("card",e,{headers:{"Content-Type":"multipart/form-data"}})).status===201){a.success("Card save successfully"),s.value=1,setTimeout(()=>{s.value=-1},1e3);return}a.error("Something went wrong. Please try again later")}catch(o){o.response.data.message==="Validation failed (expected type is .(png|jpeg|jpg|svg))"&&a.error("Valid types images are png, jpeg, jpg and svg")}};return(t,r)=>(f(),g("div",w,[n(p,null,{default:_(()=>[v("Create Card")]),_:1}),n(c,{onSendData:i,successResponse:s.value,cardData:void 0,imageFile:void 0},null,8,["successResponse"])]))}});export{D as default};
