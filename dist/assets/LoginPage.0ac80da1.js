import{d as x,u as y,a as b,b as L,r as d,e as k,f as $,g as C,o as u,c,h as e,w as B,i as m,j as o,k as V,l as h}from"./index.bcf80a2f.js";import{u as S,r as p,e as j}from"./index.esm.c1706187.js";import{_ as g}from"./InputField.vue_vue_type_script_setup_true_lang.d407afcf.js";const M={class:"flex min-h-full flex-col justify-center py-12 sm:px-6 lg:px-8 bg-dark one-page"},N={class:"container py-20"},P=e("div",{class:"sm:mx-auto sm:w-full sm:max-w-lg"},[e("h2",{class:"mt-6 text-center text-3xl font-bold tracking-tight text-white"},[h(" Sign in to our"),e("br"),e("span",{class:"text-primary"},"Creative Gave")])],-1),T={class:"mt-8 sm:mx-auto sm:w-full sm:max-w-md"},z={class:"bg-primary py-8 px-4 shadow sm:rounded-lg sm:px-10"},A={class:"flex items-center justify-between"},E={class:"text-sm"},F={type:"submit",class:"mt-14 btn-black"},R={key:0,class:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},q=e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),G=e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1),H=[q,G],U={key:1},K=x({__name:"LoginPage",setup(Y){const n=y(),s=b();L(()=>{s.authToken&&d.push({name:"home"})});const i=k(!1),_=$(()=>({email:{required:p,email:j},password:{required:p}})),r=S(_,s.userLoginCredentials),f=async()=>{if(i.value=!0,await r.value.$validate(),r.value.$error)n.error(`Login error!
Please complete correct the form`);else{const l=await s.login();l==="success"?(w(),r.value.$reset(),d.push({name:"lobby"}),n.success("You have been successfully login!")):n.error(`Login error!
${l}`)}i.value=!1},w=()=>{s.userLogin.email="",s.userLogin.password=""};return(l,t)=>{const v=C("RouterLink");return u(),c("div",M,[e("div",N,[P,e("div",T,[e("div",z,[e("form",{class:"space-y-6",onSubmit:t[2]||(t[2]=B(a=>f(),["prevent"]))},[e("div",null,[m(g,{title:"Email Address",input:o(s).userLogin.email,errors:o(r).email.$errors,type:"email",class:"text-white",onChange:t[0]||(t[0]=a=>o(s).userLogin.email=a)},null,8,["input","errors"])]),e("div",null,[m(g,{title:"Password",input:o(s).$state.userLogin.password,errors:o(r).password.$errors,type:"password",class:"text-white",onChange:t[1]||(t[1]=a=>o(s).$state.userLogin.password=a)},null,8,["input","errors"])]),e("div",A,[e("div",E,[m(v,{to:{name:"forgot-password"},class:"font-medium text-white hover:text-secondary"},{default:V(()=>[h("Forgot your password?")]),_:1})])]),e("div",null,[e("button",F,[i.value?(u(),c("svg",R,H)):(u(),c("div",U,"Login"))])])],32)])])])])}}});export{K as default};
