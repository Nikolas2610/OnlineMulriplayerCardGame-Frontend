import{u as Ie,T as $,H as Xt,s as te,R as tt,M as qt,a as ge}from"./socket.1981dd23.js";import{d as re,g as qe,o as m,L as P,k as h,i as y,l as L,h as l,j as r,c as S,G as O,_ as Jt,u as cn,P as hn,H as j,I as W,C as B,D as U,e as Y,p as Je,$ as An,V as Pn,a0 as On,a1 as Nn,M as Rn,b as yt,w as ye,a2 as Gn,a as Bt,n as fn,Z as pn,E as zn,J as Ln,a3 as Un,r as xt,a4 as Hn}from"./index.e533216c.js";import{_ as k,a as Kt,b as jn,c as kt}from"./CheckBoxField.vue_vue_type_script_setup_true_lang.aea7df0d.js";import{o as Bn,a as Vn,M as mn}from"./Modal.e27e3e69.js";import{D as Nt,a as Re,_ as gn}from"./DarkTableCell.vue_vue_type_script_setup_true_lang.13045a21.js";import{_ as nt}from"./InputField.vue_vue_type_script_setup_true_lang.e4fa174b.js";import{_ as Fn}from"./_plugin-vue_export-helper.cdc0426e.js";import{c as Yn}from"./cards.91b306de.js";import{_ as Wn}from"./BackButton.vue_vue_type_script_setup_true_lang.934b6c80.js";import{l as pt}from"./Function.3ea76856.js";import{D as Zn}from"./DeckType.enum.90a9c7f8.js";const Xn=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[l("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM8.5 4.5a.5.5 0 0 0-1 0v3h-3a.5.5 0 0 0 0 1h3v3a.5.5 0 0 0 1 0v-3h3a.5.5 0 0 0 0-1h-3v-3z"})],-1),qn=["disabled"],Jn={key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},Kn=l("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.25 5C5.56 5 5 5.56 5 6.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C7.5 5.56 6.94 5 6.25 5zm3.5 0c-.69 0-1.25.56-1.25 1.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C11 5.56 10.44 5 9.75 5z"},null,-1),Qn=[Kn],ea={key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},ta=l("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"},null,-1),na=[ta],aa=["disabled"],oa=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[l("path",{d:"M15.502 1.94a.5.5 0 0 1 0 .706L14.459 3.69l-2-2L13.502.646a.5.5 0 0 1 .707 0l1.293 1.293zm-1.75 2.456-2-2L4.939 9.21a.5.5 0 0 0-.121.196l-.805 2.414a.25.25 0 0 0 .316.316l2.414-.805a.5.5 0 0 0 .196-.12l6.813-6.814z"}),l("path",{"fill-rule":"evenodd",d:"M1 13.5A1.5 1.5 0 0 0 2.5 15h11a1.5 1.5 0 0 0 1.5-1.5v-6a.5.5 0 0 0-1 0v6a.5.5 0 0 1-.5.5h-11a.5.5 0 0 1-.5-.5v-11a.5.5 0 0 1 .5-.5H9a.5.5 0 0 0 0-1H2.5A1.5 1.5 0 0 0 1 2.5v11z"})],-1),ra=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[l("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.5 5A1.5 1.5 0 0 0 5 6.5v3A1.5 1.5 0 0 0 6.5 11h3A1.5 1.5 0 0 0 11 9.5v-3A1.5 1.5 0 0 0 9.5 5h-3z"})],-1),sa=["disabled"],ia=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[l("path",{d:"M2.5 15a.5.5 0 1 1 0-1h1v-1a4.5 4.5 0 0 1 2.557-4.06c.29-.139.443-.377.443-.59v-.7c0-.213-.154-.451-.443-.59A4.5 4.5 0 0 1 3.5 3V2h-1a.5.5 0 0 1 0-1h11a.5.5 0 0 1 0 1h-1v1a4.5 4.5 0 0 1-2.557 4.06c-.29.139-.443.377-.443.59v.7c0 .213.154.451.443.59A4.5 4.5 0 0 1 12.5 13v1h1a.5.5 0 0 1 0 1h-11zm2-13v1c0 .537.12 1.045.337 1.5h6.326c.216-.455.337-.963.337-1.5V2h-7zm3 6.35c0 .701-.478 1.236-1.011 1.492A3.5 3.5 0 0 0 4.5 13s.866-1.299 3-1.48V8.35zm1 0v3.17c2.134.181 3 1.48 3 1.48a3.5 3.5 0 0 0-1.989-3.158C8.978 9.586 8.5 9.052 8.5 8.351z"})],-1),la=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[l("path",{d:"M1.5 15a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1H13V2.5A1.5 1.5 0 0 0 11.5 1H11V.5a.5.5 0 0 0-.57-.495l-7 1A.5.5 0 0 0 3 1.5V15H1.5zM11 2h.5a.5.5 0 0 1 .5.5V15h-1V2zm-2.5 8c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1z"})],-1),da=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[l("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.79-2.907L8.5 7.028V5.5a.5.5 0 0 0-.79-.407L5 7.028V5.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0V8.972l2.71 1.935a.5.5 0 0 0 .79-.407V8.972l2.71 1.935A.5.5 0 0 0 12 10.5v-5a.5.5 0 0 0-.79-.407z"})],-1),ua=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[l("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.79 5.093A.5.5 0 0 0 4 5.5v5a.5.5 0 0 0 .79.407L7.5 8.972V10.5a.5.5 0 0 0 .79.407L11 8.972V10.5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-1 0v1.528L8.29 5.093a.5.5 0 0 0-.79.407v1.528L4.79 5.093z"})],-1),ca=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[l("path",{d:"M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"})],-1),ha=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[l("path",{"fill-rule":"evenodd",d:"M0 3.5A.5.5 0 0 1 .5 3H1c2.202 0 3.827 1.24 4.874 2.418.49.552.865 1.102 1.126 1.532.26-.43.636-.98 1.126-1.532C9.173 4.24 10.798 3 13 3v1c-1.798 0-3.173 1.01-4.126 2.082A9.624 9.624 0 0 0 7.556 8a9.624 9.624 0 0 0 1.317 1.918C9.828 10.99 11.204 12 13 12v1c-2.202 0-3.827-1.24-4.874-2.418A10.595 10.595 0 0 1 7 9.05c-.26.43-.636.98-1.126 1.532C4.827 11.76 3.202 13 1 13H.5a.5.5 0 0 1 0-1H1c1.798 0 3.173-1.01 4.126-2.082A9.624 9.624 0 0 0 6.444 8a9.624 9.624 0 0 0-1.317-1.918C4.172 5.01 2.796 4 1 4H.5a.5.5 0 0 1-.5-.5z"}),l("path",{d:"M13 5.466V1.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192zm0 9v-3.932a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384l-2.36 1.966a.25.25 0 0 1-.41-.192z"})],-1),fa=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[l("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM7.729 5.055A.5.5 0 0 1 8 5.5v1.886l3.21-2.293A.5.5 0 0 1 12 5.5v5a.5.5 0 0 1-.79.407L8 8.614V10.5a.5.5 0 0 1-.79.407l-3.5-2.5a.5.5 0 0 1 0-.814l3.5-2.5a.5.5 0 0 1 .519-.038Z"})],-1),pa=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[l("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM4.79 5.093 8 7.386V5.5a.5.5 0 0 1 .79-.407l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 8 10.5V8.614l-3.21 2.293A.5.5 0 0 1 4 10.5v-5a.5.5 0 0 1 .79-.407Z"})],-1),ma=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[l("path",{d:"M7 14s-1 0-1-1 1-4 5-4 5 3 5 4-1 1-1 1H7Zm4-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Zm-5.784 6A2.238 2.238 0 0 1 5 13c0-1.355.68-2.75 1.936-3.72A6.325 6.325 0 0 0 5 9c-4 0-5 3-5 4s1 1 1 1h4.216ZM4.5 8a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5Z"})],-1),ga=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 focus:outline-none",viewBox:"0 0 16 16"},[l("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"})],-1),va=l("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#fff",viewBox:"0 0 16 16",class:"hover:fill-primary transition duration-300 group-hover:animate-spin h-8 w-8 focus:outline-none"},[l("path",{d:"M8 4.754a3.246 3.246 0 1 0 0 6.492 3.246 3.246 0 0 0 0-6.492zM5.754 8a2.246 2.246 0 1 1 4.492 0 2.246 2.246 0 0 1-4.492 0z"}),l("path",{d:"M9.796 1.343c-.527-1.79-3.065-1.79-3.592 0l-.094.319a.873.873 0 0 1-1.255.52l-.292-.16c-1.64-.892-3.433.902-2.54 2.541l.159.292a.873.873 0 0 1-.52 1.255l-.319.094c-1.79.527-1.79 3.065 0 3.592l.319.094a.873.873 0 0 1 .52 1.255l-.16.292c-.892 1.64.901 3.434 2.541 2.54l.292-.159a.873.873 0 0 1 1.255.52l.094.319c.527 1.79 3.065 1.79 3.592 0l.094-.319a.873.873 0 0 1 1.255-.52l.292.16c1.64.893 3.434-.902 2.54-2.541l-.159-.292a.873.873 0 0 1 .52-1.255l.319-.094c1.79-.527 1.79-3.065 0-3.592l-.319-.094a.873.873 0 0 1-.52-1.255l.16-.292c.893-1.64-.902-3.433-2.541-2.54l-.292.159a.873.873 0 0 1-1.255-.52l-.094-.319zm-2.633.283c.246-.835 1.428-.835 1.674 0l.094.319a1.873 1.873 0 0 0 2.693 1.115l.291-.16c.764-.415 1.6.42 1.184 1.185l-.159.292a1.873 1.873 0 0 0 1.116 2.692l.318.094c.835.246.835 1.428 0 1.674l-.319.094a1.873 1.873 0 0 0-1.115 2.693l.16.291c.415.764-.42 1.6-1.185 1.184l-.291-.159a1.873 1.873 0 0 0-2.693 1.116l-.094.318c-.246.835-1.428.835-1.674 0l-.094-.319a1.873 1.873 0 0 0-2.692-1.115l-.292.16c-.764.415-1.6-.42-1.184-1.185l.159-.291A1.873 1.873 0 0 0 1.945 8.93l-.319-.094c-.835-.246-.835-1.428 0-1.674l.319-.094A1.873 1.873 0 0 0 3.06 4.377l-.16-.292c-.415-.764.42-1.6 1.185-1.184l.292.159a1.873 1.873 0 0 0 2.692-1.115l.094-.319z"})],-1),ba=re({__name:"GameMasterMenu",emits:["openSettings","stopGame","leaveGame","newGame","updateTableGameStatus","showAllCards","setNextPlayer","shuffleDeck","historyMovement"],setup(n,{emit:e}){const t=Ie(),a=()=>{var s,i,d;if(!t.clickCardId)return!0;const o=(i=(s=t.cards)==null?void 0:s.find(c=>c.id===t.clickCardId))==null?void 0:i.table_deck.id;return!o||((d=t.table)==null?void 0:d.status)!==$.PLAYING?!0:o===t.getJunkTableDeckId?!1:!t.dropZones.deck.some(c=>c.tableDeckId===o)};return(o,s)=>{const i=qe("VTooltip");return m(),P(k,{class:"border text-white fixed bottom-32 rounded-3xl h-14 bg-dark py-0 transition duration-1000 group cursor-pointer -translate-x-[685px] hover:-translate-x-[20px] z-[2147483639]",items:"center",justify:"center"},{default:h(()=>[y(k,{class:"border-r h-full px-6 pl-10",items:"center",gap:4},{default:h(()=>{var d,c;return[y(k,{justify:"center",items:"center",class:"hover:text-primary duration-300 transition",onClick:s[0]||(s[0]=u=>o.$emit("newGame"))},{default:h(()=>[y(i,{distance:"22"},{popper:h(()=>[L(" New Game ")]),default:h(()=>[Xn]),_:1})]),_:1}),y(k,{justify:"center",items:"center",class:"hover:text-primary duration-300 transition"},{default:h(()=>{var u,g,w,D;return[l("button",{onClick:s[1]||(s[1]=I=>{var p,f;return((p=r(t).table)==null?void 0:p.status)===r($).PLAYING||((f=r(t).table)==null?void 0:f.status)===r($).GAME_MASTER_EDIT?o.$emit("updateTableGameStatus",r($).PAUSE):o.$emit("updateTableGameStatus",r($).PLAYING)}),disabled:((u=r(t).table)==null?void 0:u.status)===r($).FINISH||((g=r(t).table)==null?void 0:g.status)===r($).WAITING,class:O(((w=r(t).table)==null?void 0:w.status)===r($).FINISH||((D=r(t).table)==null?void 0:D.status)===r($).WAITING?"cursor-not-allowed opacity-50":"")},[y(i,{distance:"22"},{popper:h(()=>[L(" Pause / Resume Game ")]),default:h(()=>{var I;return[((I=r(t).table)==null?void 0:I.status)!==r($).PAUSE?(m(),S("svg",Jn,Qn)):(m(),S("svg",ea,na))]}),_:1})],10,qn)]}),_:1}),y(k,{justify:"center",items:"center",class:"hover:text-primary duration-300 transition"},{default:h(()=>{var u,g,w,D;return[l("button",{onClick:s[2]||(s[2]=I=>{var p,f;return((p=r(t).table)==null?void 0:p.status)===r($).PLAYING||((f=r(t).table)==null?void 0:f.status)===r($).PAUSE?o.$emit("updateTableGameStatus",r($).GAME_MASTER_EDIT):o.$emit("updateTableGameStatus",r($).PLAYING)}),disabled:((u=r(t).table)==null?void 0:u.status)===r($).FINISH||((g=r(t).table)==null?void 0:g.status)===r($).WAITING,class:O(((w=r(t).table)==null?void 0:w.status)===r($).FINISH||((D=r(t).table)==null?void 0:D.status)===r($).WAITING?"cursor-not-allowed opacity-50":"")},[y(i,{distance:"22"},{popper:h(()=>[L(" Hide table from other players to edit the table ")]),default:h(()=>[oa]),_:1})],10,aa)]}),_:1}),y(k,{justify:"center",items:"center",class:O(["hover:text-primary duration-300 transition",((d=r(t).table)==null?void 0:d.status)===r($).WAITING||((c=r(t).table)==null?void 0:c.status)===r($).FINISH?"cursor-not-allowed opacity-50":""]),onClick:s[3]||(s[3]=u=>{var g;return((g=r(t).table)==null?void 0:g.status)!==r($).WAITING?o.$emit("stopGame"):""})},{default:h(()=>[y(i,{distance:"22"},{popper:h(()=>[L(" End Game ")]),default:h(()=>[ra]),_:1})]),_:1},8,["class"]),y(k,{justify:"center",items:"center"},{default:h(()=>{var u,g;return[l("button",{disabled:((u=r(t).table)==null?void 0:u.status)!==r($).FINISH,onClick:s[4]||(s[4]=w=>o.$emit("updateTableGameStatus",r($).WAITING)),class:O(["hover:text-primary duration-300 transition",((g=r(t).table)==null?void 0:g.status)!==r($).FINISH?"cursor-not-allowed opacity-50":""])},[y(i,{distance:"22"},{popper:h(()=>[L(" Wait For New Players ")]),default:h(()=>[ia]),_:1})],10,sa)]}),_:1}),y(k,{justify:"center",items:"center",class:"hover:text-primary duration-300 transition",onClick:s[5]||(s[5]=u=>o.$emit("leaveGame"))},{default:h(()=>[y(i,{distance:"22"},{popper:h(()=>[L(" Leave Game All Players ")]),default:h(()=>[la]),_:1})]),_:1})]}),_:1}),y(k,{class:"border-r h-full px-6",items:"center",gap:4},{default:h(()=>{var d,c,u,g,w,D,I,p;return[y(k,{justify:"center",items:"center",onClick:s[6]||(s[6]=f=>{var T;return((T=r(t).table)==null?void 0:T.status)===r($).PLAYING?o.$emit("setNextPlayer",!1):""}),class:O([((d=r(t).table)==null?void 0:d.status)===r($).PLAYING?"":"cursor-not-allowed opacity-50","hover:text-primary duration-300 transition"])},{default:h(()=>[y(i,{distance:"22"},{popper:h(()=>[L(" Previous Player ")]),default:h(()=>[da]),_:1})]),_:1},8,["class"]),y(k,{justify:"center",items:"center",onClick:s[7]||(s[7]=f=>{var T;return((T=r(t).table)==null?void 0:T.status)===r($).PLAYING?o.$emit("setNextPlayer",!0):""}),class:O(["hover:text-primary duration-300 transition",((c=r(t).table)==null?void 0:c.status)===r($).PLAYING?"":"cursor-not-allowed opacity-50"])},{default:h(()=>[y(i,{distance:"22"},{popper:h(()=>[L(" Next Player ")]),default:h(()=>[ua]),_:1})]),_:1},8,["class"]),y(k,{justify:"center",items:"center",class:O(["hover:text-primary duration-300 transition",((u=r(t).table)==null?void 0:u.status)===r($).PLAYING||((g=r(t).table)==null?void 0:g.status)===r($).PAUSE?"":"cursor-not-allowed opacity-50"]),onClick:s[8]||(s[8]=f=>{var T,C;return((T=r(t).table)==null?void 0:T.status)===r($).PLAYING||((C=r(t).table)==null?void 0:C.status)===r($).PAUSE?o.$emit("showAllCards"):""})},{default:h(()=>[y(i,{distance:"22"},{popper:h(()=>[L(" Show all cards to players ")]),default:h(()=>[ca]),_:1})]),_:1},8,["class"]),y(k,{justify:"center",items:"center",class:O(["hover:text-primary duration-300 transition",a()?"cursor-not-allowed opacity-50":""]),onClick:s[9]||(s[9]=f=>a()?"":o.$emit("shuffleDeck"))},{default:h(()=>[y(i,{distance:"22"},{popper:h(()=>[L(" Shuffle selected deck ")]),default:h(()=>[ha]),_:1})]),_:1},8,["class"]),y(k,{justify:"center",items:"center",class:O(["hover:text-primary duration-300 transition",(((w=r(t).table)==null?void 0:w.status)===r($).PLAYING||((D=r(t).table)==null?void 0:D.status)===r($).GAME_MASTER_EDIT)&&r(t).refUndoHistory.length>0?"":"cursor-not-allowed opacity-50"]),onClick:s[10]||(s[10]=f=>{var T,C;return(((T=r(t).table)==null?void 0:T.status)===r($).PLAYING||((C=r(t).table)==null?void 0:C.status)===r($).GAME_MASTER_EDIT)&&r(t).refUndoHistory.length>0?o.$emit("historyMovement",r(Xt).UNDO):""})},{default:h(()=>[y(i,{distance:"22"},{popper:h(()=>[L(" Undo Card Movement ")]),default:h(()=>[fa]),_:1})]),_:1},8,["class"]),y(k,{justify:"center",items:"center",class:O(["hover:text-primary duration-300 transition",(((I=r(t).table)==null?void 0:I.status)===r($).PLAYING||((p=r(t).table)==null?void 0:p.status)===r($).GAME_MASTER_EDIT)&&r(t).refRedoHistory.length>0?"":"cursor-not-allowed opacity-50"]),onClick:s[11]||(s[11]=f=>{var T,C;return(((T=r(t).table)==null?void 0:T.status)===r($).PLAYING||((C=r(t).table)==null?void 0:C.status)===r($).GAME_MASTER_EDIT)&&r(t).refRedoHistory.length>0?o.$emit("historyMovement",r(Xt).REDO):""})},{default:h(()=>[y(i,{distance:"22"},{popper:h(()=>[L(" Redo Card Movement ")]),default:h(()=>[pa]),_:1})]),_:1},8,["class"])]}),_:1}),y(k,{class:"border-r h-full px-6",items:"center",gap:4},{default:h(()=>{var d,c;return[y(k,{justify:"center",items:"center",onClick:s[12]||(s[12]=u=>o.$emit("openSettings",2)),class:"hover:text-primary duration-300 transition"},{default:h(()=>[y(i,{distance:"22"},{popper:h(()=>[L(" Open User List ")]),default:h(()=>[ma]),_:1})]),_:1}),y(k,{justify:"center",items:"center",onClick:s[13]||(s[13]=u=>{var g,w;return((g=r(t).table)==null?void 0:g.status)===r($).FINISH||((w=r(t).table)==null?void 0:w.status)===r($).WAITING?"":o.$emit("openSettings",3)}),class:O([((d=r(t).table)==null?void 0:d.status)===r($).FINISH||((c=r(t).table)==null?void 0:c.status)===r($).WAITING?"cursor-not-allowed opacity-50":"","hover:text-primary duration-300 transition"])},{default:h(()=>[y(i,{distance:"22"},{popper:h(()=>[L(" Edit Rank Table ")]),default:h(()=>[ga]),_:1})]),_:1},8,["class"])]}),_:1}),y(k,{justify:"center",items:"center",class:"px-8",onClick:s[14]||(s[14]=d=>o.$emit("openSettings",1))},{default:h(()=>[y(i,{distance:"18"},{popper:h(()=>[L(" Open Game Master Settings ")]),default:h(()=>[va]),_:1})]),_:1})]),_:1})}}});/*!
  * vue-draggable-next v2.1.0
  * (c) 2021 Anish George
  * @license MIT
  *//**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function Qt(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(n);e&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(n,o).enumerable})),t.push.apply(t,a)}return t}function we(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Qt(Object(t),!0).forEach(function(a){wa(n,a,t[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Qt(Object(t)).forEach(function(a){Object.defineProperty(n,a,Object.getOwnPropertyDescriptor(t,a))})}return n}function lt(n){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lt=function(e){return typeof e}:lt=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},lt(n)}function wa(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function xe(){return xe=Object.assign||function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(n[a]=t[a])}return n},xe.apply(this,arguments)}function ya(n,e){if(n==null)return{};var t={},a=Object.keys(n),o,s;for(s=0;s<a.length;s++)o=a[s],!(e.indexOf(o)>=0)&&(t[o]=n[o]);return t}function _a(n,e){if(n==null)return{};var t=ya(n,e),a,o;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(o=0;o<s.length;o++)a=s[o],!(e.indexOf(a)>=0)&&(!Object.prototype.propertyIsEnumerable.call(n,a)||(t[a]=n[a]))}return t}var xa="1.14.0";function _e(n){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(n)}var ke=_e(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Ke=_e(/Edge/i),en=_e(/firefox/i),Fe=_e(/safari/i)&&!_e(/chrome/i)&&!_e(/android/i),vn=_e(/iP(ad|od|hone)/i),ka=_e(/chrome/i)&&_e(/android/i),bn={capture:!1,passive:!1};function H(n,e,t){n.addEventListener(e,t,!ke&&bn)}function z(n,e,t){n.removeEventListener(e,t,!ke&&bn)}function mt(n,e){if(!!e){if(e[0]===">"&&(e=e.substring(1)),n)try{if(n.matches)return n.matches(e);if(n.msMatchesSelector)return n.msMatchesSelector(e);if(n.webkitMatchesSelector)return n.webkitMatchesSelector(e)}catch{return!1}return!1}}function Ca(n){return n.host&&n!==document&&n.host.nodeType?n.host:n.parentNode}function ve(n,e,t,a){if(n){t=t||document;do{if(e!=null&&(e[0]===">"?n.parentNode===t&&mt(n,e):mt(n,e))||a&&n===t)return n;if(n===t)break}while(n=Ca(n))}return null}var tn=/\s+/g;function de(n,e,t){if(n&&e)if(n.classList)n.classList[t?"add":"remove"](e);else{var a=(" "+n.className+" ").replace(tn," ").replace(" "+e+" "," ");n.className=(a+(t?" "+e:"")).replace(tn," ")}}function M(n,e,t){var a=n&&n.style;if(a){if(t===void 0)return document.defaultView&&document.defaultView.getComputedStyle?t=document.defaultView.getComputedStyle(n,""):n.currentStyle&&(t=n.currentStyle),e===void 0?t:t[e];!(e in a)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),a[e]=t+(typeof t=="string"?"":"px")}}function Le(n,e){var t="";if(typeof n=="string")t=n;else do{var a=M(n,"transform");a&&a!=="none"&&(t=a+" "+t)}while(!e&&(n=n.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(t)}function wn(n,e,t){if(n){var a=n.getElementsByTagName(e),o=0,s=a.length;if(t)for(;o<s;o++)t(a[o],o);return a}return[]}function be(){var n=document.scrollingElement;return n||document.documentElement}function K(n,e,t,a,o){if(!(!n.getBoundingClientRect&&n!==window)){var s,i,d,c,u,g,w;if(n!==window&&n.parentNode&&n!==be()?(s=n.getBoundingClientRect(),i=s.top,d=s.left,c=s.bottom,u=s.right,g=s.height,w=s.width):(i=0,d=0,c=window.innerHeight,u=window.innerWidth,g=window.innerHeight,w=window.innerWidth),(e||t)&&n!==window&&(o=o||n.parentNode,!ke))do if(o&&o.getBoundingClientRect&&(M(o,"transform")!=="none"||t&&M(o,"position")!=="static")){var D=o.getBoundingClientRect();i-=D.top+parseInt(M(o,"border-top-width")),d-=D.left+parseInt(M(o,"border-left-width")),c=i+s.height,u=d+s.width;break}while(o=o.parentNode);if(a&&n!==window){var I=Le(o||n),p=I&&I.a,f=I&&I.d;I&&(i/=f,d/=p,w/=p,g/=f,c=i+g,u=d+w)}return{top:i,left:d,bottom:c,right:u,width:w,height:g}}}function nn(n,e,t){for(var a=$e(n,!0),o=K(n)[e];a;){var s=K(a)[t],i=void 0;if(t==="top"||t==="left"?i=o>=s:i=o<=s,!i)return a;if(a===be())break;a=$e(a,!1)}return!1}function Ue(n,e,t,a){for(var o=0,s=0,i=n.children;s<i.length;){if(i[s].style.display!=="none"&&i[s]!==A.ghost&&(a||i[s]!==A.dragged)&&ve(i[s],t.draggable,n,!1)){if(o===e)return i[s];o++}s++}return null}function Vt(n,e){for(var t=n.lastElementChild;t&&(t===A.ghost||M(t,"display")==="none"||e&&!mt(t,e));)t=t.previousElementSibling;return t||null}function he(n,e){var t=0;if(!n||!n.parentNode)return-1;for(;n=n.previousElementSibling;)n.nodeName.toUpperCase()!=="TEMPLATE"&&n!==A.clone&&(!e||mt(n,e))&&t++;return t}function an(n){var e=0,t=0,a=be();if(n)do{var o=Le(n),s=o.a,i=o.d;e+=n.scrollLeft*s,t+=n.scrollTop*i}while(n!==a&&(n=n.parentNode));return[e,t]}function Sa(n,e){for(var t in n)if(!!n.hasOwnProperty(t)){for(var a in e)if(e.hasOwnProperty(a)&&e[a]===n[t][a])return Number(t)}return-1}function $e(n,e){if(!n||!n.getBoundingClientRect)return be();var t=n,a=!1;do if(t.clientWidth<t.scrollWidth||t.clientHeight<t.scrollHeight){var o=M(t);if(t.clientWidth<t.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||t.clientHeight<t.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!t.getBoundingClientRect||t===document.body)return be();if(a||e)return t;a=!0}}while(t=t.parentNode);return be()}function Ta(n,e){if(n&&e)for(var t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Ct(n,e){return Math.round(n.top)===Math.round(e.top)&&Math.round(n.left)===Math.round(e.left)&&Math.round(n.height)===Math.round(e.height)&&Math.round(n.width)===Math.round(e.width)}var Ye;function yn(n,e){return function(){if(!Ye){var t=arguments,a=this;t.length===1?n.call(a,t[0]):n.apply(a,t),Ye=setTimeout(function(){Ye=void 0},e)}}}function $a(){clearTimeout(Ye),Ye=void 0}function _n(n,e,t){n.scrollLeft+=e,n.scrollTop+=t}function xn(n){var e=window.Polymer,t=window.jQuery||window.Zepto;return e&&e.dom?e.dom(n).cloneNode(!0):t?t(n).clone(!0)[0]:n.cloneNode(!0)}var ce="Sortable"+new Date().getTime();function Da(){var n=[],e;return{captureAnimationState:function(){if(n=[],!!this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(o){if(!(M(o,"display")==="none"||o===A.ghost)){n.push({target:o,rect:K(o)});var s=we({},n[n.length-1].rect);if(o.thisAnimationDuration){var i=Le(o,!0);i&&(s.top-=i.f,s.left-=i.e)}o.fromRect=s}})}},addAnimationState:function(a){n.push(a)},removeAnimationState:function(a){n.splice(Sa(n,{target:a}),1)},animateAll:function(a){var o=this;if(!this.options.animation){clearTimeout(e),typeof a=="function"&&a();return}var s=!1,i=0;n.forEach(function(d){var c=0,u=d.target,g=u.fromRect,w=K(u),D=u.prevFromRect,I=u.prevToRect,p=d.rect,f=Le(u,!0);f&&(w.top-=f.f,w.left-=f.e),u.toRect=w,u.thisAnimationDuration&&Ct(D,w)&&!Ct(g,w)&&(p.top-w.top)/(p.left-w.left)===(g.top-w.top)/(g.left-w.left)&&(c=Ea(p,D,I,o.options)),Ct(w,g)||(u.prevFromRect=g,u.prevToRect=w,c||(c=o.options.animation),o.animate(u,p,w,c)),c&&(s=!0,i=Math.max(i,c),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},c),u.thisAnimationDuration=c)}),clearTimeout(e),s?e=setTimeout(function(){typeof a=="function"&&a()},i):typeof a=="function"&&a(),n=[]},animate:function(a,o,s,i){if(i){M(a,"transition",""),M(a,"transform","");var d=Le(this.el),c=d&&d.a,u=d&&d.d,g=(o.left-s.left)/(c||1),w=(o.top-s.top)/(u||1);a.animatingX=!!g,a.animatingY=!!w,M(a,"transform","translate3d("+g+"px,"+w+"px,0)"),this.forRepaintDummy=Ia(a),M(a,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),M(a,"transform","translate3d(0,0,0)"),typeof a.animated=="number"&&clearTimeout(a.animated),a.animated=setTimeout(function(){M(a,"transition",""),M(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},i)}}}}function Ia(n){return n.offsetWidth}function Ea(n,e,t,a){return Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))/Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))*a.animation}var Oe=[],St={initializeByDefault:!0},Qe={mount:function(e){for(var t in St)St.hasOwnProperty(t)&&!(t in e)&&(e[t]=St[t]);Oe.forEach(function(a){if(a.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Oe.push(e)},pluginEvent:function(e,t,a){var o=this;this.eventCanceled=!1,a.cancel=function(){o.eventCanceled=!0};var s=e+"Global";Oe.forEach(function(i){!t[i.pluginName]||(t[i.pluginName][s]&&t[i.pluginName][s](we({sortable:t},a)),t.options[i.pluginName]&&t[i.pluginName][e]&&t[i.pluginName][e](we({sortable:t},a)))})},initializePlugins:function(e,t,a,o){Oe.forEach(function(d){var c=d.pluginName;if(!(!e.options[c]&&!d.initializeByDefault)){var u=new d(e,t,e.options);u.sortable=e,u.options=e.options,e[c]=u,xe(a,u.defaults)}});for(var s in e.options)if(!!e.options.hasOwnProperty(s)){var i=this.modifyOption(e,s,e.options[s]);typeof i<"u"&&(e.options[s]=i)}},getEventProperties:function(e,t){var a={};return Oe.forEach(function(o){typeof o.eventProperties=="function"&&xe(a,o.eventProperties.call(t[o.pluginName],e))}),a},modifyOption:function(e,t,a){var o;return Oe.forEach(function(s){!e[s.pluginName]||s.optionListeners&&typeof s.optionListeners[t]=="function"&&(o=s.optionListeners[t].call(e[s.pluginName],a))}),o}};function Ma(n){var e=n.sortable,t=n.rootEl,a=n.name,o=n.targetEl,s=n.cloneEl,i=n.toEl,d=n.fromEl,c=n.oldIndex,u=n.newIndex,g=n.oldDraggableIndex,w=n.newDraggableIndex,D=n.originalEvent,I=n.putSortable,p=n.extraEventProperties;if(e=e||t&&t[ce],!!e){var f,T=e.options,C="on"+a.charAt(0).toUpperCase()+a.substr(1);window.CustomEvent&&!ke&&!Ke?f=new CustomEvent(a,{bubbles:!0,cancelable:!0}):(f=document.createEvent("Event"),f.initEvent(a,!0,!0)),f.to=i||t,f.from=d||t,f.item=o||t,f.clone=s,f.oldIndex=c,f.newIndex=u,f.oldDraggableIndex=g,f.newDraggableIndex=w,f.originalEvent=D,f.pullMode=I?I.lastPutMode:void 0;var b=we(we({},p),Qe.getEventProperties(a,e));for(var v in b)f[v]=b[v];t&&t.dispatchEvent(f),T[C]&&T[C].call(e,f)}}var Aa=["evt"],ie=function(e,t){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a.evt,s=_a(a,Aa);Qe.pluginEvent.bind(A)(e,t,we({dragEl:_,parentEl:Z,ghostEl:R,rootEl:F,nextEl:Pe,lastDownEl:dt,cloneEl:X,cloneHidden:Te,dragStarted:je,putSortable:ne,activeSortable:A.active,originalEvent:o,oldIndex:ze,oldDraggableIndex:We,newIndex:ue,newDraggableIndex:Se,hideGhostForTarget:Tn,unhideGhostForTarget:$n,cloneNowHidden:function(){Te=!0},cloneNowShown:function(){Te=!1},dispatchSortableEvent:function(d){se({sortable:t,name:d,originalEvent:o})}},s))};function se(n){Ma(we({putSortable:ne,cloneEl:X,targetEl:_,rootEl:F,oldIndex:ze,oldDraggableIndex:We,newIndex:ue,newDraggableIndex:Se},n))}var _,Z,R,F,Pe,dt,X,Te,ze,ue,We,Se,at,ne,Ge=!1,gt=!1,vt=[],Me,me,Tt,$t,on,rn,je,Ne,Ze,Xe=!1,ot=!1,ut,oe,Dt=[],Rt=!1,bt=[],_t=typeof document<"u",rt=vn,sn=Ke||ke?"cssFloat":"float",Pa=_t&&!ka&&!vn&&"draggable"in document.createElement("div"),kn=function(){if(!!_t){if(ke)return!1;var n=document.createElement("x");return n.style.cssText="pointer-events:auto",n.style.pointerEvents==="auto"}}(),Cn=function(e,t){var a=M(e),o=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),s=Ue(e,0,t),i=Ue(e,1,t),d=s&&M(s),c=i&&M(i),u=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+K(s).width,g=c&&parseInt(c.marginLeft)+parseInt(c.marginRight)+K(i).width;if(a.display==="flex")return a.flexDirection==="column"||a.flexDirection==="column-reverse"?"vertical":"horizontal";if(a.display==="grid")return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(s&&d.float&&d.float!=="none"){var w=d.float==="left"?"left":"right";return i&&(c.clear==="both"||c.clear===w)?"vertical":"horizontal"}return s&&(d.display==="block"||d.display==="flex"||d.display==="table"||d.display==="grid"||u>=o&&a[sn]==="none"||i&&a[sn]==="none"&&u+g>o)?"vertical":"horizontal"},Oa=function(e,t,a){var o=a?e.left:e.top,s=a?e.right:e.bottom,i=a?e.width:e.height,d=a?t.left:t.top,c=a?t.right:t.bottom,u=a?t.width:t.height;return o===d||s===c||o+i/2===d+u/2},Na=function(e,t){var a;return vt.some(function(o){var s=o[ce].options.emptyInsertThreshold;if(!(!s||Vt(o))){var i=K(o),d=e>=i.left-s&&e<=i.right+s,c=t>=i.top-s&&t<=i.bottom+s;if(d&&c)return a=o}}),a},Sn=function(e){function t(s,i){return function(d,c,u,g){var w=d.options.group.name&&c.options.group.name&&d.options.group.name===c.options.group.name;if(s==null&&(i||w))return!0;if(s==null||s===!1)return!1;if(i&&s==="clone")return s;if(typeof s=="function")return t(s(d,c,u,g),i)(d,c,u,g);var D=(i?d:c).options.group.name;return s===!0||typeof s=="string"&&s===D||s.join&&s.indexOf(D)>-1}}var a={},o=e.group;(!o||lt(o)!="object")&&(o={name:o}),a.name=o.name,a.checkPull=t(o.pull,!0),a.checkPut=t(o.put),a.revertClone=o.revertClone,e.group=a},Tn=function(){!kn&&R&&M(R,"display","none")},$n=function(){!kn&&R&&M(R,"display","")};_t&&document.addEventListener("click",function(n){if(gt)return n.preventDefault(),n.stopPropagation&&n.stopPropagation(),n.stopImmediatePropagation&&n.stopImmediatePropagation(),gt=!1,!1},!0);var Ae=function(e){if(_){e=e.touches?e.touches[0]:e;var t=Na(e.clientX,e.clientY);if(t){var a={};for(var o in e)e.hasOwnProperty(o)&&(a[o]=e[o]);a.target=a.rootEl=t,a.preventDefault=void 0,a.stopPropagation=void 0,t[ce]._onDragOver(a)}}},Ra=function(e){_&&_.parentNode[ce]._isOutsideThisEl(e.target)};function A(n,e){if(!(n&&n.nodeType&&n.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(n));this.el=n,this.options=e=xe({},e),n[ce]=this;var t={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(n.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Cn(n,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(i,d){i.setData("Text",d.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:A.supportPointer!==!1&&"PointerEvent"in window&&!Fe,emptyInsertThreshold:5};Qe.initializePlugins(this,n,t);for(var a in t)!(a in e)&&(e[a]=t[a]);Sn(e);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=e.forceFallback?!1:Pa,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?H(n,"pointerdown",this._onTapStart):(H(n,"mousedown",this._onTapStart),H(n,"touchstart",this._onTapStart)),this.nativeDraggable&&(H(n,"dragover",this),H(n,"dragenter",this)),vt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),xe(this,Da())}A.prototype={constructor:A,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Ne=null)},_getDirection:function(e,t){return typeof this.options.direction=="function"?this.options.direction.call(this,e,t,_):this.options.direction},_onTapStart:function(e){if(!!e.cancelable){var t=this,a=this.el,o=this.options,s=o.preventOnFilter,i=e.type,d=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,c=(d||e).target,u=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||c,g=o.filter;if(Va(a),!_&&!(/mousedown|pointerdown/.test(i)&&e.button!==0||o.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Fe&&c&&c.tagName.toUpperCase()==="SELECT")&&(c=ve(c,o.draggable,a,!1),!(c&&c.animated)&&dt!==c)){if(ze=he(c),We=he(c,o.draggable),typeof g=="function"){if(g.call(this,e,c,this)){se({sortable:t,rootEl:u,name:"filter",targetEl:c,toEl:a,fromEl:a}),ie("filter",t,{evt:e}),s&&e.cancelable&&e.preventDefault();return}}else if(g&&(g=g.split(",").some(function(w){if(w=ve(u,w.trim(),a,!1),w)return se({sortable:t,rootEl:w,name:"filter",targetEl:c,fromEl:a,toEl:a}),ie("filter",t,{evt:e}),!0}),g)){s&&e.cancelable&&e.preventDefault();return}o.handle&&!ve(u,o.handle,a,!1)||this._prepareDragStart(e,d,c)}}},_prepareDragStart:function(e,t,a){var o=this,s=o.el,i=o.options,d=s.ownerDocument,c;if(a&&!_&&a.parentNode===s){var u=K(a);if(F=s,_=a,Z=_.parentNode,Pe=_.nextSibling,dt=a,at=i.group,A.dragged=_,Me={target:_,clientX:(t||e).clientX,clientY:(t||e).clientY},on=Me.clientX-u.left,rn=Me.clientY-u.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,_.style["will-change"]="all",c=function(){if(ie("delayEnded",o,{evt:e}),A.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!en&&o.nativeDraggable&&(_.draggable=!0),o._triggerDragStart(e,t),se({sortable:o,name:"choose",originalEvent:e}),de(_,i.chosenClass,!0)},i.ignore.split(",").forEach(function(g){wn(_,g.trim(),It)}),H(d,"dragover",Ae),H(d,"mousemove",Ae),H(d,"touchmove",Ae),H(d,"mouseup",o._onDrop),H(d,"touchend",o._onDrop),H(d,"touchcancel",o._onDrop),en&&this.nativeDraggable&&(this.options.touchStartThreshold=4,_.draggable=!0),ie("delayStart",this,{evt:e}),i.delay&&(!i.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Ke||ke))){if(A.eventCanceled){this._onDrop();return}H(d,"mouseup",o._disableDelayedDrag),H(d,"touchend",o._disableDelayedDrag),H(d,"touchcancel",o._disableDelayedDrag),H(d,"mousemove",o._delayedDragTouchMoveHandler),H(d,"touchmove",o._delayedDragTouchMoveHandler),i.supportPointer&&H(d,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(c,i.delay)}else c()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){_&&It(_),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;z(e,"mouseup",this._disableDelayedDrag),z(e,"touchend",this._disableDelayedDrag),z(e,"touchcancel",this._disableDelayedDrag),z(e,"mousemove",this._delayedDragTouchMoveHandler),z(e,"touchmove",this._delayedDragTouchMoveHandler),z(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t=t||e.pointerType=="touch"&&e,!this.nativeDraggable||t?this.options.supportPointer?H(document,"pointermove",this._onTouchMove):t?H(document,"touchmove",this._onTouchMove):H(document,"mousemove",this._onTouchMove):(H(_,"dragend",this),H(F,"dragstart",this._onDragStart));try{document.selection?ct(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(Ge=!1,F&&_){ie("dragStarted",this,{evt:t}),this.nativeDraggable&&H(document,"dragover",Ra);var a=this.options;!e&&de(_,a.dragClass,!1),de(_,a.ghostClass,!0),A.active=this,e&&this._appendGhost(),se({sortable:this,name:"start",originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(me){this._lastX=me.clientX,this._lastY=me.clientY,Tn();for(var e=document.elementFromPoint(me.clientX,me.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(me.clientX,me.clientY),e!==t);)t=e;if(_.parentNode[ce]._isOutsideThisEl(e),t)do{if(t[ce]){var a=void 0;if(a=t[ce]._onDragOver({clientX:me.clientX,clientY:me.clientY,target:e,rootEl:t}),a&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);$n()}},_onTouchMove:function(e){if(Me){var t=this.options,a=t.fallbackTolerance,o=t.fallbackOffset,s=e.touches?e.touches[0]:e,i=R&&Le(R,!0),d=R&&i&&i.a,c=R&&i&&i.d,u=rt&&oe&&an(oe),g=(s.clientX-Me.clientX+o.x)/(d||1)+(u?u[0]-Dt[0]:0)/(d||1),w=(s.clientY-Me.clientY+o.y)/(c||1)+(u?u[1]-Dt[1]:0)/(c||1);if(!A.active&&!Ge){if(a&&Math.max(Math.abs(s.clientX-this._lastX),Math.abs(s.clientY-this._lastY))<a)return;this._onDragStart(e,!0)}if(R){i?(i.e+=g-(Tt||0),i.f+=w-($t||0)):i={a:1,b:0,c:0,d:1,e:g,f:w};var D="matrix(".concat(i.a,",").concat(i.b,",").concat(i.c,",").concat(i.d,",").concat(i.e,",").concat(i.f,")");M(R,"webkitTransform",D),M(R,"mozTransform",D),M(R,"msTransform",D),M(R,"transform",D),Tt=g,$t=w,me=s}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!R){var e=this.options.fallbackOnBody?document.body:F,t=K(_,!0,rt,!0,e),a=this.options;if(rt){for(oe=e;M(oe,"position")==="static"&&M(oe,"transform")==="none"&&oe!==document;)oe=oe.parentNode;oe!==document.body&&oe!==document.documentElement?(oe===document&&(oe=be()),t.top+=oe.scrollTop,t.left+=oe.scrollLeft):oe=be(),Dt=an(oe)}R=_.cloneNode(!0),de(R,a.ghostClass,!1),de(R,a.fallbackClass,!0),de(R,a.dragClass,!0),M(R,"transition",""),M(R,"transform",""),M(R,"box-sizing","border-box"),M(R,"margin",0),M(R,"top",t.top),M(R,"left",t.left),M(R,"width",t.width),M(R,"height",t.height),M(R,"opacity","0.8"),M(R,"position",rt?"absolute":"fixed"),M(R,"zIndex","100000"),M(R,"pointerEvents","none"),A.ghost=R,e.appendChild(R),M(R,"transform-origin",on/parseInt(R.style.width)*100+"% "+rn/parseInt(R.style.height)*100+"%")}},_onDragStart:function(e,t){var a=this,o=e.dataTransfer,s=a.options;if(ie("dragStart",this,{evt:e}),A.eventCanceled){this._onDrop();return}ie("setupClone",this),A.eventCanceled||(X=xn(_),X.draggable=!1,X.style["will-change"]="",this._hideClone(),de(X,this.options.chosenClass,!1),A.clone=X),a.cloneId=ct(function(){ie("clone",a),!A.eventCanceled&&(a.options.removeCloneOnHide||F.insertBefore(X,_),a._hideClone(),se({sortable:a,name:"clone"}))}),!t&&de(_,s.dragClass,!0),t?(gt=!0,a._loopId=setInterval(a._emulateDragOver,50)):(z(document,"mouseup",a._onDrop),z(document,"touchend",a._onDrop),z(document,"touchcancel",a._onDrop),o&&(o.effectAllowed="move",s.setData&&s.setData.call(a,o,_)),H(document,"drop",a),M(_,"transform","translateZ(0)")),Ge=!0,a._dragStartId=ct(a._dragStarted.bind(a,t,e)),H(document,"selectstart",a),je=!0,Fe&&M(document.body,"user-select","none")},_onDragOver:function(e){var t=this.el,a=e.target,o,s,i,d=this.options,c=d.group,u=A.active,g=at===c,w=d.sort,D=ne||u,I,p=this,f=!1;if(Rt)return;function T(He,En){ie(He,p,we({evt:e,isOwner:g,axis:I?"vertical":"horizontal",revert:i,dragRect:o,targetRect:s,canSort:w,fromSortable:D,target:a,completed:b,onMove:function(Zt,Mn){return st(F,t,_,o,Zt,K(Zt),e,Mn)},changed:v},En))}function C(){T("dragOverAnimationCapture"),p.captureAnimationState(),p!==D&&D.captureAnimationState()}function b(He){return T("dragOverCompleted",{insertion:He}),He&&(g?u._hideClone():u._showClone(p),p!==D&&(de(_,ne?ne.options.ghostClass:u.options.ghostClass,!1),de(_,d.ghostClass,!0)),ne!==p&&p!==A.active?ne=p:p===A.active&&ne&&(ne=null),D===p&&(p._ignoreWhileAnimating=a),p.animateAll(function(){T("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==D&&(D.animateAll(),D._ignoreWhileAnimating=null)),(a===_&&!_.animated||a===t&&!a.animated)&&(Ne=null),!d.dragoverBubble&&!e.rootEl&&a!==document&&(_.parentNode[ce]._isOutsideThisEl(e.target),!He&&Ae(e)),!d.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),f=!0}function v(){ue=he(_),Se=he(_,d.draggable),se({sortable:p,name:"change",toEl:t,newIndex:ue,newDraggableIndex:Se,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),a=ve(a,d.draggable,t,!0),T("dragOver"),A.eventCanceled)return f;if(_.contains(e.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return b(!1);if(gt=!1,u&&!d.disabled&&(g?w||(i=Z!==F):ne===this||(this.lastPutMode=at.checkPull(this,u,_,e))&&c.checkPut(this,u,_,e))){if(I=this._getDirection(e,a)==="vertical",o=K(_),T("dragOverValid"),A.eventCanceled)return f;if(i)return Z=F,C(),this._hideClone(),T("revert"),A.eventCanceled||(Pe?F.insertBefore(_,Pe):F.appendChild(_)),b(!0);var x=Vt(t,d.draggable);if(!x||Ua(e,I,this)&&!x.animated){if(x===_)return b(!1);if(x&&t===e.target&&(a=x),a&&(s=K(a)),st(F,t,_,o,a,s,e,!!a)!==!1)return C(),t.appendChild(_),Z=t,v(),b(!0)}else if(x&&La(e,I,this)){var E=Ue(t,0,d,!0);if(E===_)return b(!1);if(a=E,s=K(a),st(F,t,_,o,a,s,e,!1)!==!1)return C(),t.insertBefore(_,E),Z=t,v(),b(!0)}else if(a.parentNode===t){s=K(a);var N=0,G,ee=_.parentNode!==t,V=!Oa(_.animated&&_.toRect||o,a.animated&&a.toRect||s,I),le=I?"top":"left",ae=nn(a,"top","top")||nn(_,"top","top"),fe=ae?ae.scrollTop:void 0;Ne!==a&&(G=s[le],Xe=!1,ot=!V&&d.invertSwap||ee),N=Ha(e,a,s,I,V?1:d.swapThreshold,d.invertedSwapThreshold==null?d.swapThreshold:d.invertedSwapThreshold,ot,Ne===a);var q;if(N!==0){var pe=he(_);do pe-=N,q=Z.children[pe];while(q&&(M(q,"display")==="none"||q===R))}if(N===0||q===a)return b(!1);Ne=a,Ze=N;var Ee=a.nextElementSibling,Ce=!1;Ce=N===1;var et=st(F,t,_,o,a,s,e,Ce);if(et!==!1)return(et===1||et===-1)&&(Ce=et===1),Rt=!0,setTimeout(za,30),C(),Ce&&!Ee?t.appendChild(_):a.parentNode.insertBefore(_,Ce?Ee:a),ae&&_n(ae,0,fe-ae.scrollTop),Z=_.parentNode,G!==void 0&&!ot&&(ut=Math.abs(G-K(a)[le])),v(),b(!0)}if(t.contains(_))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){z(document,"mousemove",this._onTouchMove),z(document,"touchmove",this._onTouchMove),z(document,"pointermove",this._onTouchMove),z(document,"dragover",Ae),z(document,"mousemove",Ae),z(document,"touchmove",Ae)},_offUpEvents:function(){var e=this.el.ownerDocument;z(e,"mouseup",this._onDrop),z(e,"touchend",this._onDrop),z(e,"pointerup",this._onDrop),z(e,"touchcancel",this._onDrop),z(document,"selectstart",this)},_onDrop:function(e){var t=this.el,a=this.options;if(ue=he(_),Se=he(_,a.draggable),ie("drop",this,{evt:e}),Z=_&&_.parentNode,ue=he(_),Se=he(_,a.draggable),A.eventCanceled){this._nulling();return}Ge=!1,ot=!1,Xe=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),Gt(this.cloneId),Gt(this._dragStartId),this.nativeDraggable&&(z(document,"drop",this),z(t,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Fe&&M(document.body,"user-select",""),M(_,"transform",""),e&&(je&&(e.cancelable&&e.preventDefault(),!a.dropBubble&&e.stopPropagation()),R&&R.parentNode&&R.parentNode.removeChild(R),(F===Z||ne&&ne.lastPutMode!=="clone")&&X&&X.parentNode&&X.parentNode.removeChild(X),_&&(this.nativeDraggable&&z(_,"dragend",this),It(_),_.style["will-change"]="",je&&!Ge&&de(_,ne?ne.options.ghostClass:this.options.ghostClass,!1),de(_,this.options.chosenClass,!1),se({sortable:this,name:"unchoose",toEl:Z,newIndex:null,newDraggableIndex:null,originalEvent:e}),F!==Z?(ue>=0&&(se({rootEl:Z,name:"add",toEl:Z,fromEl:F,originalEvent:e}),se({sortable:this,name:"remove",toEl:Z,originalEvent:e}),se({rootEl:Z,name:"sort",toEl:Z,fromEl:F,originalEvent:e}),se({sortable:this,name:"sort",toEl:Z,originalEvent:e})),ne&&ne.save()):ue!==ze&&ue>=0&&(se({sortable:this,name:"update",toEl:Z,originalEvent:e}),se({sortable:this,name:"sort",toEl:Z,originalEvent:e})),A.active&&((ue==null||ue===-1)&&(ue=ze,Se=We),se({sortable:this,name:"end",toEl:Z,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ie("nulling",this),F=_=Z=R=Pe=X=dt=Te=Me=me=je=ue=Se=ze=We=Ne=Ze=ne=at=A.dragged=A.ghost=A.clone=A.active=null,bt.forEach(function(e){e.checked=!0}),bt.length=Tt=$t=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":_&&(this._onDragOver(e),Ga(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],t,a=this.el.children,o=0,s=a.length,i=this.options;o<s;o++)t=a[o],ve(t,i.draggable,this.el,!1)&&e.push(t.getAttribute(i.dataIdAttr)||Ba(t));return e},sort:function(e,t){var a={},o=this.el;this.toArray().forEach(function(s,i){var d=o.children[i];ve(d,this.options.draggable,o,!1)&&(a[s]=d)},this),t&&this.captureAnimationState(),e.forEach(function(s){a[s]&&(o.removeChild(a[s]),o.appendChild(a[s]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return ve(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var a=this.options;if(t===void 0)return a[e];var o=Qe.modifyOption(this,e,t);typeof o<"u"?a[e]=o:a[e]=t,e==="group"&&Sn(a)},destroy:function(){ie("destroy",this);var e=this.el;e[ce]=null,z(e,"mousedown",this._onTapStart),z(e,"touchstart",this._onTapStart),z(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(z(e,"dragover",this),z(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),vt.splice(vt.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Te){if(ie("hideClone",this),A.eventCanceled)return;M(X,"display","none"),this.options.removeCloneOnHide&&X.parentNode&&X.parentNode.removeChild(X),Te=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Te){if(ie("showClone",this),A.eventCanceled)return;_.parentNode==F&&!this.options.group.revertClone?F.insertBefore(X,_):Pe?F.insertBefore(X,Pe):F.appendChild(X),this.options.group.revertClone&&this.animate(_,X),M(X,"display",""),Te=!1}}};function Ga(n){n.dataTransfer&&(n.dataTransfer.dropEffect="move"),n.cancelable&&n.preventDefault()}function st(n,e,t,a,o,s,i,d){var c,u=n[ce],g=u.options.onMove,w;return window.CustomEvent&&!ke&&!Ke?c=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(c=document.createEvent("Event"),c.initEvent("move",!0,!0)),c.to=e,c.from=n,c.dragged=t,c.draggedRect=a,c.related=o||e,c.relatedRect=s||K(e),c.willInsertAfter=d,c.originalEvent=i,n.dispatchEvent(c),g&&(w=g.call(u,c,i)),w}function It(n){n.draggable=!1}function za(){Rt=!1}function La(n,e,t){var a=K(Ue(t.el,0,t.options,!0)),o=10;return e?n.clientX<a.left-o||n.clientY<a.top&&n.clientX<a.right:n.clientY<a.top-o||n.clientY<a.bottom&&n.clientX<a.left}function Ua(n,e,t){var a=K(Vt(t.el,t.options.draggable)),o=10;return e?n.clientX>a.right+o||n.clientX<=a.right&&n.clientY>a.bottom&&n.clientX>=a.left:n.clientX>a.right&&n.clientY>a.top||n.clientX<=a.right&&n.clientY>a.bottom+o}function Ha(n,e,t,a,o,s,i,d){var c=a?n.clientY:n.clientX,u=a?t.height:t.width,g=a?t.top:t.left,w=a?t.bottom:t.right,D=!1;if(!i){if(d&&ut<u*o){if(!Xe&&(Ze===1?c>g+u*s/2:c<w-u*s/2)&&(Xe=!0),Xe)D=!0;else if(Ze===1?c<g+ut:c>w-ut)return-Ze}else if(c>g+u*(1-o)/2&&c<w-u*(1-o)/2)return ja(e)}return D=D||i,D&&(c<g+u*s/2||c>w-u*s/2)?c>g+u/2?1:-1:0}function ja(n){return he(_)<he(n)?1:-1}function Ba(n){for(var e=n.tagName+n.className+n.src+n.href+n.textContent,t=e.length,a=0;t--;)a+=e.charCodeAt(t);return a.toString(36)}function Va(n){bt.length=0;for(var e=n.getElementsByTagName("input"),t=e.length;t--;){var a=e[t];a.checked&&bt.push(a)}}function ct(n){return setTimeout(n,0)}function Gt(n){return clearTimeout(n)}_t&&H(document,"touchmove",function(n){(A.active||Ge)&&n.cancelable&&n.preventDefault()});A.utils={on:H,off:z,css:M,find:wn,is:function(e,t){return!!ve(e,t,e,!1)},extend:Ta,throttle:yn,closest:ve,toggleClass:de,clone:xn,index:he,nextTick:ct,cancelNextTick:Gt,detectDirection:Cn,getChild:Ue};A.get=function(n){return n[ce]};A.mount=function(){for(var n=arguments.length,e=new Array(n),t=0;t<n;t++)e[t]=arguments[t];e[0].constructor===Array&&(e=e[0]),e.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(A.utils=we(we({},A.utils),a.utils)),Qe.mount(a)})};A.create=function(n,e){return new A(n,e)};A.version=xa;var J=[],Be,zt,Lt=!1,Et,Mt,wt,Ve;function Fa(){function n(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return n.prototype={dragStarted:function(t){var a=t.originalEvent;this.sortable.nativeDraggable?H(document,"dragover",this._handleAutoScroll):this.options.supportPointer?H(document,"pointermove",this._handleFallbackAutoScroll):a.touches?H(document,"touchmove",this._handleFallbackAutoScroll):H(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){var a=t.originalEvent;!this.options.dragOverBubble&&!a.rootEl&&this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?z(document,"dragover",this._handleAutoScroll):(z(document,"pointermove",this._handleFallbackAutoScroll),z(document,"touchmove",this._handleFallbackAutoScroll),z(document,"mousemove",this._handleFallbackAutoScroll)),ln(),ht(),$a()},nulling:function(){wt=zt=Be=Lt=Ve=Et=Mt=null,J.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(t,a){var o=this,s=(t.touches?t.touches[0]:t).clientX,i=(t.touches?t.touches[0]:t).clientY,d=document.elementFromPoint(s,i);if(wt=t,a||this.options.forceAutoScrollFallback||Ke||ke||Fe){At(t,this.options,d,a);var c=$e(d,!0);Lt&&(!Ve||s!==Et||i!==Mt)&&(Ve&&ln(),Ve=setInterval(function(){var u=$e(document.elementFromPoint(s,i),!0);u!==c&&(c=u,ht()),At(t,o.options,u,a)},10),Et=s,Mt=i)}else{if(!this.options.bubbleScroll||$e(d,!0)===be()){ht();return}At(t,this.options,$e(d,!1),!1)}}},xe(n,{pluginName:"scroll",initializeByDefault:!0})}function ht(){J.forEach(function(n){clearInterval(n.pid)}),J=[]}function ln(){clearInterval(Ve)}var At=yn(function(n,e,t,a){if(!!e.scroll){var o=(n.touches?n.touches[0]:n).clientX,s=(n.touches?n.touches[0]:n).clientY,i=e.scrollSensitivity,d=e.scrollSpeed,c=be(),u=!1,g;zt!==t&&(zt=t,ht(),Be=e.scroll,g=e.scrollFn,Be===!0&&(Be=$e(t,!0)));var w=0,D=Be;do{var I=D,p=K(I),f=p.top,T=p.bottom,C=p.left,b=p.right,v=p.width,x=p.height,E=void 0,N=void 0,G=I.scrollWidth,ee=I.scrollHeight,V=M(I),le=I.scrollLeft,ae=I.scrollTop;I===c?(E=v<G&&(V.overflowX==="auto"||V.overflowX==="scroll"||V.overflowX==="visible"),N=x<ee&&(V.overflowY==="auto"||V.overflowY==="scroll"||V.overflowY==="visible")):(E=v<G&&(V.overflowX==="auto"||V.overflowX==="scroll"),N=x<ee&&(V.overflowY==="auto"||V.overflowY==="scroll"));var fe=E&&(Math.abs(b-o)<=i&&le+v<G)-(Math.abs(C-o)<=i&&!!le),q=N&&(Math.abs(T-s)<=i&&ae+x<ee)-(Math.abs(f-s)<=i&&!!ae);if(!J[w])for(var pe=0;pe<=w;pe++)J[pe]||(J[pe]={});(J[w].vx!=fe||J[w].vy!=q||J[w].el!==I)&&(J[w].el=I,J[w].vx=fe,J[w].vy=q,clearInterval(J[w].pid),(fe!=0||q!=0)&&(u=!0,J[w].pid=setInterval(function(){a&&this.layer===0&&A.active._onTouchMove(wt);var Ee=J[this.layer].vy?J[this.layer].vy*d:0,Ce=J[this.layer].vx?J[this.layer].vx*d:0;typeof g=="function"&&g.call(A.dragged.parentNode[ce],Ce,Ee,n,wt,J[this.layer].el)!=="continue"||_n(J[this.layer].el,Ce,Ee)}.bind({layer:w}),24))),w++}while(e.bubbleScroll&&D!==c&&(D=$e(D,!1)));Lt=u}},30),Dn=function(e){var t=e.originalEvent,a=e.putSortable,o=e.dragEl,s=e.activeSortable,i=e.dispatchSortableEvent,d=e.hideGhostForTarget,c=e.unhideGhostForTarget;if(!!t){var u=a||s;d();var g=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,w=document.elementFromPoint(g.clientX,g.clientY);c(),u&&!u.el.contains(w)&&(i("spill"),this.onSpill({dragEl:o,putSortable:a}))}};function Ft(){}Ft.prototype={startIndex:null,dragStart:function(e){var t=e.oldDraggableIndex;this.startIndex=t},onSpill:function(e){var t=e.dragEl,a=e.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var o=Ue(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(t,o):this.sortable.el.appendChild(t),this.sortable.animateAll(),a&&a.animateAll()},drop:Dn};xe(Ft,{pluginName:"revertOnSpill"});function Yt(){}Yt.prototype={onSpill:function(e){var t=e.dragEl,a=e.putSortable,o=a||this.sortable;o.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),o.animateAll()},drop:Dn};xe(Yt,{pluginName:"removeOnSpill"});A.mount(new Fa);A.mount(Yt,Ft);function Ya(){return typeof window<"u"?window.console:global.console}const Wa=Ya();function Za(n){const e=Object.create(null);return function(a){return e[a]||(e[a]=n(a))}}const Xa=/-(\w)/g,dn=Za(n=>n.replace(Xa,(e,t)=>t?t.toUpperCase():""));function Pt(n){n.parentElement!==null&&n.parentElement.removeChild(n)}function un(n,e,t){const a=t===0?n.children[0]:n.children[t-1].nextSibling;n.insertBefore(e,a)}function qa(n,e){return Object.values(n).indexOf(e)}function Ja(n,e,t,a){if(!n)return[];const o=Object.values(n),s=e.length-a;return[...e].map((d,c)=>c>=s?o.length:o.indexOf(d))}function In(n,e){this.$nextTick(()=>this.$emit(n.toLowerCase(),e))}function Ka(n){return e=>{this.realList!==null&&this["onDrag"+n](e),In.call(this,n,e)}}function Qa(n){return["transition-group","TransitionGroup"].includes(n)}function eo(n){if(!n||n.length!==1)return!1;const[{type:e}]=n;return e?Qa(e.name):!1}function to(n,e){return e?{...e.props,...e.attrs}:n}const Ut=["Start","Add","Remove","Update","End"],Ht=["Choose","Unchoose","Sort","Filter","Clone"],no=["Move",...Ut,...Ht].map(n=>"on"+n);let Ot=null;const ao={options:Object,list:{type:Array,required:!1,default:null},noTransitionOnDrag:{type:Boolean,default:!1},clone:{type:Function,default:n=>n},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null},component:{type:String,default:null},modelValue:{type:Array,required:!1,default:null}},oo=re({name:"VueDraggableNext",inheritAttrs:!1,emits:["update:modelValue","move","change",...Ut.map(n=>n.toLowerCase()),...Ht.map(n=>n.toLowerCase())],props:ao,data(){return{transitionMode:!1,noneFunctionalComponentMode:!1,headerOffset:0,footerOffset:0,_sortable:{},visibleIndexes:[],context:{}}},render(){const n=this.$slots.default?this.$slots.default():null,e=to(this.$attrs,this.componentData);return n?(this.transitionMode=eo(n),Jt(this.getTag(),e,n)):Jt(this.getTag(),e,[])},created(){this.list!==null&&this.modelValue!==null&&Wa.error("list props are mutually exclusive! Please set one.")},mounted(){const n={};Ut.forEach(o=>{n["on"+o]=Ka.call(this,o)}),Ht.forEach(o=>{n["on"+o]=In.bind(this,o)});const e=Object.keys(this.$attrs).reduce((o,s)=>(o[dn(s)]=this.$attrs[s],o),{}),t=Object.assign({},e,n,{onMove:(o,s)=>this.onDragMove(o,s)});!("draggable"in t)&&(t.draggable=">*");const a=this.$el.nodeType===1?this.$el:this.$el.parentElement;this._sortable=new A(a,t),a.__draggable_component__=this,this.computeIndexes()},beforeUnmount(){try{this._sortable!==void 0&&this._sortable.destroy()}catch{}},computed:{realList(){return this.list?this.list:this.modelValue}},watch:{$attrs:{handler(n){this.updateOptions(n)},deep:!0},realList(){this.computeIndexes()}},methods:{getTag(){return this.component?qe(this.component):this.tag},updateOptions(n){for(var e in n){const t=dn(e);no.indexOf(t)===-1&&this._sortable.option(t,n[e])}},getChildrenNodes(){return this.$el.children},computeIndexes(){this.$nextTick(()=>{this.visibleIndexes=Ja(this.getChildrenNodes(),this.$el.children,this.transitionMode,this.footerOffset)})},getUnderlyingVm(n){const e=qa(this.getChildrenNodes()||[],n);if(e===-1)return null;const t=this.realList[e];return{index:e,element:t}},emitChanges(n){this.$nextTick(()=>{this.$emit("change",n)})},alterList(n){if(this.list){n(this.list);return}const e=[...this.modelValue];n(e),this.$emit("update:modelValue",e)},spliceList(){const n=e=>e.splice(...arguments);this.alterList(n)},updatePosition(n,e){const t=a=>a.splice(e,0,a.splice(n,1)[0]);this.alterList(t)},getVmIndex(n){const e=this.visibleIndexes,t=e.length;return n>t-1?t:e[n]},getComponent(){return this.$slots.default?this.$slots.default()[0].componentInstance:null},resetTransitionData(n){if(!this.noTransitionOnDrag||!this.transitionMode)return;var e=this.getChildrenNodes();e[n].data=null;const t=this.getComponent();t.children=[],t.kept=void 0},onDragStart(n){this.context=this.getUnderlyingVm(n.item),this.context&&(n.item._underlying_vm_=this.clone(this.context.element),Ot=n.item)},onDragAdd(n){const e=n.item._underlying_vm_;if(e===void 0)return;Pt(n.item);const t=this.getVmIndex(n.newIndex);this.spliceList(t,0,e),this.computeIndexes();const a={element:e,newIndex:t};this.emitChanges({added:a})},onDragRemove(n){if(un(this.$el,n.item,n.oldIndex),n.pullMode==="clone"){Pt(n.clone);return}if(!this.context)return;const e=this.context.index;this.spliceList(e,1);const t={element:this.context.element,oldIndex:e};this.resetTransitionData(e),this.emitChanges({removed:t})},onDragUpdate(n){Pt(n.item),un(n.from,n.item,n.oldIndex);const e=this.context.index,t=this.getVmIndex(n.newIndex);this.updatePosition(e,t);const a={element:this.context.element,oldIndex:e,newIndex:t};this.emitChanges({moved:a})},updateProperty(n,e){n.hasOwnProperty(e)&&(n[e]+=this.headerOffset)},onDragMove(n,e){const t=this.move;if(!t||!this.realList)return!0;const a=this.getRelatedContextFromMoveEvent(n),o=this.context,s=this.computeFutureIndex(a,n);Object.assign(o,{futureIndex:s});const i=Object.assign({},n,{relatedContext:a,draggedContext:o});return t(i,e)},onDragEnd(){this.computeIndexes(),Ot=null},getTrargetedComponent(n){return n.__draggable_component__},getRelatedContextFromMoveEvent({to:n,related:e}){const t=this.getTrargetedComponent(n);if(!t)return{component:t};const a=t.realList,o={list:a,component:t};if(n!==e&&a&&t.getUnderlyingVm){const s=t.getUnderlyingVm(e);if(s)return Object.assign(s,o)}return o},computeFutureIndex(n,e){const t=[...e.to.children].filter(i=>i.style.display!=="none");if(t.length===0)return 0;const a=t.indexOf(e.related),o=n.component.getVmIndex(a);return t.indexOf(Ot)!==-1||!e.willInsertAfter?o:o+1}}});var De=(n=>(n.POINTS="points",n.TITLE="title",n))(De||{});const it=cn(),Wt=hn("RankStore",{state:()=>({tableHeaders:["Round"],rankPoints:[],tableUsers:[],tableId:167,room:"",form:{newPoints:[{points:0,row:5,table_user:127,type:De.POINTS}],header:{title:"New Title",row:5,type:De.TITLE},showStoreForm:!1},testTableUsers:[3124,3125,3126,3127],editRow:null}),getters:{nextRow:n=>n.rankPoints.length},actions:{_fetchRankPoints(){te.emit("getRankTable",{table_id:this.$state.tableId},n=>{this.$state.rankPoints=n})},_store(){const n=[this.$state.form.header,...this.$state.form.newPoints];te.emit("storeRankRow",{data:n,room:this.$state.room,table_id:this.$state.tableId,row:this.nextRow},e=>{e.status===200?this.$state.form.showStoreForm=!1:it.error("Something went wrong")})},_update(n){const e=this.$state.rankPoints.findIndex(a=>a.some(o=>o.row===n)),t=this.$state.rankPoints[e];te.emit("updateRankRow",{data:t,room:this.$state.room,table_id:this.$state.tableId,row:n},a=>{a.status===200?this.$state.editRow=null:it.error("Something went wrong")})},_delete(n){const t=this.$state.rankPoints[n][0].row;te.emit("deleteRankRow",{room:this.$state.room,table_id:this.$state.tableId,row:t},a=>{a.status===200?it.success("Row deleted successfully"):it.error("Something went wrong")})},addNewPoints(){this.$state.form.newPoints=[];const n=this.nextRow;this.$state.tableId&&(this.$state.tableId,this.$state.form.header={title:"Round "+n.toString(),row:n,type:De.TITLE},this.$state.tableUsers.forEach(e=>{this.$state.form.newPoints.push({points:0,row:n,table_user:e.id,type:De.POINTS})})),this.$state.form.showStoreForm=!0},addTableUsers(n){this.$state.tableUsers=n.sort((e,t)=>e.id-t.id),this.$state.tableHeaders=["Round"],this.$state.tableUsers.forEach(e=>{e.user.username&&this.$state.tableHeaders.push(e.user.username)}),this._fetchRankPoints()}}}),ro={key:0},so=l("div",{class:"text-2xl underline underline-offset-4 w-full"}," Rank Table ",-1),io={key:0},lo={key:1},uo=["onClick"],co=["onClick"],ho=["onClick"],fo={key:1},po=l("div",{class:"text-2xl underline underline-offset-4 w-full"}," Rank Table ",-1),mo=l("div",{class:"bg-red-500 p-4 my-4 rounded italic"}," The rank table is available when the game start ",-1),go=[po,mo],vo=re({__name:"RankTable",setup(n){const e=Wt();return(t,a)=>r(e).tableHeaders.length>1?(m(),S("div",ro,[y(k,{justify:"between"},{default:h(()=>[so,y(Kt,{title:"Add Points",onClick:a[0]||(a[0]=o=>r(e).addNewPoints()),disable:r(e).form.showStoreForm},null,8,["disable"])]),_:1}),r(e).rankPoints?(m(),P(gn,{key:0,"table-headers":r(e).tableHeaders,class:"border border-gray-700 rounded-lg overflow-y-auto",actions:!0},{default:h(()=>[(m(!0),S(j,null,W(r(e).rankPoints,(o,s)=>(m(),P(Nt,{key:`rankRow-${o}`},{default:h(()=>[(m(!0),S(j,null,W(o,i=>(m(),P(Re,{key:i.id},{default:h(()=>{var d;return[s===r(e).editRow?(m(),S("div",io,[i.title&&i.type===r(De).TITLE?(m(),P(nt,{key:0,input:i.title,onChange:c=>i.title=c,"dark-theme":!0},null,8,["input","onChange"])):(m(),P(nt,{key:1,input:(d=i.points)!=null?d:0,type:"number",onChange:c=>i.points=c,"dark-theme":!0},null,8,["input","onChange"]))])):(m(),S("div",lo,B(i.type===r(De).TITLE?i.title:i.points),1))]}),_:2},1024))),128)),y(Re,null,{default:h(()=>[s===r(e).editRow?(m(),P(k,{key:0},{default:h(()=>[l("div",{class:"text-blue-500 cursor-pointer",onClick:i=>r(e)._update(s)},"Update",8,uo)]),_:2},1024)):(m(),P(k,{key:1,gap:4},{default:h(()=>[l("div",{class:"text-blue-500 cursor-pointer",onClick:i=>r(e).editRow=s},"Edit",8,co),l("div",{class:"text-red-500 cursor-pointer",onClick:i=>r(e)._delete(s)},"Delete",8,ho)]),_:2},1024))]),_:2},1024)]),_:2},1024))),128)),r(e).form.showStoreForm?(m(),P(Nt,{key:0,class:"bg-gray-700"},{default:h(()=>[y(Re,null,{default:h(()=>[y(nt,{input:r(e).form.header.title,onChange:a[1]||(a[1]=o=>r(e).form.header.title=o),placeholder:"Row title e.g. Round 1","dark-theme":!0},null,8,["input"])]),_:1}),(m(!0),S(j,null,W(r(e).form.newPoints,o=>(m(),P(Re,{key:`new-item-${o.table_user}`},{default:h(()=>[y(nt,{input:o.points,type:"number","dark-theme":!0,onChange:s=>o.points=s,placeholder:"Points"},null,8,["input","onChange"])]),_:2},1024))),128)),y(Re,{class:"text-red-500 cursor-pointer",onClick:a[2]||(a[2]=o=>r(e).form.showStoreForm=!1)},{default:h(()=>[L("Cancel ")]),_:1})]),_:1})):U("",!0)]),_:1},8,["table-headers"])):U("",!0),y(k,{justify:"center",class:"mt-8",gap:4},{default:h(()=>[y(Kt,{title:"Save Changes",disable:!r(e).form.showStoreForm,onClick:a[3]||(a[3]=o=>r(e)._store())},null,8,["disable"])]),_:1})])):(m(),S("div",fo,go))}}),Q=n=>(On("data-v-f1c81574"),n=n(),Nn(),n),bo={key:0,class:"bg-dark bg-opacity-90 fixed top-0 left-0 w-full h-full flex justify-center items-center z-[2147483647]"},wo=Q(()=>l("div",{class:"p-4 text-xl text-white"}," Game Master Dashboard ",-1)),yo=["onClick"],_o={class:"container my-10"},xo={key:0},ko=Q(()=>l("div",null," Actions ",-1)),Co={class:"bg-dark-smooth p-4"},So=Q(()=>l("div",{class:"text-2xl text-white mb-4"},"Game Status",-1)),To=Q(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[l("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.79 5.093A.5.5 0 0 0 6 5.5v5a.5.5 0 0 0 .79.407l3.5-2.5a.5.5 0 0 0 0-.814l-3.5-2.5z"})],-1)),$o=["disable"],Do=Q(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[l("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.25 5C5.56 5 5 5.56 5 6.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C7.5 5.56 6.94 5 6.25 5zm3.5 0c-.69 0-1.25.56-1.25 1.25v3.5a1.25 1.25 0 1 0 2.5 0v-3.5C11 5.56 10.44 5 9.75 5z"})],-1)),Io=Q(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[l("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM6.5 5A1.5 1.5 0 0 0 5 6.5v3A1.5 1.5 0 0 0 6.5 11h3A1.5 1.5 0 0 0 11 9.5v-3A1.5 1.5 0 0 0 9.5 5h-3z"})],-1)),Eo=Q(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[l("path",{d:"M1.5 15a.5.5 0 0 0 0 1h13a.5.5 0 0 0 0-1H13V2.5A1.5 1.5 0 0 0 11.5 1H11V.5a.5.5 0 0 0-.57-.495l-7 1A.5.5 0 0 0 3 1.5V15H1.5zM11 2h.5a.5.5 0 0 1 .5.5V15h-1V2zm-2.5 8c-.276 0-.5-.448-.5-1s.224-1 .5-1 .5.448.5 1-.224 1-.5 1z"})],-1)),Mo={class:"bg-dark-smooth p-4 mt-6"},Ao=Q(()=>l("div",{class:"text-2xl text-white mb-4"},"Cards",-1)),Po=Q(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[l("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.79-2.907L8.5 7.028V5.5a.5.5 0 0 0-.79-.407L5 7.028V5.5a.5.5 0 0 0-1 0v5a.5.5 0 0 0 1 0V8.972l2.71 1.935a.5.5 0 0 0 .79-.407V8.972l2.71 1.935A.5.5 0 0 0 12 10.5v-5a.5.5 0 0 0-.79-.407z"})],-1)),Oo=Q(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[l("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM4.79 5.093A.5.5 0 0 0 4 5.5v5a.5.5 0 0 0 .79.407L7.5 8.972V10.5a.5.5 0 0 0 .79.407L11 8.972V10.5a.5.5 0 0 0 1 0v-5a.5.5 0 0 0-1 0v1.528L8.29 5.093a.5.5 0 0 0-.79.407v1.528L4.79 5.093z"})],-1)),No=["disable"],Ro=Q(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[l("path",{d:"M11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5z"})],-1)),Go=["disable"],zo=Q(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[l("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM7.729 5.055A.5.5 0 0 1 8 5.5v1.886l3.21-2.293A.5.5 0 0 1 12 5.5v5a.5.5 0 0 1-.79.407L8 8.614V10.5a.5.5 0 0 1-.79.407l-3.5-2.5a.5.5 0 0 1 0-.814l3.5-2.5a.5.5 0 0 1 .519-.038Z"})],-1)),Lo=["disable"],Uo=Q(()=>l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6 mr-3",viewBox:"0 0 16 16"},[l("path",{d:"M8 16A8 8 0 1 0 8 0a8 8 0 0 0 0 16ZM4.79 5.093 8 7.386V5.5a.5.5 0 0 1 .79-.407l3.5 2.5a.5.5 0 0 1 0 .814l-3.5 2.5A.5.5 0 0 1 8 10.5V8.614l-3.21 2.293A.5.5 0 0 1 4 10.5v-5a.5.5 0 0 1 .79-.407Z"})],-1)),Ho={key:1},jo=Q(()=>l("div",{class:"w-1/6"},"Turn",-1)),Bo=Q(()=>l("div",{class:"w-1/6"},"Name",-1)),Vo=Q(()=>l("div",{class:"w-1/6"},"Team",-1)),Fo=Q(()=>l("div",{class:"w-1/6"},"Status",-1)),Yo=Q(()=>l("div",{class:"w-1/6"},"Role",-1)),Wo=Q(()=>l("div",{class:"w-1/6"},"Actions",-1)),Zo={class:"w-1/6"},Xo={class:"w-1/6"},qo={class:"w-1/6"},Jo={class:"w-1/6"},Ko={class:"w-1/6"},Qo={class:"w-1/6 text-red-500 cursor-pointer hover:text-red-600 transition duration-300 text-lg"},er=["onClick"],tr={key:2},nr=re({__name:"ModalFullPage",props:{modalOpen:{type:Boolean},tableUsers:{type:Array,required:!0},table:{type:Object},tableStatus:{type:Object},menuTab:{type:Number,default:1}},emits:["closeModal","updateTurnTableUsers","updateRole","updateStatus","updateTeam","stopGame","leaveGame","newGame","updateTableGameStatus","showAllCards","removePlayer","setNextPlayer"],setup(n,{emit:e}){const t=n,a=Y(!0),o=Y(null),s=Y([{id:1,name:"Game"},{id:2,name:"Players"},{id:3,name:"Rank Table"}]),i=Y(1),d=c=>{e("updateTurnTableUsers")};return Bn(o,()=>{e("closeModal")}),Je(()=>t.menuTab,()=>{i.value=t.menuTab}),(c,u)=>(m(),P(Pn,{name:"modal"},{default:h(()=>[n.modalOpen?(m(),S("div",bo,[l("div",{class:"bg-dark relative rounded-sm shadow h-full w-full",ref_key:"modal",ref:o},[y(k,{class:"border-b-2 px-8",justify:"between",items:"center"},{default:h(()=>[wo,l("button",{class:"cursor-pointer border h-10 w-10 border-transparent rounded-3xl px-2 transition duration-300 text-lg text-white hover:text-primary hover:bg-white",onClick:u[0]||(u[0]=g=>c.$emit("closeModal"))}," x ")]),_:1}),y(k,{class:"h-full text-white"},{default:h(()=>[y(k,{class:"border-r w-60 p-4",column:!0,gap:2},{default:h(()=>[(m(!0),S(j,null,W(s.value,g=>(m(),S("div",{key:g.id,class:O(["px-4 py-3 hover:bg-primary rounded-lg border-gray-500 border cursor-pointer hover:border-primary transition duration-300 text-lg",i.value===g.id?"bg-primary":"bg-transparent"]),onClick:w=>i.value=g.id},B(g.name),11,yo))),128))]),_:1}),y(k,{class:"w-full overflow-x-auto"},{default:h(()=>[l("div",_o,[i.value===1?(m(),S("div",xo,[y(k,{class:"text-2xl underline underline-offset-4 mb-6 w-full",justify:"between"},{default:h(()=>[ko,l("div",null,[y(jn,{title:"Close settings on click an action",input:a.value,onChange:u[1]||(u[1]=g=>a.value=g)},null,8,["input"])])]),_:1}),l("div",Co,[So,y(k,{class:"w-full text-center cursor-pointer",gap:8},{default:h(()=>{var g,w,D,I;return[l("button",{onClick:u[2]||(u[2]=p=>{c.$emit("newGame"),a.value&&e("closeModal")}),class:"p-3 w-1/4 transition duration-300 text-lg bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary"},[y(k,{justify:"center",items:"center"},{default:h(()=>[To,L(" New Game ")]),_:1})]),l("button",{class:O(["p-3 w-1/4 transition duration-300 text-lg bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",((g=n.tableStatus)==null?void 0:g.status)===r($).WAITING||((w=n.tableStatus)==null?void 0:w.status)===r($).FINISH?"cursor-not-allowed":""]),disable:((D=n.tableStatus)==null?void 0:D.status)===r($).WAITING||((I=n.tableStatus)==null?void 0:I.status)===r($).FINISH,onClick:u[3]||(u[3]=p=>{var f;((f=n.tableStatus)==null?void 0:f.status)===r($).PLAYING?c.$emit("updateTableGameStatus",r($).PAUSE):c.$emit("updateTableGameStatus",r($).PLAYING),a.value&&e("closeModal")})},[y(k,{justify:"center",items:"center"},{default:h(()=>{var p;return[Do,L(" "+B(((p=n.tableStatus)==null?void 0:p.status)===r($).PAUSE?"Resume Game":"Pause Game"),1)]}),_:1})],10,$o),l("button",{onClick:u[4]||(u[4]=p=>{c.$emit("stopGame"),a.value&&e("closeModal")}),class:"p-3 w-1/4 transition duration-300 text-lg bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary"},[y(k,{justify:"center",items:"center"},{default:h(()=>[Io,L(" End Game ")]),_:1})]),l("button",{class:"p-3 w-1/4 transition duration-300 text-lg bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",onClick:u[5]||(u[5]=p=>c.$emit("leaveGame"))},[y(k,{justify:"center",items:"center"},{default:h(()=>[Eo,L(" Leave Game ")]),_:1})])]}),_:1})]),l("div",Mo,[Ao,y(k,{class:"w-full text-center cursor-pointer",gap:8},{default:h(()=>{var g,w,D,I,p,f;return[l("div",{class:"p-3 transition duration-300 text-lg w-1/3 bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",onClick:u[6]||(u[6]=T=>c.$emit("setNextPlayer",!1))},[y(k,{justify:"center",items:"center"},{default:h(()=>[Po,L(" Previous Player ")]),_:1})]),l("div",{class:"p-3 transition duration-300 text-lg w-1/3 bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",onClick:u[7]||(u[7]=T=>c.$emit("setNextPlayer",!0))},[y(k,{justify:"center",items:"center"},{default:h(()=>[Oo,L(" Next Player ")]),_:1})]),l("div",{onClick:u[8]||(u[8]=T=>{c.$emit("showAllCards"),a.value&&e("closeModal")}),class:O(["p-3 transition duration-300 text-lg w-1/3 bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",((g=n.tableStatus)==null?void 0:g.status)===r($).WAITING?"cursor-not-allowed":""]),disable:((w=n.tableStatus)==null?void 0:w.status)===r($).WAITING},[y(k,{justify:"center",items:"center"},{default:h(()=>[Ro,L(" Show all cards ")]),_:1})],10,No),l("div",{class:O(["p-3 transition duration-300 text-lg w-1/3 bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",((D=n.tableStatus)==null?void 0:D.status)===r($).WAITING?"cursor-not-allowed":""]),disable:((I=n.tableStatus)==null?void 0:I.status)===r($).WAITING},[y(k,{justify:"center",items:"center"},{default:h(()=>[zo,L(" Undo ")]),_:1})],10,Go),l("div",{class:O(["p-3 transition duration-300 text-lg w-1/3 bg-primary rounded-3xl text-white hover:bg-dark-smooth border border-primary",((p=n.tableStatus)==null?void 0:p.status)===r($).WAITING?"cursor-not-allowed":""]),disable:((f=n.tableStatus)==null?void 0:f.status)===r($).WAITING},[y(k,{justify:"center",items:"center"},{default:h(()=>[Uo,L(" Redo ")]),_:1})],10,Lo)]}),_:1})])])):U("",!0),i.value===2?(m(),S("div",Ho,[y(k,{disabled:"",class:"list-group-item bg-dark-smooth m-1 p-3 rounded-md text-center border border-primary mb-6",justify:"center"},{default:h(()=>[jo,Bo,Vo,Fo,Yo,Wo]),_:1}),y(k,{class:"w-full"},{default:h(()=>[n.tableUsers?(m(),P(r(oo),{key:0,class:"dragArea list-group w-full",list:n.tableUsers,onChange:d,disabled:!1,group:{name:"people"},"ghost-class":"ghost"},{default:h(()=>[y(An,null,{default:h(()=>[(m(!0),S(j,null,W(n.tableUsers,g=>(m(),P(k,{items:"center",gap:8,class:"list-group-item bg-dark-smooth m-1 p-3 rounded-md text-center mb-3",key:g.id},{default:h(()=>{var w,D,I,p,f,T,C,b,v,x,E,N;return[l("div",Zo,B(g.turn),1),l("div",Xo,B(g.user.username),1),l("div",qo,[y(kt,{options:(D=(w=n.table)==null?void 0:w.game)==null?void 0:D.teams,dark:!0,input:(I=g.team)!=null&&I.id?{value:(p=g.team)==null?void 0:p.id}:null,onUpdate:G=>c.$emit("updateTeam",G,g)},null,8,["options","input","onUpdate"])]),l("div",Jo,[y(kt,{options:(T=(f=n.table)==null?void 0:f.game)==null?void 0:T.status,dark:!0,input:(C=g.status)!=null&&C.id?{value:(b=g.status)==null?void 0:b.id}:null,onUpdate:G=>c.$emit("updateStatus",G,g)},null,8,["options","input","onUpdate"])]),l("div",Ko,[y(kt,{options:(x=(v=n.table)==null?void 0:v.game)==null?void 0:x.roles,dark:!0,input:(E=g.role)!=null&&E.id?{value:(N=g.role)==null?void 0:N.id}:null,onUpdate:G=>c.$emit("updateRole",G,g)},null,8,["options","input","onUpdate"])]),l("div",Qo,[l("button",{onClick:G=>c.$emit("removePlayer",g.user.id)},"Remove User",8,er)])]}),_:2},1024))),128))]),_:1})]),_:1},8,["list"])):U("",!0)]),_:1})])):U("",!0),i.value===3?(m(),S("div",tr,[y(vo)])):U("",!0)])]),_:1})]),_:1})],512)])):U("",!0)]),_:1}))}});const ar=Fn(nr,[["__scopeId","data-v-f1c81574"]]),or=re({__name:"GameUserItem",props:{playing:{type:Boolean,default:!1}},setup(n){return(e,t)=>(m(),S("div",{class:O(["px-4 py-3 rounded-lg hover:border-primary transition duration-300",n.playing?"bg-primary":"bg-dark-smooth"])},[Rn(e.$slots,"default")],2))}}),jt="/assets/close-card.89ac7cbb.png",rr=l("div",{class:"text-2xl border-b border-primary pb-2"},"Users",-1),sr={class:"w-3/6"},ir=l("img",{src:Yn,alt:"cards",srcset:""},null,-1),lr=["onClick"],dr=l("path",{d:"M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"},null,-1),ur=[dr],cr={key:1,class:"p-2 mt-2 shadow-2xl rounded-xl border-dashed border"},hr=l("div",{class:"w-2/6"},"Team:",-1),fr=l("div",{class:"w-2/6"},"Role:",-1),pr=l("div",{class:"w-2/6"},"Status:",-1),mr={key:2,class:"mt-4"},gr=["src"],vr=re({__name:"SidebarGame",setup(n){const e=Ie(),t=Y([]),a=s=>t.value.indexOf(s)!==-1,o=s=>{t.value.indexOf(s)!==-1?t.value=t.value.filter(i=>i!==s):t.value.push(s)};return Je(()=>e.table,()=>{var s,i,d;((s=e.table)==null?void 0:s.status)!==$.WAITING&&(t.value=[],(d=(i=e.table)==null?void 0:i.table_users)==null||d.forEach(c=>{t.value.push(c.id)}))}),(s,i)=>{const d=qe("RouterLink");return m(),P(k,{class:"border-l w-72 p-4 h-full bg-dark text-white",column:!0,gap:2},{default:h(()=>[y(k,{column:!0,justify:"between",class:"h-[96%]"},{default:h(()=>{var c;return[l("div",null,[rr,(m(!0),S(j,null,W((c=r(e).table)==null?void 0:c.table_users,(u,g)=>(m(),P(or,{key:g,class:"mt-3 w-2xl bg-primary",playing:u.playing},{default:h(()=>{var w,D,I,p,f,T,C,b;return[y(k,{items:"center",justify:r(e).cards?"center":"between",gap:2},{default:h(()=>{var v,x,E,N;return[l("div",sr,B((v=u.user)==null?void 0:v.username),1),r(e).cards?(m(),P(k,{key:0,gap:2,class:"w-2/6"},{default:h(()=>{var G;return[ir,l("div",null,B((G=r(e).getCards(r(e).getTableDeckIdOfUser(u.user.id)))==null?void 0:G.length),1)]}),_:2},1024)):U("",!0),((x=u.team)==null?void 0:x.name)||((E=u.role)==null?void 0:E.name)||((N=u.status)==null?void 0:N.name)||r(e).cards?(m(),S("div",{key:1,class:"w-1/6 cursor-pointer group",onClick:G=>o(u.id)},[(m(),S("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:O(["group-hover:text-primary duration-300 transition",a(u.id)?"rotate-0":"rotate-180"]),viewBox:"0 0 16 16"},ur,2))],8,lr)):U("",!0)]}),_:2},1032,["justify"]),((D=(w=r(e).table)==null?void 0:w.game_master)==null?void 0:D.id)===u.user.id?(m(),S("div",{key:0,class:O(["italic font-bold",r(e).table.game_master.id===u.user.id&&u.playing?"text-dark":"text-primary"])},"Game Master",2)):U("",!0),a(u.id)&&(((I=u.team)==null?void 0:I.name)||((p=u.role)==null?void 0:p.name)||((f=u.status)==null?void 0:f.name))?(m(),S("div",cr,[(T=u.team)!=null&&T.name?(m(),P(k,{key:0},{default:h(()=>{var v,x;return[hr,l("div",null,B((v=u.team)!=null&&v.name?(x=u.team)==null?void 0:x.name:"none"),1)]}),_:2},1024)):U("",!0),(C=u.role)!=null&&C.name?(m(),P(k,{key:1},{default:h(()=>{var v,x;return[fr,l("div",null,B((v=u.role)!=null&&v.name?(x=u.role)==null?void 0:x.name:"none"),1)]}),_:2},1024)):U("",!0),(b=u.status)!=null&&b.name?(m(),P(k,{key:2},{default:h(()=>{var v,x;return[pr,l("div",null,B((v=u.status)!=null&&v.name?(x=u.status)==null?void 0:x.name:"none"),1)]}),_:2},1024)):U("",!0)])):U("",!0),r(e).cards&&a(u.id)?(m(),S("div",mr,[y(k,{gap:2,class:"flex-wrap",justify:"start"},{default:h(()=>[(m(!0),S(j,null,W(r(e).getCards(r(e).getTableDeckIdOfUser(u.user.id)),(v,x)=>(m(),S("img",{src:v.hidden?r(jt):r(pt)(v.card.image),alt:"",srcset:"",key:`user-card-${x}`,class:"w-10 h-12"},null,8,gr))),128))]),_:2},1024)])):U("",!0)]}),_:2},1032,["playing"]))),128))]),y(k,{justify:"center"},{default:h(()=>[y(d,{to:{name:"lobby"}},{default:h(()=>[y(Wn,{title:"Leave Game"})]),_:1})]),_:1})]}),_:1})]),_:1})}}}),br=["id"],wr={class:"relative w-full h-full"},yr=["src"],_r={key:0,class:"absolute top-[27.5px] left-[13.5px] text-black"},xr=l("svg",{width:"16",height:"16",fill:"currentColor",class:"w-5 h-5",viewBox:"0 0 16 16"},[l("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"}),l("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"})],-1),kr=[xr],ft=re({__name:"DraggableCard",props:{card:{type:Object,required:!0},absolute:{type:Boolean,default:!0},hiddenCards:{type:Boolean,default:!1},rotate:{type:Boolean,default:!1},showCards:{type:Boolean,default:!1},playerDeck:{type:Boolean,default:!1}},emits:["onDragStart"],setup(n,{emit:e}){const t=n,a=Ie(),o=Y(null),s=d=>{switch(d){case tt.ZERO:return"";case tt.NINETY:return" rotate-90";case tt.ONE_EIGHTY:return" rotate-180";case tt.TWO_SEVENTY:return" -rotate-90";default:return""}},i=d=>t.hiddenCards?jt:t.showCards?pt(d.card.image):d.hidden?jt:pt(d.card.image);return yt(()=>{t.card&&o.value&&(o.value.style.top=`${t.card.position_x}px`,o.value.style.left=`${t.card.position_y}px`,o.value.style.zIndex=`${t.card.z_index}`)}),Je([()=>t.card.position_x,()=>t.card.position_y,()=>t.card.z_index],([d,c],[u,g])=>{o.value&&(o.value.style.top=`${t.card.position_x}px`,o.value.style.left=`${t.card.position_y}px`,o.value.style.zIndex=t.card.z_index.toString())}),(d,c)=>(m(),S("div",{ref_key:"cardRef",ref:o,id:n.card.id.toString(),class:O(["card-box cursor-pointer",[n.absolute?"absolute":"",n.rotate?s(n.card.rotate):""]]),onClick:c[0]||(c[0]=u=>r(a).clickCardId===n.card.id?r(a).clickCardId=null:r(a).clickCardId=n.card.id),onDragstart:c[1]||(c[1]=u=>d.$emit("onDragStart",u,o.value)),draggable:"true"},[l("div",wr,[l("img",{ref_key:"cardRef",ref:o,src:i(n.card),class:O(["card-box",[n.playerDeck?n.card.hidden?"":"opacity-50":"",r(a).clickCardId===n.card.id?"border-2 border-red-500":"hover:border hover:border-dark"]])},null,10,yr),n.playerDeck&&!n.card.hidden?(m(),S("div",_r,kr)):U("",!0)])],42,br))}}),Cr={class:"text-sm"},Sr=re({__name:"TableDecks",props:{deck:{type:Object,required:!0}},emits:["deckCreate","onDrop","onDragLeave","onDragEnter","onDragStart"],setup(n,{emit:e}){const t=Y(null);return yt(()=>{t.value&&e("deckCreate",t.value)}),(a,o)=>(m(),P(k,{gap:4,class:"my-2 mx-8"},{default:h(()=>[y(k,{column:!0,items:"center",gap:1},{default:h(()=>{var s;return[l("div",{class:O(["relative card-box dropZone",(s=n.deck.cards)!=null&&s.length?"":"border"]),ref_key:"deckReference",ref:t,onDrop:o[0]||(o[0]=i=>a.$emit("onDrop",i,n.deck.tableDeckId)),onDragover:o[1]||(o[1]=ye(()=>{},["prevent"])),onDragleave:o[2]||(o[2]=i=>a.$emit("onDragLeave",i)),onDragenter:o[3]||(o[3]=ye(i=>a.$emit("onDragEnter",i),["prevent"]))},[(m(!0),S(j,null,W(n.deck.cards,(i,d)=>(m(),P(ft,{card:i,key:d,onOnDragStart:(c,u)=>a.$emit("onDragStart",c,u,i),"hidden-cards":n.deck.deckType===r(Zn).DECK},null,8,["card","onOnDragStart","hidden-cards"]))),128))],34),l("div",Cr,B(n.deck.deckName),1)]}),_:1})]),_:1}))}}),Tr=l("div",{class:"py-3 pr-4 border-r cursor-pointer"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6",viewBox:"0 0 16 16"},[l("path",{"fill-rule":"evenodd",d:"M7.646.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 1.707V5.5a.5.5 0 0 1-1 0V1.707L6.354 2.854a.5.5 0 1 1-.708-.708l2-2zM8 10a.5.5 0 0 1 .5.5v3.793l1.146-1.147a.5.5 0 0 1 .708.708l-2 2a.5.5 0 0 1-.708 0l-2-2a.5.5 0 0 1 .708-.708L7.5 14.293V10.5A.5.5 0 0 1 8 10zM.146 8.354a.5.5 0 0 1 0-.708l2-2a.5.5 0 1 1 .708.708L1.707 7.5H5.5a.5.5 0 0 1 0 1H1.707l1.147 1.146a.5.5 0 0 1-.708.708l-2-2zM10 8a.5.5 0 0 1 .5-.5h3.793l-1.147-1.146a.5.5 0 0 1 .708-.708l2 2a.5.5 0 0 1 0 .708l-2 2a.5.5 0 0 1-.708-.708L14.293 8.5H10.5A.5.5 0 0 1 10 8z"})])],-1),$r={class:"py-1"},Dr=l("path",{d:"m10.79 12.912-1.614-1.615a3.5 3.5 0 0 1-4.474-4.474l-2.06-2.06C.938 6.278 0 8 0 8s3 5.5 8 5.5a7.029 7.029 0 0 0 2.79-.588zM5.21 3.088A7.028 7.028 0 0 1 8 2.5c5 0 8 5.5 8 5.5s-.939 1.721-2.641 3.238l-2.062-2.062a3.5 3.5 0 0 0-4.474-4.474L5.21 3.089z"},null,-1),Ir=l("path",{d:"M5.525 7.646a2.5 2.5 0 0 0 2.829 2.829l-2.83-2.829zm4.95.708-2.829-2.83a2.5 2.5 0 0 1 2.829 2.829zm3.171 6-12-12 .708-.708 12 12-.708.708z"},null,-1),Er=[Dr,Ir],Mr=l("path",{d:"M10.5 8a2.5 2.5 0 1 1-5 0 2.5 2.5 0 0 1 5 0z"},null,-1),Ar=l("path",{d:"M0 8s3-5.5 8-5.5S16 8 16 8s-3 5.5-8 5.5S0 8 0 8zm8 3.5a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7z"},null,-1),Pr=[Mr,Ar],Or={class:"py-1"},Nr=l("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 0 4.546 2.914.5.5 0 0 1 .908-.417A6 6 0 1 1 8 2v1z"},null,-1),Rr=l("path",{d:"M8 4.466V.534a.25.25 0 0 1 .41-.192l2.36 1.966c.12.1.12.284 0 .384L8.41 4.658A.25.25 0 0 1 8 4.466z"},null,-1),Gr=[Nr,Rr],zr={class:"py-1"},Lr=l("path",{"fill-rule":"evenodd",d:"M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"},null,-1),Ur=l("path",{d:"M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"},null,-1),Hr=[Lr,Ur],jr={class:"py-1"},Br=l("path",{d:"M3 14s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H3Zm5-6a3 3 0 1 0 0-6 3 3 0 0 0 0 6Z"},null,-1),Vr=[Br],Fr=l("path",{d:"M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7Zm1.679-4.493-1.335 2.226a.75.75 0 0 1-1.174.144l-.774-.773a.5.5 0 0 1 .708-.708l.547.548 1.17-1.951a.5.5 0 1 1 .858.514ZM11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"},null,-1),Yr=l("path",{d:"M2 13c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Z"},null,-1),Wr=[Fr,Yr],Zr={key:0,class:"py-1"},Xr={class:"p-2 rounded-3xl cursor-pointer hover:bg-white group transition duration-300"},qr=l("path",{d:"M11 5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm-9 8c0 1 1 1 1 1h5.256A4.493 4.493 0 0 1 8 12.5a4.49 4.49 0 0 1 1.544-3.393C9.077 9.038 8.564 9 8 9c-5 0-6 3-6 4Zm9.886-3.54c.18-.613 1.048-.613 1.229 0l.043.148a.64.64 0 0 0 .921.382l.136-.074c.561-.306 1.175.308.87.869l-.075.136a.64.64 0 0 0 .382.92l.149.045c.612.18.612 1.048 0 1.229l-.15.043a.64.64 0 0 0-.38.921l.074.136c.305.561-.309 1.175-.87.87l-.136-.075a.64.64 0 0 0-.92.382l-.045.149c-.18.612-1.048.612-1.229 0l-.043-.15a.64.64 0 0 0-.921-.38l-.136.074c-.561.305-1.175-.309-.87-.87l.075-.136a.64.64 0 0 0-.382-.92l-.148-.045c-.613-.18-.613-1.048 0-1.229l.148-.043a.64.64 0 0 0 .382-.921l-.074-.136c-.306-.561.308-1.175.869-.87l.136.075a.64.64 0 0 0 .92-.382l.045-.148ZM14 12.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0Z"},null,-1),Jr=[qr],Kr={class:"cursor-default bg-black py-2 text-white"},Qr=l("div",{class:"border-b p-2"}," Status player ",-1),es=l("div",null," --Empty-- ",-1),ts={key:0},ns=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6",viewBox:"0 0 16 16"},[l("path",{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"})],-1),as=[ns],os=["onClick"],rs={key:0},ss=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-6 h-6",viewBox:"0 0 16 16"},[l("path",{d:"M10.97 4.97a.75.75 0 0 1 1.07 1.05l-3.99 4.99a.75.75 0 0 1-1.08.02L4.324 8.384a.75.75 0 1 1 1.06-1.06l2.094 2.093 3.473-4.425a.267.267 0 0 1 .02-.022z"})],-1),is=[ss],ls={class:"py-1"},ds=l("path",{d:"M0 2a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H2a2 2 0 0 1-2-2V2zm15 2h-4v3h4V4zm0 4h-4v3h4V8zm0 4h-4v3h3a1 1 0 0 0 1-1v-2zm-5 3v-3H6v3h4zm-5 0v-3H1v2a1 1 0 0 0 1 1h3zm-4-4h4V8H1v3zm0-4h4V4H1v3zm5-3v3h4V4H6zm4 4H6v3h4V8z"},null,-1),us=[ds],cs={key:0,class:"absolute inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-red-500 border-2 border-white rounded-full -top-2 -right-2 dark:border-gray-900"},hs={key:1,class:"py-1"},fs=l("path",{d:"M1.5 2A1.5 1.5 0 0 0 0 3.5v2h6a.5.5 0 0 1 .5.5c0 .253.08.644.306.958.207.288.557.542 1.194.542.637 0 .987-.254 1.194-.542.226-.314.306-.705.306-.958a.5.5 0 0 1 .5-.5h6v-2A1.5 1.5 0 0 0 14.5 2h-13z"},null,-1),ps=l("path",{d:"M16 6.5h-5.551a2.678 2.678 0 0 1-.443 1.042C9.613 8.088 8.963 8.5 8 8.5c-.963 0-1.613-.412-2.006-.958A2.679 2.679 0 0 1 5.551 6.5H0v6A1.5 1.5 0 0 0 1.5 14h13a1.5 1.5 0 0 0 1.5-1.5v-6z"},null,-1),ms=[fs,ps],gs={class:"cursor-default bg-black py-2 text-white"},vs=l("div",{class:"border-b p-2"}," Get all cards from: ",-1),bs=["onClick"],ws={key:2,class:"py-1"},ys=l("path",{d:`M57.832,26.926l-8-12c-0.186-0.278-0.498-0.445-0.832-0.445H9c-0.335,0-0.646,0.167-0.832,0.445l-8,12\r
        		c-0.205,0.307-0.224,0.701-0.05,1.026C0.292,28.278,0.631,28.481,1,28.481h6v15.038h2V28.481h5v6h2v-6h27v6h2v-6h5v15.038h2V28.481\r
        		h5c0.369,0,0.708-0.203,0.882-0.528C58.056,27.627,58.037,27.233,57.832,26.926z M2.869,26.481l6.666-10h38.93l6.667,10H2.869z`},null,-1),_s=[ys],xs={class:"cursor-default bg-black py-2 text-white"},ks=l("div",{class:"border-b p-2"}," Move table cards to: ",-1),Cs=["onClick"],Ss=re({__name:"PlayerSettings",setup(n){const e=Ie(),t=Y(null),a=Y(!0),o=Y("Please click a card first"),{x:s,y:i,style:d}=Vn(t,{initialValue:{x:window.innerWidth*.5-300,y:window.innerHeight-250}});return(c,u)=>{const g=qe("VTooltip"),w=qe("VMenu");return m(),S("div",{ref_key:"el",ref:t,style:Gn([r(d),{position:"fixed"}]),class:O([r(e).clickCardId?"snooze":"","z-[2147483644]"])},[y(k,{class:"bg-dark rounded-2xl px-4 border border-white",gap:2},{default:h(()=>{var D,I,p,f,T,C;return[Tr,l("div",$r,[y(g,null,{popper:h(()=>[L(B(r(e).clickCardId?"Show / Hide card":o.value),1)]),default:h(()=>[l("div",{class:O(["p-2 rounded-3xl group transition duration-300",[r(e).clickCardId?"hover:bg-white cursor-pointer":"cursor-not-allowed"]]),onClick:u[0]||(u[0]=b=>r(e).clickCardId?r(e).toggleCardVisibility():"")},[r(e).isCardHidden()?(m(),S("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:O([[r(e).clickCardId?"group-hover:text-dark":"opacity-50"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},Er,2)):(m(),S("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:O([[r(e).clickCardId?"group-hover:text-dark":"opacity-50"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},Pr,2))],2)]),_:1})]),l("div",Or,[y(g,null,{popper:h(()=>[L(B(r(e).clickCardId?"Rotate card right 90\xB0":o.value),1)]),default:h(()=>[l("div",{class:O(["p-2 rounded-3xl group transition duration-300",[r(e).clickCardId?"hover:bg-white cursor-pointer hover:rotate-90":"cursor-not-allowed"]]),onClick:u[1]||(u[1]=b=>r(e).clickCardId?r(e).rotateCard(r(qt).RIGHT):"")},[(m(),S("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:O([[r(e).clickCardId?"group-hover:text-dark":"opacity-50"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},Gr,2))],2)]),_:1})]),l("div",zr,[y(g,null,{popper:h(()=>[L(B(r(e).clickCardId?"Rotate card left 90\xB0":o.value),1)]),default:h(()=>[l("div",{class:O(["p-2 rounded-3xl group transition duration-300",[r(e).clickCardId?"hover:bg-white cursor-pointer hover:-rotate-90":"cursor-not-allowed"]]),onClick:u[2]||(u[2]=b=>r(e).clickCardId?r(e).rotateCard(r(qt).LEFT):"")},[(m(),S("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:O([[r(e).clickCardId?"group-hover:text-dark":"opacity-50"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},Hr,2))],2)]),_:1})]),l("div",jr,[y(g,null,{popper:h(()=>[L(' Set status "My turn" ')]),default:h(()=>[l("div",{onClick:u[3]||(u[3]=b=>a.value?r(e).setPlayingPlayer():""),class:"p-2 rounded-3xl cursor-pointer hover:bg-white group transition duration-300"},[r(e).getExistPlayerPlayingStatus?(m(),S("svg",{key:1,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:O([[a.value?"group-hover:text-dark":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},Wr,2)):(m(),S("svg",{key:0,xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:O([[a.value?"group-hover:text-dark":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},Vr,2))])]),_:1})]),(I=(D=r(e).table)==null?void 0:D.game)!=null&&I.status?(m(),S("div",Zr,[y(w,{placement:"top"},{popper:h(()=>{var b,v;return[l("div",Kr,[Qr,l("div",{class:"p-2 mt-2 cursor-pointer hover:bg-white hover:text-black transition duration-300",onClick:u[4]||(u[4]=x=>r(e).addStatusPlayer(null))},[y(k,{justify:"between",items:"center"},{default:h(()=>{var x,E;return[es,((E=(x=r(e).table.table_users)==null?void 0:x.find(N=>N.id===r(e).getExistTableUserId))==null?void 0:E.status)===null?(m(),S("div",ts,as)):U("",!0)]}),_:1})]),(m(!0),S(j,null,W((v=(b=r(e).table)==null?void 0:b.game)==null?void 0:v.status,x=>(m(),S("div",{class:"p-2 mt-2 cursor-pointer hover:bg-white hover:text-black transition duration-300",key:x.id,onClick:E=>r(e).addStatusPlayer(x)},[y(k,{justify:"between",items:"center"},{default:h(()=>{var E,N,G;return[l("div",null,B(x.name),1),((G=(N=(E=r(e).table.table_users)==null?void 0:E.find(ee=>ee.id===r(e).getExistTableUserId))==null?void 0:N.status)==null?void 0:G.id)===x.id?(m(),S("div",rs,is)):U("",!0)]}),_:2},1024)],8,os))),128))])]}),default:h(()=>[l("div",Xr,[(m(),S("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:O([[a.value?"group-hover:text-dark":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},Jr,2))])]),_:1})])):U("",!0),l("div",ls,[y(g,null,{popper:h(()=>[L(" View Rank ")]),default:h(()=>[l("button",{class:"p-2 rounded-3xl cursor-pointer hover:bg-white group transition duration-300 relative",onClick:u[5]||(u[5]=b=>{r(e).rank.isRankModalOpen=!0,r(e).rank.notification=!1})},[(m(),S("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:O([[a.value?"group-hover:text-dark":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},us,2)),r(e).rank.notification?(m(),S("div",cs," ! ")):U("",!0)])]),_:1})]),(f=(p=r(e).table)==null?void 0:p.game)!=null&&f.status?(m(),S("div",hs,[y(w,{placement:"top"},{popper:h(()=>{var b,v;return[l("div",gs,[vs,(m(!0),S(j,null,W((v=(b=r(e).table)==null?void 0:b.table_decks)==null?void 0:v.filter(x=>x.type!==r(ge).USER),x=>(m(),S("div",{class:"p-2 mt-2 cursor-pointer hover:bg-white hover:text-black transition duration-300",key:x.id,onClick:E=>{var N,G;return r(e).cardsToDeck(x.id,(G=(N=r(e).table)==null?void 0:N.table_decks)==null?void 0:G.find(ee=>ee.id===r(e).getExistPlayerTableDeckId))}},[y(k,{justify:"between",items:"center"},{default:h(()=>{var E;return[l("div",null,B((E=x.deck)==null?void 0:E.name),1)]}),_:2},1024)],8,bs))),128))])]}),default:h(()=>[l("button",{class:"p-2 rounded-3xl cursor-pointer hover:bg-white group transition duration-300 relative",onClick:u[6]||(u[6]=b=>{r(e).rank.isRankModalOpen=!0,r(e).rank.notification=!1})},[(m(),S("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:O([[a.value?"group-hover:text-dark":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 16 16"},ms,2))])]),_:1})])):U("",!0),(C=(T=r(e).table)==null?void 0:T.game)!=null&&C.status?(m(),S("div",ws,[y(w,{placement:"top"},{popper:h(()=>{var b,v;return[l("div",xs,[ks,(m(!0),S(j,null,W((v=(b=r(e).table)==null?void 0:b.table_decks)==null?void 0:v.filter(x=>x.type===r(ge).JUNK||x.type===r(ge).DECK),x=>{var E;return m(),S("div",{class:"p-2 mt-2 cursor-pointer hover:bg-white hover:text-black transition duration-300",key:x.id,onClick:N=>r(e).cardsToDeck(r(e).getTableDeckId,x)},B((E=x.deck)==null?void 0:E.name),9,Cs)}),128))])]}),default:h(()=>[l("button",{class:"p-2 rounded-3xl cursor-pointer hover:bg-white group transition duration-300 relative",onClick:u[7]||(u[7]=b=>{r(e).rank.isRankModalOpen=!0,r(e).rank.notification=!1})},[(m(),S("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:O([[a.value?"group-hover:text-dark":"opacity-50 cursor-not-allowed"],"w-6 h-6 transition duration-300"]),viewBox:"0 0 56 56"},_s,2))])]),_:1})])):U("",!0)]}),_:1})],6)}}});const Ts=l("div",{class:"text-sm"},"Junk Deck",-1),$s={class:"col-span-1"},Ds=l("div",{class:"text-black"}," Rank Table ",-1),Is={key:1,class:"bg-red-500 p-4 my-4 rounded italic"},Es=re({__name:"OnlineTable",setup(n){var f,T;const e=Ie(),t=Y("600"),a=Y("1000"),o=Y("600"),s=Wt();(f=e.table)!=null&&f.game&&(o.value=parseFloat((t.value/((T=e.table)==null?void 0:T.game.grid_rows)).toFixed(1)));const i=Y(null),d=Y(null),c=Y(null);yt(()=>{c.value&&(e.deckReferences.junk=c.value,e.dropZones.junk[0].element=c.value),d.value&&(e.deckReferences.table=d.value,e.dropZones.table[0].element=d.value),i.value&&(e.deckReferences.user=i.value,e.dropZones.user[0].element=i.value)});const u=(C,b)=>{C&&(e.dropZones.deck[b].element=C)},g=Y(2),w=C=>{},D=C=>{},I=(C,b,v)=>{C.dataTransfer.dropEffect="move",C.dataTransfer.effectAllowed="move",C.dataTransfer.setData("card",JSON.stringify(v)),C.dataTransfer.setData("cardHeight",b.offsetHeight),C.dataTransfer.setData("cardWidth",b.offsetWidth),C.dataTransfer.setData("top",C.y-b.getBoundingClientRect().top),C.dataTransfer.setData("left",C.x-b.getBoundingClientRect().left)},p=(C,b,v)=>{e.onDrop(C,b,v,g.value++)};return Je(()=>{var C,b;return(b=(C=e.table)==null?void 0:C.game)==null?void 0:b.grid_rows},()=>{var C,b;(C=e.table)!=null&&C.game&&(o.value=parseFloat((t.value/((b=e.table)==null?void 0:b.game.grid_rows)).toFixed(1)))}),(C,b)=>(m(),S(j,null,[y(k,{justify:"center"},{default:h(()=>[y(k,{class:O([`w-[${a.value}px] h-[120px]`,"bg-secondary border px-4 divide-x-2 h-full"]),items:"center",justify:"center"},{default:h(()=>[r(e).cards?(m(),P(k,{key:0},{default:h(()=>[(m(!0),S(j,null,W(r(e).dropZones.deck,(v,x)=>{var E,N,G,ee,V,le,ae,fe;return m(),P(Sr,{deck:{tableDeckId:v.tableDeckId,index:x,cards:r(e).getCards(v.tableDeckId),deckName:(ee=(G=(N=(E=r(e).table)==null?void 0:E.table_decks)==null?void 0:N.find(q=>q.id===v.tableDeckId))==null?void 0:G.deck)==null?void 0:ee.name,deckType:(fe=(ae=(le=(V=r(e).table)==null?void 0:V.table_decks)==null?void 0:le.find(q=>q.id===v.tableDeckId))==null?void 0:ae.deck)==null?void 0:fe.type},index:x,key:v.tableDeckId,onDeckCreate:q=>u(q,x),onOnDragStart:b[0]||(b[0]=(q,pe,Ee)=>I(q,pe,Ee)),onOnDragEnter:b[1]||(b[1]=q=>D()),onOnDragLeave:b[2]||(b[2]=q=>w()),onOnDrop:(q,pe)=>p(q,pe,"deck")},null,8,["deck","index","onDeckCreate","onOnDrop"])}),128))]),_:1})):U("",!0),r(e).cards?(m(),P(k,{key:1,class:"h-full px-4",column:!0,justify:"center",items:"center",gap:1},{default:h(()=>{var v;return[l("div",{class:O(["card-box cursor-pointer relative dropZone",(v=r(e).getCards(r(e).getJunkTableDeckId))!=null&&v.length?"":"border"]),ref_key:"tableDeckTrashReference",ref:c,id:"junkDeck",onDrop:b[3]||(b[3]=x=>p(x,r(e).getJunkTableDeckId,"junk")),onDragover:b[4]||(b[4]=ye(()=>{},["prevent"])),onDragleave:b[5]||(b[5]=x=>w()),onDragenter:b[6]||(b[6]=ye(x=>D(),["prevent"]))},[(m(!0),S(j,null,W(r(e).getCards(r(e).getJunkTableDeckId),(x,E)=>(m(),P(ft,{card:x,key:E,onOnDragStart:(N,G)=>I(N,G,x)},null,8,["card","onOnDragStart"]))),128))],34),Ts]}),_:1})):U("",!0)]),_:1},8,["class"])]),_:1}),r(e).cards&&r(e).getTableExist?(m(),P(k,{key:0,justify:"center"},{default:h(()=>{var v,x,E,N,G,ee;return[l("div",{id:"tableDeck",class:O(["grid bg-dark relative dropZone",`grid-cols-${(x=(v=r(e).table)==null?void 0:v.game)==null?void 0:x.grid_cols} grid-rows-${(N=(E=r(e).table)==null?void 0:E.game)==null?void 0:N.grid_rows} h-[${t.value}px] w-[${a.value}px]`]),ref_key:"tableDeckReference",ref:d,onDrop:b[7]||(b[7]=V=>p(V,r(e).getTableDeckId,"table")),onDragover:b[8]||(b[8]=ye(()=>{},["prevent"])),onDragleave:b[9]||(b[9]=V=>w()),onDragenter:b[10]||(b[10]=ye(V=>D(),["prevent"]))},[(m(!0),S(j,null,W((ee=(G=r(e).table)==null?void 0:G.game)==null?void 0:ee.grid_cols,V=>{var le,ae;return m(),S("div",$s,[(m(!0),S(j,null,W((ae=(le=r(e).table)==null?void 0:le.game)==null?void 0:ae.grid_rows,fe=>(m(),S("div",{class:O(["row-span-1 bg-primary border w-full",`h-[${o.value}px]`])},null,2))),256))])}),256)),(m(!0),S(j,null,W(r(e).getCards(r(e).getTableDeckId),(V,le)=>(m(),P(ft,{card:V,key:le,onOnDragStart:(ae,fe)=>I(ae,fe,V),absolute:!0,rotate:!0},null,8,["card","onOnDragStart"]))),128))],34)]}),_:1})):U("",!0),r(e).cards?(m(),P(k,{key:1,justify:"center"},{default:h(()=>[l("div",{class:O([`w-[${a.value}px] h-[150px]`,"bg-secondary border relative dropZone"]),id:"playerDeck",ref_key:"playerDeckReference",ref:i,onDrop:b[11]||(b[11]=v=>p(v,r(e).getExistPlayerTableDeckId,"user")),onDragover:b[12]||(b[12]=ye(()=>{},["prevent"])),onDragleave:b[13]||(b[13]=v=>w()),onDragenter:b[14]||(b[14]=ye(v=>D(),["prevent"]))},[l("div",null,[y(k,{class:"border w-full h-full"},{default:h(()=>[(m(!0),S(j,null,W(r(e).getCards(r(e).getExistPlayerTableDeckId),(v,x)=>(m(),P(ft,{card:v,key:x,onOnDragStart:(E,N)=>I(E,N,v),absolute:!0,rotate:!0,"show-cards":!0,"player-deck":!0},null,8,["card","onOnDragStart"]))),128))]),_:1})])],34)]),_:1})):U("",!0),y(Ss),y(mn,{"modal-open":r(e).rank.isRankModalOpen,onCloseModal:b[15]||(b[15]=v=>r(e).rank.isRankModalOpen=!1)},{modal_header:h(()=>[Ds]),body:h(()=>[r(s).rankPoints.length>0?(m(),P(gn,{key:0,"table-headers":r(s).tableHeaders,class:"border border-gray-700 rounded-lg overflow-y-auto"},{default:h(()=>[(m(!0),S(j,null,W(r(s).rankPoints,(v,x)=>(m(),P(Nt,{key:`rankRow-${v}`},{default:h(()=>[(m(!0),S(j,null,W(v,E=>(m(),P(Re,{key:E.id},{default:h(()=>[L(B(E.type===r(De).TITLE?E.title:E.points),1)]),_:2},1024))),128))]),_:2},1024))),128))]),_:1},8,["table-headers"])):(m(),S("div",Is," The rank table is empty "))]),_:1},8,["modal-open"])],64))}}),Ms={class:"max-h-[500px] overflow-y-auto"},As={class:"border-b border-primary text-black py-2 mb-3"},Ps=["src"],Os=l("div",null,"No cards",-1),Ns=re({__name:"ModalViewAllCards",props:{isModalOpen:{type:Boolean,required:!0},tableDecks:{type:Array,required:!0},cards:{type:Array,required:!0}},emits:["closeModal"],setup(n,{emit:e}){const t=n,a=s=>{var i,d;switch(s.type){case ge.USER:return(i=s.user)==null?void 0:i.username;case ge.DECK:return(d=s.deck)==null?void 0:d.name;case ge.TABLE:return"Table";case ge.JUNK:return"Junk"}},o=s=>{var i;return((i=t.cards)==null?void 0:i.filter(d=>d.table_deck.id===s))||[]};return(s,i)=>n.cards||n.tableDecks?(m(),P(mn,{key:0,modalOpen:n.isModalOpen,onCloseModal:i[1]||(i[1]=d=>s.$emit("closeModal")),class:"z-[2147483645]"},{modal_header:h(()=>[L(" Cards ")]),body:h(()=>[l("div",Ms,[(m(!0),S(j,null,W(n.tableDecks,d=>{var c;return m(),S("div",{key:d.id,class:"px-4"},[l("div",As,B(a(d)),1),((c=o(d.id))==null?void 0:c.length)>0?(m(),P(k,{key:0,gap:2,wrap:!0},{default:h(()=>[(m(!0),S(j,null,W(o(d.id),u=>(m(),S("img",{class:"card-box",src:r(pt)(u.card.image),key:u.id},null,8,Ps))),128))]),_:2},1024)):(m(),P(k,{key:1,gap:2},{default:h(()=>[Os]),_:1}))])}),128))])]),modal_footer:h(()=>[l("button",{class:"flex w-full items-center justify-center rounded-md border border-transparent bg-gray-400 px-8 py-3 text-base font-medium text-white hover:bg-secondary hover:text-white md:py-3 md:px-10 md:text-lg ml-2",onClick:i[0]||(i[0]=d=>s.$emit("closeModal"))}," Close ")]),_:1},8,["modalOpen"])):U("",!0)}}),Rs=re({__name:"TimeAgo",props:{created_at:{type:String,required:!0}},setup(n){const e=n,t=Y();yt(()=>{t.value=a(),setInterval(()=>{t.value=a()},6e4)});const a=()=>{const o=new Date,s=new Date(e.created_at),i=Math.floor((o.getTime()-s.getTime())/1e3);if(i<60)return"less a minute ago";if(i<3600){const d=Math.floor(i/60);return`${d} ${d===1?"minute":"minutes"} ago`}else if(i<86400){const d=Math.floor(i/3600);return`${d} ${d===1?"hour":"hours"} ago`}else{const d=Math.floor(i/86400);return`${d} ${d===1?"day":"days"} ago`}};return(o,s)=>B(t.value)}}),Gs={class:"font-bold text-dark"},zs={class:"text-gray-800 text-sm text-right"},Ls=re({__name:"ChatMessage",props:{isActiveUserMessage:{type:Boolean,default:!1},data:{type:Object,required:!0}},setup(n){return(e,t)=>(m(),P(k,{justify:n.isActiveUserMessage?"start":"end"},{default:h(()=>[y(k,{class:O(["py-2 px-4 rounded-3xl w-96",n.isActiveUserMessage?"bg-primary":"bg-light-blue"]),column:!0},{default:h(()=>{var a,o,s;return[l("span",Gs,B((a=n.data)==null?void 0:a.user.username)+":",1),l("div",null,B((o=n.data)==null?void 0:o.message),1),l("div",zs,[y(Rs,{created_at:(s=n.data)==null?void 0:s.created_at.toString()},null,8,["created_at"])])]}),_:1},8,["class"])]),_:1},8,["justify"]))}}),Us=Bt(),Hs=Ie(),js=hn("ChatStore",{state:()=>({message:"",messages:[],unreadMessages:0,room:Hs.room,isChatOpen:!1}),getters:{getMessages:n=>n.messages},actions:{_sendMessage(){if(this.$state.message.length>0){const n={message:this.$state.message,room:this.$state.room,user:Us.user};te.emit("sendMessage",{data:n},e=>{e.status===200&&(this.$state.message="")})}},toggleChatMessenger(){this.$state.isChatOpen||(this.$state.unreadMessages=0),this.$state.isChatOpen=!this.$state.isChatOpen}}}),Bs=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-12 h-12",viewBox:"0 0 16 16"},[l("path",{d:"M16 8c0 3.866-3.582 7-8 7a9.06 9.06 0 0 1-2.347-.306c-.584.296-1.925.864-4.181 1.234-.2.032-.352-.176-.273-.362.354-.836.674-1.95.77-2.966C.744 11.37 0 9.76 0 8c0-3.866 3.582-7 8-7s8 3.134 8 7zM5 8a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm4 0a1 1 0 1 0-2 0 1 1 0 0 0 2 0zm3 1a1 1 0 1 0 0-2 1 1 0 0 0 0 2z"})],-1),Vs={key:0,class:"absolute inline-flex items-center justify-center w-6 h-6 text-xs font-bold text-white bg-red-500 border-2 border-white rounded-full -top-2 -right-2 dark:border-gray-900"},Fs={key:1,class:"h-full relative bg-dark-smooth rounded-3xl p-4"},Ys=l("div",{class:"text-2xl px-2 font-bold"}," Table Chat ",-1),Ws=l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-8 h-8",viewBox:"0 0 16 16"},[l("path",{d:"M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0zM5.354 4.646a.5.5 0 1 0-.708.708L7.293 8l-2.647 2.646a.5.5 0 0 0 .708.708L8 8.707l2.646 2.647a.5.5 0 0 0 .708-.708L8.707 8l2.647-2.646a.5.5 0 0 0-.708-.708L8 7.293 5.354 4.646z"})],-1),Zs=[Ws],Xs=l("button",{type:"submit",class:"w-8 h-8 mr-8 absolute right-3 cursor-pointer"},[l("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"w-8 h-8 mr-8 cursor-pointer hover:text-primary transition duration-300 hover:scale-110",viewBox:"0 0 16 16"},[l("path",{d:"M15.964.686a.5.5 0 0 0-.65-.65L.767 5.855H.766l-.452.18a.5.5 0 0 0-.082.887l.41.26.001.002 4.995 3.178 3.178 4.995.002.002.26.41a.5.5 0 0 0 .886-.083l6-15Zm-1.833 1.89L6.637 10.07l-.215-.338a.5.5 0 0 0-.154-.154l-.338-.215 7.494-7.494 1.178-.471-.47 1.178Z"})])],-1),qs=re({__name:"RoomChat",setup(n){const e=Y(""),t=js(),a=Bt(),o=Ie();return fn(()=>{t.room=o.room,te.on("getSendMessage",s=>{s&&(t.messages.unshift(s),t.isChatOpen||t.unreadMessages++)})}),Je(()=>t.message,s=>{e.value=s}),pn(()=>{te.off("getSendMessage"),t.messages=[],t.message="",t.unreadMessages=0}),(s,i)=>(m(),S("div",{class:O(["fixed bottom-10 left-10 transition-height ease duration-1000 z-[2147483640]",r(t).isChatOpen?"w-[500px] h-[600px]":"w-[50px] h-[50px]"])},[r(t).isChatOpen?(m(),S("div",Fs,[y(k,{justify:"between",column:!0,class:"h-full",gap:6},{default:h(()=>[y(k,{justify:"between"},{default:h(()=>[Ys,l("div",{class:"cursor-pointer hover:text-primary duration-300 transition hover:scale-110",onClick:i[1]||(i[1]=d=>r(t).toggleChatMessenger())},Zs)]),_:1}),r(t).getMessages.length>0?(m(),P(k,{key:0,class:"bottom-5 left-6 bg-dark rounded-3xl w-full p-4 h-full overflow-y-auto scroll-smooth",columnReverse:!0,gap:4},{default:h(()=>[(m(!0),S(j,null,W(r(t).getMessages,d=>(m(),P(Ls,{data:d,key:d.id,isActiveUserMessage:d.user.id===r(a).user.id},null,8,["data","isActiveUserMessage"]))),128))]),_:1})):(m(),P(k,{key:1,justify:"center",items:"center",class:"text-xl bottom-5 left-6 bg-dark rounded-3xl w-full p-4 h-full overflow-y-auto scroll-smooth",columnReverse:!0,gap:4},{default:h(()=>[L(" No messages ")]),_:1})),l("form",{onSubmit:i[4]||(i[4]=ye(d=>r(t)._sendMessage(),["prevent"]))},[y(k,{justify:"center",items:"center",class:"bg-dark bottom-5 rounded-3xl left-6 w-full",gap:4},{default:h(()=>[zn(l("input",{"onUpdate:modelValue":i[2]||(i[2]=d=>e.value=d),onInput:i[3]||(i[3]=d=>r(t).message=e.value),class:"w-full bg-dark rounded-3xl p-4 focus:outline-none focus:ring-2 transition duration-300 focus:ring-primary focus:ring-opacity-50",placeholder:"Type your message..."},null,544),[[Ln,e.value]]),Xs]),_:1})],32)]),_:1})])):(m(),P(k,{key:0,justify:"start"},{default:h(()=>[l("div",{class:"cursor-pointer hover:text-primary duration-300 transition hover:scale-110 relative",onClick:i[0]||(i[0]=d=>r(t).toggleChatMessenger())},[Bs,r(t).unreadMessages>0?(m(),S("div",Vs,B(r(t).unreadMessages),1)):U("",!0)])]),_:1}))],2))}}),Js={class:"rounded-2xl bg-primary px-12 py-6 text-4xl italic"},Ks={class:"mt-6 text-xl"},Qs=re({__name:"TableStatusMessage",props:{title:{type:String,required:!0},message:{type:String,required:!0}},setup(n){return(e,t)=>(m(),P(k,{class:"one-page bg-dark",items:"center",justify:"center",column:!0},{default:h(()=>[l("div",Js,B(n.title),1),l("div",Ks,B(n.message),1)]),_:1}))}}),ei={class:"w-5/6 overflow-auto text-white relative"},fi=re({__name:"RoomView",setup(n){const e=Un(),t=Ie(),a=Bt(),o=Y(!1),s=Y(!1),i=Y(1),d=cn(),c=Wt();t.room=e.params.id.toString(),t.table?t._joinTable(t.room):xt.push({name:"lobby"});const u=Y(["getTurnTableUsers","getUpdateTableUser","getStartGameDetails","exitUsersFromTable","getTableGameStatus","getShowAllCards","getUpdateCard","getShuffleDeck","getUpdateRankRow"]),g=()=>{var p,f,T,C,b;c.room=(p=t.room)!=null?p:"",c.tableId=(T=(f=t.table)==null?void 0:f.id)!=null?T:null,c.addTableUsers((b=(C=t.table)==null?void 0:C.table_users)!=null?b:[])};fn(()=>{t.setGameMaster(),te.on("getTableUsers",p=>{var f;p.public_url===t.room&&p.table_users&&(t.table=p,(f=t.table.table_users)!=null&&f.find(C=>C.user.id===a.user.id)||(d.info(`Player ${a.user.username} has remove from Game Master`),xt.push({name:"lobby"})))}),te.on("getTurnTableUsers",p=>{var T,C;t.table&&p&&(t.table.table_users=p);const f=(C=(T=t.table)==null?void 0:T.table_users)==null?void 0:C.find(b=>b.playing===!0);f&&d.info(`Player ${f.user.username} is playing`,{position:Hn.TOP_CENTER,timeout:3e3})}),te.on("getUpdateTableUser",p=>{var f,T,C,b,v,x,E;if(p){const N=(T=(f=t.table)==null?void 0:f.table_users)==null?void 0:T.map(G=>G.id).indexOf(p.id);if(t.table&&N!==void 0){if(!((C=t.table.table_users[N])!=null&&C.status)&&(p==null?void 0:p.status)||((b=t.table.table_users[N].status)==null?void 0:b.id)!==((v=p==null?void 0:p.status)==null?void 0:v.id)){const G=(x=p.status)!=null&&x.name?`${p.user.username} update his status to "${(E=p.status)==null?void 0:E.name}"`:`${p.user.username} has remove his status`;d.info(G)}t.table.table_users[N]=p}}}),te.on("getStartGameDetails",(p,f)=>{var T,C;if(p){const b=((T=t.table)==null?void 0:T.status)===$.WAITING;t.table=p,D();const v=((C=t.table)==null?void 0:C.status)===$.PLAYING;v&&b&&(g(),t.refUndoHistory=[],t.refRedoHistory=[]),v&&t.deckReferences.junk&&([t.dropZones.junk[0].element,t.dropZones.user[0].element,t.dropZones.table[0].element]=[t.deckReferences.junk,t.deckReferences.user,t.deckReferences.table])}f&&(t.cards=f)}),te.on("exitUsersFromTable",()=>{t.room=null,t.gameMaster=!1,t.table=null,t.cards=null,d.info("Game master has remove you from the table"),xt.push({name:"lobby"})}),te.on("getTableGameStatus",p=>{p&&(t.table=p,p.status===$.PAUSE&&d.info("Game has paused"),p.status===$.PLAYING&&d.info("Game has start"),p.status===$.GAME_MASTER_EDIT&&d.info("The game master is preparing the table"),p.status===$.FINISH&&d.info("Game has end"))}),te.on("getShowAllCards",p=>{p&&(s.value=p)}),te.on("getUpdateCard",p=>{p&&(t.zIndex=p.z_index+1,w(p))}),te.on("getShuffleDeck",(p,f)=>{var T,C,b,v;if(p){p.forEach(E=>{w(E)});const x=(v=(b=(C=(T=t.table)==null?void 0:T.table_decks)==null?void 0:C.find(E=>E.id===f))==null?void 0:b.deck)==null?void 0:v.name;d.info(`Game Master has shuffle the deck "${x}"`)}}),te.on("getUpdateRankRow",(p,f)=>{if(p)if(f===c.nextRow)c.rankPoints.push(p);else{const T=c.rankPoints.findIndex(C=>C.some(b=>b.row===f));c.rankPoints[T]=p}else{const T=c.rankPoints.findIndex(C=>C.some(b=>b.row===f));c.rankPoints=c.rankPoints.filter((C,b)=>b!==T)}t.rank.notification=!0})});const w=p=>{const f=t.replaceCard(p);f&&(t.updateUndoHistory(f),t.removeRedoHistoryMovement())},D=()=>{var p,f;t.resetDropZones(),(f=(p=t.table)==null?void 0:p.table_decks)==null||f.forEach(T=>{switch(T.type){case ge.DECK:t.dropZones.deck.push({tableDeckId:T.id,element:null});break;case ge.JUNK:t.dropZones.junk.push({tableDeckId:T.id,element:null});break;case ge.TABLE:t.dropZones.table.push({tableDeckId:T.id,element:null});break;case ge.USER:T.id===t.getExistPlayerTableDeckId&&t.dropZones.user.push({tableDeckId:T.id,element:null});break}})},I=Y([{status:$.WAITING,title:"Game not started yet",message:"...waiting from Game Master to start the game"},{status:$.PAUSE,title:"Game Paused",message:"...waiting from Game Master to resume the game"},{status:$.GAME_MASTER_EDIT,title:"Game edit from Game Master",message:"..waiting from Game Master to finish with the configure of the table"},{status:$.FINISH,title:"Game has ended",message:"...waiting from Game Master to start the game"}]);return pn(()=>{t.room=null,t.gameMaster=!1,t.cards=null,t.refUndoHistory=[],t.refRedoHistory=[],t._leaveTable(),u.value.forEach(p=>{te.off(p)})}),(p,f)=>{var T,C,b;return m(),S(j,null,[y(k,{class:"relative one-page w-full bg-dark"},{default:h(()=>{var v,x;return[l("div",ei,[((v=r(t).table)==null?void 0:v.status)===r($).PLAYING||r(t).gameMaster&&((x=r(t).table)==null?void 0:x.status)===r($).GAME_MASTER_EDIT?(m(),P(Es,{key:0})):(m(!0),S(j,{key:1},W(I.value,({status:E,title:N,message:G})=>(m(),P(k,{key:E,items:"center",justify:"center"},{default:h(()=>{var ee;return[((ee=r(t).table)==null?void 0:ee.status)===E?(m(),P(Qs,{key:0,title:N,message:G},null,8,["title","message"])):U("",!0)]}),_:2},1024))),128)),y(qs)]),y(vr,{class:"w-1/6 overflow-x-auto"})]}),_:1}),r(t).gameMaster?(m(),P(ba,{key:0,onOpenSettings:f[0]||(f[0]=v=>{i.value=v,o.value=!0}),onStopGame:f[1]||(f[1]=v=>r(t)._stopGame()),onLeaveGame:f[2]||(f[2]=v=>r(t)._leaveGame()),onNewGame:f[3]||(f[3]=v=>r(t)._newGame()),onUpdateTableGameStatus:f[4]||(f[4]=v=>r(t)._updateTableGameStatus(v)),onShowAllCards:f[5]||(f[5]=v=>r(t)._showAllCards()),onSetNextPlayer:f[6]||(f[6]=v=>r(t)._setNextPlayer(v)),onShuffleDeck:f[7]||(f[7]=v=>r(t)._shuffleDeck()),onHistoryMovement:f[8]||(f[8]=v=>r(t).historyMovement(v))})):U("",!0),r(t).gameMaster?(m(),P(ar,{key:1,"table-users":(T=r(t).table)==null?void 0:T.table_users,"table-status":{status:(C=r(t).table)==null?void 0:C.status},table:r(t).table||void 0,"modal-open":o.value,onCloseModal:f[9]||(f[9]=v=>o.value=!1),onUpdateTurnTableUsers:f[10]||(f[10]=v=>r(t)._updateTurnTableUsers()),onUpdateRole:f[11]||(f[11]=(v,x)=>r(t)._setRoleTableUser(v,x)),onUpdateStatus:f[12]||(f[12]=(v,x)=>r(t)._setStatusTableUser(v,x)),onUpdateTeam:f[13]||(f[13]=(v,x)=>r(t)._setTeamTableUser(v,x)),onStopGame:f[14]||(f[14]=v=>r(t)._stopGame()),onLeaveGame:f[15]||(f[15]=v=>r(t)._leaveGame()),onNewGame:f[16]||(f[16]=v=>r(t)._newGame()),onUpdateTableGameStatus:f[17]||(f[17]=v=>r(t)._updateTableGameStatus(v)),onShowAllCards:f[18]||(f[18]=v=>r(t)._showAllCards()),"menu-tab":i.value,onRemovePlayer:f[19]||(f[19]=v=>r(t)._removePlayer(v)),onSetNextPlayer:f[20]||(f[20]=v=>r(t)._setNextPlayer(v))},null,8,["table-users","table-status","table","modal-open","menu-tab"])):U("",!0),r(t).cards?(m(),P(Ns,{key:2,"is-modal-open":s.value,cards:r(t).cards,"table-decks":(b=r(t).table)==null?void 0:b.table_decks,onCloseModal:f[21]||(f[21]=v=>s.value=!1)},null,8,["is-modal-open","cards","table-decks"])):U("",!0)],64)}}});export{fi as default};
