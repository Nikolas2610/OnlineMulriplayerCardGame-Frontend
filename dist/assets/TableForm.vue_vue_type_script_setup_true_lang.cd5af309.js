import{d as g,v as b,k as e,o,c as _,L as d,l as n,j as r,D as u,i as E,m as c,w as P}from"./index.9e6e0a8e.js";import{_ as v}from"./SelectField.vue_vue_type_script_setup_true_lang.c0ed188a.js";import{u as w}from"./TableStore.8739fcfe.js";import{_ as y}from"./InputField.vue_vue_type_script_setup_true_lang.7b4c688c.js";import{_ as C}from"./CheckBoxField.vue_vue_type_script_setup_true_lang.d7aab35a.js";import{u as N,r as S,m as I,a as L}from"./index.esm.10700579.js";import{P as x}from"./PreLoader.a6559b58.js";import{_ as A}from"./PrimaryButton.vue_vue_type_script_setup_true_lang.bb3ddcfc.js";import{T as l}from"./PlayerStore.9afa040a.js";import{_ as D}from"./Flex.vue_vue_type_script_setup_true_lang.f0738fbf.js";import{_ as p,a as M}from"./GridColItem.vue_vue_type_script_setup_true_lang.7d5fae9c.js";import{a as G}from"./ModalSecondaryButton.3030f7a0.js";import{_ as V}from"./ModalPrimaryButton.vue_vue_type_script_setup_true_lang.252669b6.js";const B=[{id:l.PAUSE,name:"Pause"},{id:l.FINISH,name:"Finish"},{id:l.PLAYING,name:"Playing"},{id:l.WAITING,name:"Waiting"},{id:l.PLAYER_DISCONNECTED,name:"Player Disconnected"},{id:l.PLAYER_LEAVE,name:"Player Leave"},{id:l.GAME_MASTER_EDIT,name:"Game Master Edit"}],q=["onSubmit"],F={key:1},R={class:"flex justify-center mt-8"},U={key:1},se=g({__name:"TableForm",emits:["submit","closeModal"],setup(Y,{emit:j}){const t=w(),i=b(()=>t.editTable?t.edit:t.table),T=b(()=>({name:{required:S,minLength:I(4)},password:{requiredIf:L(()=>t.table.private)},game:{required:S}})),m=N(T,t.editTable?t.edit:t.table),$=async()=>{t.editTable?t._update():(await m.value.$validate(),m.value.$error||(m.value.$reset(),t._submit()))};return(k,s)=>e(t).loadingStatus?(o(),_("div",U,[r(x)])):(o(),_("form",{key:0,class:"px-4 py-8",onSubmit:P($,["prevent"])},[e(i)?(o(),d(M,{key:0,all:2,gap:2},{default:n(()=>[r(p,{all:2},{default:n(()=>[r(y,{input:e(i).name,title:"Name",errors:e(m).name.$errors,onChange:s[0]||(s[0]=a=>e(i).name=a)},null,8,["input","errors"])]),_:1}),r(p,{all:2},{default:n(()=>[r(C,{title:"Private",input:e(i).private,class:"mb-3",onChange:s[1]||(s[1]=a=>e(i).private=a)},null,8,["input"])]),_:1}),e(i).private?(o(),d(p,{key:0,all:2},{default:n(()=>[r(y,{input:e(i).password?e(i).password:"",type:"password",title:"Password",errors:e(m).password.$errors,onChange:s[2]||(s[2]=a=>e(i).password=a)},null,8,["input","errors"])]),_:1})):u("",!0),e(t).games?(o(),d(p,{key:1,all:2},{default:n(()=>{var a;return[r(v,{title:"Game",input:e(t).editTable?{value:(a=e(t).edit.game)==null?void 0:a.id}:{value:e(t).table.game},options:e(t).games.map(f=>({id:f.id,name:f.name})),onUpdate:s[3]||(s[3]=f=>e(t).updateSelectedGame(f)),errors:e(m).game.$errors},null,8,["input","options","errors"])]}),_:1})):u("",!0),e(t).editTable?(o(),d(p,{key:2,all:2},{default:n(()=>[r(v,{title:"Status",input:{value:e(t).edit.status},options:e(B).map(a=>({id:a.id,name:a.name})),onUpdate:s[4]||(s[4]=a=>e(t).edit.status=a)},null,8,["input","options"])]),_:1})):u("",!0)]),_:1})):u("",!0),e(t).editTable?(o(),_("div",F,[e(t).role==="admin"?(o(),_("button",{key:0,title:"Delete Table Settings",class:"text-red-500 cursor-pointer hover:text-red-700",onClick:s[5]||(s[5]=a=>e(t)._deleteTableDetails())},"Delete table data (users, decks, cards) expect the table")):u("",!0),E("div",R,[r(A,{title:"Submit",type:"submit"})])])):(o(),d(D,{key:2,class:"mt-8"},{default:n(()=>[r(G,{onClick:s[6]||(s[6]=a=>k.$emit("closeModal"))},{default:n(()=>[c(" Close ")]),_:1}),r(V,{type:"submit"},{default:n(()=>[c(" Submit ")]),_:1})]),_:1}))],40,q))}});export{B as S,se as _};
