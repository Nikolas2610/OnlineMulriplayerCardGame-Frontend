import{d as pe,o as y,c as L,i as b,C as Z,G,m as Le,D as T,r as B,H as J,I as ie,L as ve,M as U,j as I,l as W,Z as Ze,w as _e,_ as vt,Q as ae,n as Ce,v as O,q as Q,B as Be,b as at,k as n,E as $t,J as _t,a as Bt,$ as Ft}from"./index.e95d5f3b.js";import{_ as et}from"./PrimaryButton.vue_vue_type_script_setup_true_lang.0920ccac.js";import{_ as Te}from"./Flex.vue_vue_type_script_setup_true_lang.2447bbeb.js";import{u as Fe,H as Se}from"./GameStore.a640d9d8.js";import{_ as we}from"./InputField.vue_vue_type_script_setup_true_lang.5be8a812.js";import{_ as Je}from"./SelectField.vue_vue_type_script_setup_true_lang.3eb54eec.js";import{_ as tt}from"./CheckBoxField.vue_vue_type_script_setup_true_lang.19d2f65f.js";import{_ as Rt}from"./_plugin-vue_export-helper.cdc0426e.js";import{R as ft}from"./RemoveButton.fe80503b.js";import{D as pt}from"./DeckType.enum.90a9c7f8.js";import{u as At,r as Ee,n as Qe,m as Xe}from"./index.esm.09ec47b5.js";import{_ as ge,a as Mt}from"./GridColItem.vue_vue_type_script_setup_true_lang.53eb0f03.js";import{P as jt}from"./PreLoader.9dc694ab.js";const Nt={key:0,"aria-hidden":"true",class:"w-4 h-4 ml-2 sm:ml-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},xt=b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 5l7 7-7 7M5 5l7 7-7 7"},null,-1),Vt=[xt],Kt=pe({__name:"StepFormItem",props:{active:{type:Boolean,require:!0},index:{type:Number,require:!0},title:{type:String,require:!0},lastItem:{type:Boolean,require:!1,default:!1}},setup(e){return(s,t)=>(y(),L("li",{class:G(["flex items-center",e.active?"text-primary":""])},[b("span",{class:G(["flex items-center justify-center w-5 h-5 mr-2 text-xs border rounded-full shrink-0",e.active?"border-primary":"border-gray-400"])},Z(e.index),3),Le(" "+Z(e.title)+" ",1),e.lastItem?T("",!0):(y(),L("svg",Nt,Vt))],2))}}),Ht={class:"flex items-center w-full p-3 space-x-2 text-sm font-medium text-center rounded-lg shadow-sm text-gray-400 sm:text-base bg-dark border-dark sm:p-4 sm:space-x-4"},Ut=pe({__name:"StepForm",props:{activeItem:{type:Number,require:!0,default:1},loading:{type:Boolean,default:!1}},emits:["increase","decrease"],setup(e,{emit:s}){const t=B([{index:1,title:"Game"},{index:2,title:"More Settings"},{index:3,title:"Starting Cards"}]);return(u,r)=>(y(),L(J,null,[b("ol",Ht,[(y(!0),L(J,null,ie(t.value,h=>(y(),ve(Kt,{key:h.index,index:h.index,title:h.title,active:e.activeItem===h.index,"last-item":h.index===t.value.length},null,8,["index","title","active","last-item"]))),128))]),U(u.$slots,"default"),I(Te,{justify:"between",gap:8,class:"mt-10"},{default:W(()=>[I(et,{title:"Previous",disable:e.activeItem===1,onClick:r[0]||(r[0]=h=>e.activeItem>1?u.$emit("decrease",e.activeItem-1):"")},null,8,["disable"]),I(et,{title:e.activeItem!==t.value.length?"Next":"Submit",type:"submit",loading:e.loading},null,8,["title","loading"])]),_:1})],64))}});function re(e){return[null,void 0].indexOf(e)!==-1}function Wt(e,s,t){const{object:u,valueProp:r,mode:h}=ae(e),l=Ce().proxy,m=t.iv,k=(i,o=!0)=>{m.value=p(i);const c=g(i);s.emit("change",c,l),o&&(s.emit("input",c),s.emit("update:modelValue",c))},g=i=>u.value||re(i)?i:Array.isArray(i)?i.map(o=>o[r.value]):i[r.value],p=i=>re(i)?h.value==="single"?{}:[]:i;return{update:k}}function zt(e,s){const{value:t,modelValue:u,mode:r,valueProp:h}=ae(e),l=B(r.value!=="single"?[]:{}),m=u&&u.value!==void 0?u:t,k=O(()=>r.value==="single"?l.value[h.value]:l.value.map(p=>p[h.value])),g=O(()=>r.value!=="single"?l.value.map(p=>p[h.value]).join(","):l.value[h.value]);return{iv:l,internalValue:l,ev:m,externalValue:m,textValue:g,plainValue:k}}function Yt(e,s,t){const{regex:u}=ae(e),r=Ce().proxy,h=t.isOpen,l=t.open,m=B(null),k=B(null),g=()=>{m.value=""},p=c=>{m.value=c.target.value},i=c=>{if(u&&u.value){let P=u.value;typeof P=="string"&&(P=new RegExp(P)),c.key.match(P)||c.preventDefault()}},o=c=>{if(u&&u.value){let M=(c.clipboardData||window.clipboardData).getData("Text"),S=u.value;typeof S=="string"&&(S=new RegExp(S)),M.split("").every(j=>!!j.match(S))||c.preventDefault()}s.emit("paste",c,r)};return Q(m,c=>{!h.value&&c&&l(),s.emit("search-change",c,r)}),{search:m,input:k,clearSearch:g,handleSearchInput:p,handleKeypress:i,handlePaste:o}}function Zt(e,s,t){const{groupSelect:u,mode:r,groups:h,disabledProp:l}=ae(e),m=B(null),k=p=>{p===void 0||p!==null&&p[l.value]||h.value&&p&&p.group&&(r.value==="single"||!u.value)||(m.value=p)};return{pointer:m,setPointer:k,clearPointer:()=>{k(null)}}}function Ge(e,s=!0){return s?String(e).toLowerCase().trim():String(e).toLowerCase().normalize("NFD").trim().replace(new RegExp(/æ/g),"ae").replace(new RegExp(/œ/g),"oe").replace(new RegExp(/ø/g),"o").replace(/\p{Diacritic}/gu,"")}function Jt(e){return Object.prototype.toString.call(e)==="[object Object]"}function Qt(e,s){const t=s.slice().sort();return e.length===s.length&&e.slice().sort().every(function(u,r){return u===t[r]})}function Xt(e,s,t){const{options:u,mode:r,trackBy:h,limit:l,hideSelected:m,createTag:k,createOption:g,label:p,appendNewTag:i,appendNewOption:o,multipleLabel:c,object:P,loading:M,delay:S,resolveOnLoad:j,minChars:f,filterResults:_,clearOnSearch:V,clearOnSelect:R,valueProp:C,canDeselect:X,max:N,strict:K,closeOnSelect:ee,groups:se,reverse:w,infinite:F,groupOptions:Y,groupHideEmpty:ue,groupSelect:De,onCreate:be,disabledProp:E,searchStart:z}=ae(e),A=Ce().proxy,q=t.iv,le=t.ev,x=t.search,he=t.clearSearch,d=t.update,$=t.pointer,te=t.clearPointer,Re=t.focus,mt=t.deactivate,Ae=t.close,Me=B([]),oe=B([]),ne=B(!1),je=B(null),Ne=B(F.value&&l.value===-1?10:l.value),st=O(()=>k.value||g.value||!1),gt=O(()=>i.value!==void 0?i.value:o.value!==void 0?o.value:!0),fe=O(()=>{if(se.value){let a=oe.value||[],v=[];return a.forEach(D=>{ze(D[Y.value]).forEach(H=>{v.push(Object.assign({},H,D[E.value]?{[E.value]:!0}:{}))})}),v}else{let a=ze(oe.value||[]);return Me.value.length&&(a=a.concat(Me.value)),a}}),nt=O(()=>se.value?Et((oe.value||[]).map((a,v)=>{const D=ze(a[Y.value]);return{...a,index:v,group:!0,[Y.value]:We(D,!1).map(H=>Object.assign({},H,a[E.value]?{[E.value]:!0}:{})),__VISIBLE__:We(D).map(H=>Object.assign({},H,a[E.value]?{[E.value]:!0}:{}))}})):[]),rt=O(()=>{let a=fe.value;return w.value&&(a=a.reverse()),Ve.value.length&&(a=Ve.value.concat(a)),We(a)}),Oe=O(()=>{let a=rt.value;return Ne.value>0&&(a=a.slice(0,Ne.value)),a}),xe=O(()=>{switch(r.value){case"single":return!re(q.value[C.value]);case"multiple":case"tags":return!re(q.value)&&q.value.length>0}}),ht=O(()=>c!==void 0&&c.value!==void 0?c.value(q.value,A):q.value&&q.value.length>1?`${q.value.length} options selected`:"1 option selected"),bt=O(()=>!fe.value.length&&!ne.value&&!Ve.value.length),yt=O(()=>fe.value.length>0&&Oe.value.length==0&&(x.value&&se.value||!se.value)),Ve=O(()=>st.value===!1||!x.value?[]:It(x.value)!==-1?[]:[{[C.value]:x.value,[p.value]:x.value,[de.value]:x.value,__CREATE__:!0}]),de=O(()=>h.value||p.value),kt=O(()=>{switch(r.value){case"single":return null;case"multiple":case"tags":return[]}}),St=O(()=>M.value||ne.value),ye=a=>{switch(typeof a!="object"&&(a=ce(a)),r.value){case"single":d(a);break;case"multiple":case"tags":d(q.value.concat(a));break}s.emit("select",it(a),a,A)},ke=a=>{switch(typeof a!="object"&&(a=ce(a)),r.value){case"single":ot();break;case"tags":case"multiple":d(Array.isArray(a)?q.value.filter(v=>a.map(D=>D[C.value]).indexOf(v[C.value])===-1):q.value.filter(v=>v[C.value]!=a[C.value]));break}s.emit("deselect",it(a),a,A)},it=a=>P.value?a:a[C.value],ut=a=>{ke(a)},wt=(a,v)=>{if(v.button!==0){v.preventDefault();return}ut(a)},ot=()=>{s.emit("clear",A),d(kt.value)},me=a=>{if(a.group!==void 0)return r.value==="single"?!1:Dt(a[Y.value])&&a[Y.value].length;switch(r.value){case"single":return!re(q.value)&&q.value[C.value]==a[C.value];case"tags":case"multiple":return!re(q.value)&&q.value.map(v=>v[C.value]).indexOf(a[C.value])!==-1}},Ke=a=>a[E.value]===!0,He=()=>N===void 0||N.value===-1||!xe.value&&N.value>0?!1:q.value.length>=N.value,Ot=a=>{if(!Ke(a)){if(be&&be.value&&!me(a)&&a.__CREATE__&&(a={...a},delete a.__CREATE__,a=be.value(a,A),a instanceof Promise)){ne.value=!0,a.then(v=>{ne.value=!1,dt(v)});return}dt(a)}},dt=a=>{switch(a.__CREATE__&&(a={...a},delete a.__CREATE__),r.value){case"single":if(a&&me(a)){X.value&&ke(a);return}a&&Ue(a),R.value&&he(),ee.value&&(te(),Ae()),a&&ye(a);break;case"multiple":if(a&&me(a)){ke(a);return}if(He()){s.emit("max",A);return}a&&(Ue(a),ye(a)),R.value&&he(),m.value&&te(),ee.value&&Ae();break;case"tags":if(a&&me(a)){ke(a);return}if(He()){s.emit("max",A);return}a&&Ue(a),R.value&&he(),a&&ye(a),m.value&&te(),ee.value&&Ae();break}ee.value||Re()},Lt=a=>{if(!(Ke(a)||r.value==="single"||!De.value)){switch(r.value){case"multiple":case"tags":Tt(a[Y.value])?ke(a[Y.value]):ye(a[Y.value].filter(v=>q.value.map(D=>D[C.value]).indexOf(v[C.value])===-1).filter(v=>!v[E.value]).filter((v,D)=>q.value.length+1+D<=N.value||N.value===-1));break}ee.value&&mt()}},Ue=a=>{ce(a[C.value])===void 0&&st.value&&(s.emit("tag",a[C.value],A),s.emit("option",a[C.value],A),gt.value&&qt(a),he())},Ct=()=>{r.value!=="single"&&ye(Oe.value)},Tt=a=>a.find(v=>!me(v)&&!v[E.value])===void 0,Dt=a=>a.find(v=>!me(v))===void 0,ce=a=>fe.value[fe.value.map(v=>String(v[C.value])).indexOf(String(a))],It=(a,v=!0)=>fe.value.map(D=>parseInt(D[de.value])==D[de.value]?parseInt(D[de.value]):D[de.value]).indexOf(parseInt(a)==a?parseInt(a):a),Pt=a=>["tags","multiple"].indexOf(r.value)!==-1&&m.value&&me(a),qt=a=>{Me.value.push(a)},Et=a=>ue.value?a.filter(v=>x.value?v.__VISIBLE__.length:v[Y.value].length):a.filter(v=>x.value?v.__VISIBLE__.length:!0),We=(a,v=!0)=>{let D=a;return x.value&&_.value&&(D=D.filter(H=>z.value?Ge(H[de.value],K.value).startsWith(Ge(x.value,K.value)):Ge(H[de.value],K.value).indexOf(Ge(x.value,K.value))!==-1)),m.value&&v&&(D=D.filter(H=>!Pt(H))),D},ze=a=>{let v=a;return Jt(v)&&(v=Object.keys(v).map(D=>{let H=v[D];return{[C.value]:D,[de.value]:H,[p.value]:H}})),v=v.map(D=>typeof D=="object"?D:{[C.value]:D,[de.value]:D,[p.value]:D}),v},Ie=()=>{re(le.value)||(q.value=qe(le.value))},Pe=a=>(ne.value=!0,new Promise((v,D)=>{u.value(x.value,A).then(H=>{oe.value=H||[],typeof a=="function"&&a(H),ne.value=!1}).catch(H=>{console.error(H),oe.value=[],ne.value=!1}).finally(()=>{v()})})),Ye=()=>{if(!!xe.value)if(r.value==="single"){let a=ce(q.value[C.value]);if(a!==void 0){let v=a[p.value];q.value[p.value]=v,P.value&&(le.value[p.value]=v)}}else q.value.forEach((a,v)=>{let D=ce(q.value[v][C.value]);if(D!==void 0){let H=D[p.value];q.value[v][p.value]=H,P.value&&(le.value[v][p.value]=H)}})},Gt=a=>{Pe(a)},qe=a=>re(a)?r.value==="single"?{}:[]:P.value?a:r.value==="single"?ce(a)||{}:a.filter(v=>!!ce(v)).map(v=>ce(v)),ct=()=>{je.value=Q(x,a=>{a.length<f.value||!a&&f.value!==0||(ne.value=!0,V.value&&(oe.value=[]),setTimeout(()=>{a==x.value&&u.value(x.value,A).then(v=>{(a==x.value||!x.value)&&(oe.value=v,$.value=Oe.value.filter(D=>D[E.value]!==!0)[0]||null,ne.value=!1)}).catch(v=>{console.error(v)})},S.value))},{flush:"sync"})};if(r.value!=="single"&&!re(le.value)&&!Array.isArray(le.value))throw new Error(`v-model must be an array when using "${r.value}" mode`);return u&&typeof u.value=="function"?j.value?Pe(Ie):P.value==!0&&Ie():(oe.value=u.value,Ie()),S.value>-1&&ct(),Q(S,(a,v)=>{je.value&&je.value(),a>=0&&ct()}),Q(le,a=>{if(re(a)){d(qe(a),!1);return}switch(r.value){case"single":(P.value?a[C.value]!=q.value[C.value]:a!=q.value[C.value])&&d(qe(a),!1);break;case"multiple":case"tags":Qt(P.value?a.map(v=>v[C.value]):a,q.value.map(v=>v[C.value]))||d(qe(a),!1);break}},{deep:!0}),Q(u,(a,v)=>{typeof e.options=="function"?j.value&&(!v||a&&a.toString()!==v.toString())&&Pe():(oe.value=e.options,Object.keys(q.value).length||Ie(),Ye())}),Q(p,Ye),{pfo:rt,fo:Oe,filteredOptions:Oe,hasSelected:xe,multipleLabelText:ht,eo:fe,extendedOptions:fe,fg:nt,filteredGroups:nt,noOptions:bt,noResults:yt,resolving:ne,busy:St,offset:Ne,select:ye,deselect:ke,remove:ut,selectAll:Ct,clear:ot,isSelected:me,isDisabled:Ke,isMax:He,getOption:ce,handleOptionClick:Ot,handleGroupClick:Lt,handleTagRemove:wt,refreshOptions:Gt,resolveOptions:Pe,refreshLabels:Ye}}function ea(e,s,t){const{valueProp:u,showOptions:r,searchable:h,groupLabel:l,groups:m,mode:k,groupSelect:g,disabledProp:p}=ae(e),i=t.fo,o=t.fg,c=t.handleOptionClick,P=t.handleGroupClick,M=t.search,S=t.pointer,j=t.setPointer,f=t.clearPointer,_=t.multiselect,V=t.isOpen,R=O(()=>i.value.filter(d=>!d[p.value])),C=O(()=>o.value.filter(d=>!d[p.value])),X=O(()=>k.value!=="single"&&g.value),N=O(()=>S.value&&S.value.group),K=O(()=>x(S.value)),ee=O(()=>{const d=N.value?S.value:x(S.value),$=C.value.map(Re=>Re[l.value]).indexOf(d[l.value]);let te=C.value[$-1];return te===void 0&&(te=w.value),te}),se=O(()=>{let d=C.value.map($=>$.label).indexOf(N.value?S.value[l.value]:x(S.value)[l.value])+1;return C.value.length<=d&&(d=0),C.value[d]}),w=O(()=>[...C.value].slice(-1)[0]),F=O(()=>S.value.__VISIBLE__.filter(d=>!d[p.value])[0]),Y=O(()=>{const d=K.value.__VISIBLE__.filter($=>!$[p.value]);return d[d.map($=>$[u.value]).indexOf(S.value[u.value])-1]}),ue=O(()=>{const d=x(S.value).__VISIBLE__.filter($=>!$[p.value]);return d[d.map($=>$[u.value]).indexOf(S.value[u.value])+1]}),De=O(()=>[...ee.value.__VISIBLE__.filter(d=>!d[p.value])].slice(-1)[0]),be=O(()=>[...w.value.__VISIBLE__.filter(d=>!d[p.value])].slice(-1)[0]),E=d=>!!S.value&&(!d.group&&S.value[u.value]==d[u.value]||d.group!==void 0&&S.value[l.value]==d[l.value])?!0:void 0,z=()=>{j(R.value[0]||null)},A=()=>{!S.value||S.value[p.value]===!0||(N.value?P(S.value):c(S.value))},q=()=>{if(S.value===null)j((m.value&&X.value?C.value[0]:R.value[0])||null);else if(m.value&&X.value){let d=N.value?F.value:ue.value;d===void 0&&(d=se.value),j(d||null)}else{let d=R.value.map($=>$[u.value]).indexOf(S.value[u.value])+1;R.value.length<=d&&(d=0),j(R.value[d]||null)}Be(()=>{he()})},le=()=>{if(S.value===null){let d=R.value[R.value.length-1];m.value&&X.value&&(d=be.value,d===void 0&&(d=w.value)),j(d||null)}else if(m.value&&X.value){let d=N.value?De.value:Y.value;d===void 0&&(d=N.value?ee.value:K.value),j(d||null)}else{let d=R.value.map($=>$[u.value]).indexOf(S.value[u.value])-1;d<0&&(d=R.value.length-1),j(R.value[d]||null)}Be(()=>{he()})},x=d=>C.value.find($=>$.__VISIBLE__.map(te=>te[u.value]).indexOf(d[u.value])!==-1),he=()=>{let d=_.value.querySelector("[data-pointed]");if(!d)return;let $=d.parentElement.parentElement;m.value&&($=N.value?d.parentElement.parentElement.parentElement:d.parentElement.parentElement.parentElement.parentElement),d.offsetTop+d.offsetHeight>$.clientHeight+$.scrollTop&&($.scrollTop=d.offsetTop+d.offsetHeight-$.clientHeight),d.offsetTop<$.scrollTop&&($.scrollTop=d.offsetTop)};return Q(M,d=>{h.value&&(d.length&&r.value?z():f())}),Q(V,d=>{if(d){let $=_.value.querySelectorAll("[data-selected]")[0];if(!$)return;let te=$.parentElement.parentElement;Be(()=>{te.scrollTop>0||(te.scrollTop=$.offsetTop)})}}),{pointer:S,canPointGroups:X,isPointed:E,setPointerFirst:z,selectPointer:A,forwardPointer:q,backwardPointer:le}}function ta(e,s,t){const{disabled:u}=ae(e),r=Ce().proxy,h=B(!1);return{isOpen:h,open:()=>{h.value||u.value||(h.value=!0,s.emit("open",r))},close:()=>{!h.value||(h.value=!1,s.emit("close",r))}}}function aa(e,s,t){const{searchable:u,disabled:r,clearOnBlur:h}=ae(e),l=t.input,m=t.open,k=t.close,g=t.clearSearch,p=t.isOpen,i=B(null),o=B(null),c=B(null),P=B(!1),M=B(!1),S=O(()=>u.value||r.value?-1:0),j=()=>{u.value&&l.value.blur(),o.value.blur()},f=()=>{u.value&&!r.value&&l.value.focus()},_=(K=!0)=>{r.value||(P.value=!0,K&&m())},V=()=>{P.value=!1,setTimeout(()=>{P.value||(k(),h.value&&g())},1)};return{multiselect:i,wrapper:o,tags:c,tabindex:S,isActive:P,mouseClicked:M,blur:j,focus:f,activate:_,deactivate:V,handleFocusIn:K=>{K.target.closest("[data-tags]")&&K.target.nodeName!=="INPUT"||K.target.closest("[data-clear]")||_(M.value)},handleFocusOut:()=>{V()},handleCaretClick:()=>{V(),j()},handleMousedown:K=>{M.value=!0,p.value&&(K.target.isEqualNode(o.value)||K.target.isEqualNode(c.value))?setTimeout(()=>{V()},0):document.activeElement.isEqualNode(o.value)&&!p.value&&_(),setTimeout(()=>{M.value=!1},0)}}}function la(e,s,t){const{mode:u,addTagOn:r,openDirection:h,searchable:l,showOptions:m,valueProp:k,groups:g,addOptionOn:p,createTag:i,createOption:o,reverse:c}=ae(e),P=Ce().proxy,M=t.iv,S=t.update,j=t.search,f=t.setPointer,_=t.selectPointer,V=t.backwardPointer,R=t.forwardPointer,C=t.multiselect,X=t.wrapper,N=t.tags,K=t.isOpen,ee=t.open,se=t.blur,w=t.fo,F=O(()=>i.value||o.value||!1),Y=O(()=>r.value!==void 0?r.value:p.value!==void 0?p.value:["enter"]),ue=()=>{u.value==="tags"&&!m.value&&F.value&&l.value&&!g.value&&f(w.value[w.value.map(E=>E[k.value]).indexOf(j.value)])};return{handleKeydown:E=>{s.emit("keydown",E,P);let z,A;switch(["ArrowLeft","ArrowRight","Enter"].indexOf(E.key)!==-1&&u.value==="tags"&&(z=[...C.value.querySelectorAll("[data-tags] > *")].filter(q=>q!==N.value),A=z.findIndex(q=>q===document.activeElement)),E.key){case"Backspace":if(u.value==="single"||l.value&&[null,""].indexOf(j.value)===-1||M.value.length===0)return;S([...M.value].slice(0,-1));break;case"Enter":if(E.preventDefault(),E.keyCode===229)return;if(A!==-1&&A!==void 0){S([...M.value].filter((q,le)=>le!==A)),A===z.length-1&&(z.length-1?z[z.length-2].focus():l.value?N.value.querySelector("input").focus():X.value.focus());return}if(Y.value.indexOf("enter")===-1&&F.value)return;ue(),_();break;case" ":if(!F.value&&!l.value){E.preventDefault(),ue(),_();return}if(!F.value)return!1;if(Y.value.indexOf("space")===-1&&F.value)return;E.preventDefault(),ue(),_();break;case"Tab":case";":case",":if(Y.value.indexOf(E.key.toLowerCase())===-1||!F.value)return;ue(),_(),E.preventDefault();break;case"Escape":se();break;case"ArrowUp":if(E.preventDefault(),!m.value)return;K.value||ee(),V();break;case"ArrowDown":if(E.preventDefault(),!m.value)return;K.value||ee(),R();break;case"ArrowLeft":if(l.value&&N.value&&N.value.querySelector("input").selectionStart||E.shiftKey||u.value!=="tags"||!M.value||!M.value.length)return;E.preventDefault(),A===-1?z[z.length-1].focus():A>0&&z[A-1].focus();break;case"ArrowRight":if(A===-1||E.shiftKey||u.value!=="tags"||!M.value||!M.value.length)return;E.preventDefault(),z.length>A+1?z[A+1].focus():l.value?N.value.querySelector("input").focus():l.value||X.value.focus();break}},handleKeyup:E=>{s.emit("keyup",E,P)},preparePointer:ue}}function sa(e,s,t){const{classes:u,disabled:r,openDirection:h,showOptions:l}=ae(e),m=t.isOpen,k=t.isPointed,g=t.isSelected,p=t.isDisabled,i=t.isActive,o=t.canPointGroups,c=t.resolving,P=t.fo,M=O(()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",wrapper:"multiselect-wrapper",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",assist:"multiselect-assistive-text",spacer:"multiselect-spacer",...u.value})),S=O(()=>!!(m.value&&l.value&&(!c.value||c.value&&P.value.length)));return{classList:O(()=>{const f=M.value;return{container:[f.container].concat(r.value?f.containerDisabled:[]).concat(S.value&&h.value==="top"?f.containerOpenTop:[]).concat(S.value&&h.value!=="top"?f.containerOpen:[]).concat(i.value?f.containerActive:[]),wrapper:f.wrapper,spacer:f.spacer,singleLabel:f.singleLabel,singleLabelText:f.singleLabelText,multipleLabel:f.multipleLabel,search:f.search,tags:f.tags,tag:[f.tag].concat(r.value?f.tagDisabled:[]),tagRemove:f.tagRemove,tagRemoveIcon:f.tagRemoveIcon,tagsSearchWrapper:f.tagsSearchWrapper,tagsSearch:f.tagsSearch,tagsSearchCopy:f.tagsSearchCopy,placeholder:f.placeholder,caret:[f.caret].concat(m.value?f.caretOpen:[]),clear:f.clear,clearIcon:f.clearIcon,spinner:f.spinner,inifinite:f.inifinite,inifiniteSpinner:f.inifiniteSpinner,dropdown:[f.dropdown].concat(h.value==="top"?f.dropdownTop:[]).concat(!m.value||!l.value||!S.value?f.dropdownHidden:[]),options:[f.options].concat(h.value==="top"?f.optionsTop:[]),group:f.group,groupLabel:_=>{let V=[f.groupLabel];return k(_)?V.push(g(_)?f.groupLabelSelectedPointed:f.groupLabelPointed):g(_)&&o.value?V.push(p(_)?f.groupLabelSelectedDisabled:f.groupLabelSelected):p(_)&&V.push(f.groupLabelDisabled),o.value&&V.push(f.groupLabelPointable),V},groupOptions:f.groupOptions,option:(_,V)=>{let R=[f.option];return k(_)?R.push(g(_)?f.optionSelectedPointed:f.optionPointed):g(_)?R.push(p(_)?f.optionSelectedDisabled:f.optionSelected):(p(_)||V&&p(V))&&R.push(f.optionDisabled),R},noOptions:f.noOptions,noResults:f.noResults,assist:f.assist,fakeInput:f.fakeInput}}),showDropdown:S}}function na(e,s,t){const{limit:u,infinite:r}=ae(e),h=t.isOpen,l=t.offset,m=t.search,k=t.pfo,g=t.eo,p=B(null),i=B(null),o=O(()=>l.value<k.value.length),c=M=>{const{isIntersecting:S,target:j}=M[0];if(S){const f=j.offsetParent,_=f.scrollTop;l.value+=u.value==-1?10:u.value,Be(()=>{f.scrollTop=_})}},P=()=>{h.value&&l.value<k.value.length?p.value.observe(i.value):!h.value&&p.value&&p.value.disconnect()};return Q(h,()=>{!r.value||P()}),Q(m,()=>{!r.value||(l.value=u.value,P())},{flush:"post"}),Q(g,()=>{!r.value||P()},{immediate:!1,flush:"post"}),at(()=>{window&&window.IntersectionObserver&&(p.value=new IntersectionObserver(c))}),{hasMore:o,infiniteLoader:i}}function ra(e,s,t){const{placeholder:u,id:r,valueProp:h,label:l,mode:m,groupLabel:k,aria:g,searchable:p}=ae(e),i=t.pointer,o=t.iv,c=t.hasSelected,P=t.multipleLabelText,M=B(null),S=O(()=>{let w=[];return r&&r.value&&w.push(r.value),w.push("assist"),w.join("-")}),j=O(()=>{let w=[];return r&&r.value&&w.push(r.value),w.push("multiselect-options"),w.join("-")}),f=O(()=>{let w=[];if(r&&r.value&&w.push(r.value),i.value)return w.push(i.value.group?"multiselect-group":"multiselect-option"),w.push(i.value.group?i.value.index:i.value[h.value]),w.join("-")}),_=O(()=>u.value),V=O(()=>m.value!=="single"),R=O(()=>{let w="";return m.value==="single"&&c.value&&(w+=o.value[l.value]),m.value==="multiple"&&c.value&&(w+=P.value),m.value==="tags"&&c.value&&(w+=o.value.map(F=>F[l.value]).join(", ")),w}),C=O(()=>{let w={...g.value};return p.value&&(w["aria-labelledby"]=w["aria-labelledby"]?`${S.value} ${w["aria-labelledby"]}`:S.value,R.value&&w["aria-label"]&&(w["aria-label"]=`${R.value}, ${w["aria-label"]}`)),w}),X=w=>{let F=[];return r&&r.value&&F.push(r.value),F.push("multiselect-option"),F.push(w[h.value]),F.join("-")},N=w=>{let F=[];return r&&r.value&&F.push(r.value),F.push("multiselect-group"),F.push(w.index),F.join("-")},K=w=>{let F=[];return F.push(w[l.value]),F.join(" ")},ee=w=>{let F=[];return F.push(w[k.value]),F.join(" ")},se=w=>`${w} \u274E`;return at(()=>{if(r&&r.value&&document&&document.querySelector){let w=document.querySelector(`[for="${r.value}"]`);M.value=w?w.innerText:null}}),{arias:C,ariaLabel:R,ariaAssist:S,ariaControls:j,ariaPlaceholder:_,ariaMultiselectable:V,ariaActiveDescendant:f,ariaOptionId:X,ariaOptionLabel:K,ariaGroupId:N,ariaGroupLabel:ee,ariaTagLabel:se}}function ia(e,s,t,u={}){return t.forEach(r=>{r&&(u={...u,...r(e,s,u)})}),u}var lt={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup","max"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:String,required:!1,default:"The list is empty"},noResultsText:{type:String,required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1},aria:{required:!1,type:Object,default:()=>({})},clearOnBlur:{required:!1,type:Boolean,default:!0}},setup(e,s){return ia(e,s,[zt,Zt,ta,Yt,Wt,aa,Xt,na,ea,la,sa,ra])}};const ua=["id","dir"],oa=["tabindex","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable","role"],da=["type","modelValue","value","autocomplete","id","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],ca=["onKeyup","aria-label"],va=["onClick"],pa=["type","modelValue","value","id","autocomplete","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],fa=["innerHTML"],ma=["id"],ga=["id","aria-label","aria-selected"],ha=["data-pointed","onMouseenter","onClick"],ba=["innerHTML"],ya=["aria-label"],ka=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],Sa=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],wa=["innerHTML"],Oa=["innerHTML"],La=["value"],Ca=["name","value"],Ta=["name","value"],Da=["id"];function Ia(e,s,t,u,r,h){return y(),L("div",{ref:"multiselect",class:G(e.classList.container),id:t.searchable?void 0:t.id,dir:t.rtl?"rtl":void 0,onFocusin:s[10]||(s[10]=(...l)=>e.handleFocusIn&&e.handleFocusIn(...l)),onFocusout:s[11]||(s[11]=(...l)=>e.handleFocusOut&&e.handleFocusOut(...l)),onKeyup:s[12]||(s[12]=(...l)=>e.handleKeyup&&e.handleKeyup(...l)),onKeydown:s[13]||(s[13]=(...l)=>e.handleKeydown&&e.handleKeydown(...l))},[b("div",Ze({class:e.classList.wrapper,onMousedown:s[9]||(s[9]=(...l)=>e.handleMousedown&&e.handleMousedown(...l)),ref:"wrapper",tabindex:e.tabindex,"aria-controls":t.searchable?void 0:e.ariaControls,"aria-placeholder":t.searchable?void 0:e.ariaPlaceholder,"aria-expanded":t.searchable?void 0:e.isOpen,"aria-activedescendant":t.searchable?void 0:e.ariaActiveDescendant,"aria-multiselectable":t.searchable?void 0:e.ariaMultiselectable,role:t.searchable?void 0:"combobox"},t.searchable?{}:e.arias),[T(" Search "),t.mode!=="tags"&&t.searchable&&!t.disabled?(y(),L("input",Ze({key:0,type:t.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:t.autocomplete,id:t.searchable?t.id:void 0,onInput:s[0]||(s[0]=(...l)=>e.handleSearchInput&&e.handleSearchInput(...l)),onKeypress:s[1]||(s[1]=(...l)=>e.handleKeypress&&e.handleKeypress(...l)),onPaste:s[2]||(s[2]=_e((...l)=>e.handlePaste&&e.handlePaste(...l),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...t.attrs,...e.arias}),null,16,da)):T("v-if",!0),T(" Tags (with search) "),t.mode=="tags"?(y(),L("div",{key:1,class:G(e.classList.tags),"data-tags":""},[(y(!0),L(J,null,ie(e.iv,(l,m,k)=>U(e.$slots,"tag",{option:l,handleTagRemove:e.handleTagRemove,disabled:t.disabled},()=>[(y(),L("span",{class:G(e.classList.tag),tabindex:"-1",onKeyup:vt(g=>e.handleTagRemove(l,g),["enter"]),key:k,"aria-label":e.ariaTagLabel(l[t.label])},[Le(Z(l[t.label])+" ",1),t.disabled?T("v-if",!0):(y(),L("span",{key:0,class:G(e.classList.tagRemove),onClick:_e(g=>e.handleTagRemove(l,g),["stop"])},[b("span",{class:G(e.classList.tagRemoveIcon)},null,2)],10,va))],42,ca))])),256)),b("div",{class:G(e.classList.tagsSearchWrapper),ref:"tags"},[T(" Used for measuring search width "),b("span",{class:G(e.classList.tagsSearchCopy)},Z(e.search),3),T(" Actual search input "),t.searchable&&!t.disabled?(y(),L("input",Ze({key:0,type:t.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,id:t.searchable?t.id:void 0,autocomplete:t.autocomplete,onInput:s[3]||(s[3]=(...l)=>e.handleSearchInput&&e.handleSearchInput(...l)),onKeypress:s[4]||(s[4]=(...l)=>e.handleKeypress&&e.handleKeypress(...l)),onPaste:s[5]||(s[5]=_e((...l)=>e.handlePaste&&e.handlePaste(...l),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...t.attrs,...e.arias}),null,16,pa)):T("v-if",!0)],2)],2)):T("v-if",!0),T(" Single label "),t.mode=="single"&&e.hasSelected&&!e.search&&e.iv?U(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[b("div",{class:G(e.classList.singleLabel)},[b("span",{class:G(e.classList.singleLabelText)},Z(e.iv[t.label]),3)],2)]):T("v-if",!0),T(" Multiple label "),t.mode=="multiple"&&e.hasSelected&&!e.search?U(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[b("div",{class:G(e.classList.multipleLabel),innerHTML:e.multipleLabelText},null,10,fa)]):T("v-if",!0),T(" Placeholder "),t.placeholder&&!e.hasSelected&&!e.search?U(e.$slots,"placeholder",{key:4},()=>[b("div",{class:G(e.classList.placeholder),"aria-hidden":"true"},Z(t.placeholder),3)]):T("v-if",!0),T(" Spinner "),t.loading||e.resolving?U(e.$slots,"spinner",{key:5},()=>[b("span",{class:G(e.classList.spinner),"aria-hidden":"true"},null,2)]):T("v-if",!0),T(" Clear "),e.hasSelected&&!t.disabled&&t.canClear&&!e.busy?U(e.$slots,"clear",{key:6,clear:e.clear},()=>[b("span",{"aria-hidden":"true",tabindex:"0",role:"button","data-clear":"","aria-roledescription":"\u274E",class:G(e.classList.clear),onClick:s[6]||(s[6]=(...l)=>e.clear&&e.clear(...l)),onKeyup:s[7]||(s[7]=vt((...l)=>e.clear&&e.clear(...l),["enter"]))},[b("span",{class:G(e.classList.clearIcon)},null,2)],34)]):T("v-if",!0),T(" Caret "),t.caret&&t.showOptions?U(e.$slots,"caret",{key:7},()=>[b("span",{class:G(e.classList.caret),onClick:s[8]||(s[8]=(...l)=>e.handleCaretClick&&e.handleCaretClick(...l)),"aria-hidden":"true"},null,2)]):T("v-if",!0)],16,oa),T(" Options "),b("div",{class:G(e.classList.dropdown),tabindex:"-1"},[U(e.$slots,"beforelist",{options:e.fo}),b("ul",{class:G(e.classList.options),id:e.ariaControls,role:"listbox"},[t.groups?(y(!0),L(J,{key:0},ie(e.fg,(l,m,k)=>(y(),L("li",{class:G(e.classList.group),key:k,id:e.ariaGroupId(l),"aria-label":e.ariaGroupLabel(l),"aria-selected":e.isSelected(l),role:"option"},[b("div",{class:G(e.classList.groupLabel(l)),"data-pointed":e.isPointed(l),onMouseenter:g=>e.setPointer(l,m),onClick:g=>e.handleGroupClick(l)},[U(e.$slots,"grouplabel",{group:l,isSelected:e.isSelected,isPointed:e.isPointed},()=>[b("span",{innerHTML:l[t.groupLabel]},null,8,ba)])],42,ha),b("ul",{class:G(e.classList.groupOptions),"aria-label":e.ariaGroupLabel(l),role:"group"},[(y(!0),L(J,null,ie(l.__VISIBLE__,(g,p,i)=>(y(),L("li",{class:G(e.classList.option(g,l)),"data-pointed":e.isPointed(g),"data-selected":e.isSelected(g)||void 0,key:i,onMouseenter:o=>e.setPointer(g),onClick:o=>e.handleOptionClick(g),id:e.ariaOptionId(g),"aria-selected":e.isSelected(g),"aria-label":e.ariaOptionLabel(g),role:"option"},[U(e.$slots,"option",{option:g,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[b("span",null,Z(g[t.label]),1)])],42,ka))),128))],10,ya)],10,ga))),128)):(y(!0),L(J,{key:1},ie(e.fo,(l,m,k)=>(y(),L("li",{class:G(e.classList.option(l)),"data-pointed":e.isPointed(l),"data-selected":e.isSelected(l)||void 0,key:k,onMouseenter:g=>e.setPointer(l),onClick:g=>e.handleOptionClick(l),id:e.ariaOptionId(l),"aria-selected":e.isSelected(l),"aria-label":e.ariaOptionLabel(l),role:"option"},[U(e.$slots,"option",{option:l,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[b("span",null,Z(l[t.label]),1)])],42,Sa))),128))],10,ma),e.noOptions?U(e.$slots,"nooptions",{key:0},()=>[b("div",{class:G(e.classList.noOptions),innerHTML:t.noOptionsText},null,10,wa)]):T("v-if",!0),e.noResults?U(e.$slots,"noresults",{key:1},()=>[b("div",{class:G(e.classList.noResults),innerHTML:t.noResultsText},null,10,Oa)]):T("v-if",!0),t.infinite&&e.hasMore?(y(),L("div",{key:2,class:G(e.classList.inifinite),ref:"infiniteLoader"},[U(e.$slots,"infinite",{},()=>[b("span",{class:G(e.classList.inifiniteSpinner)},null,2)])],2)):T("v-if",!0),U(e.$slots,"afterlist",{options:e.fo})],2),T(" Hacky input element to show HTML5 required warning "),t.required?(y(),L("input",{key:0,class:G(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,La)):T("v-if",!0),T(" Native input support "),t.nativeSupport?(y(),L(J,{key:1},[t.mode=="single"?(y(),L("input",{key:0,type:"hidden",name:t.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,Ca)):(y(!0),L(J,{key:1},ie(e.plainValue,(l,m)=>(y(),L("input",{type:"hidden",name:`${t.name}[]`,value:l,key:m},null,8,Ta))),128))],64)):T("v-if",!0),T(" Screen reader assistive text "),t.searchable&&e.hasSelected?(y(),L("div",{key:2,class:G(e.classList.assist),id:e.ariaAssist,"aria-hidden":"true"},Z(e.ariaLabel),11,Da)):T("v-if",!0),T(" Create height for empty input "),b("div",{class:G(e.classList.spacer)},null,2)],42,ua)}lt.render=Ia;lt.__file="src/Multiselect.vue";const Pa=b("label",{class:"block text-sm font-medium mb-1"},"Decks",-1),qa={key:0,class:"text-rose-700 text-base font-medium mt-1 px-2"},Ea=pe({__name:"MultipleSelectField",props:{publicDecks:{type:Array,require:!0},userDecks:{type:Array,require:!0},error:{Type:String||null,required:!1}},setup(e){const s=e,t=Fe(),u=B(s.error),r=B(!1),h=B([{label:"User",options:s.userDecks},{label:"Public",options:s.publicDecks}]);return Q(()=>t.createGame.selectedDecks,()=>{if(u.value){u.value=null;return}r.value&&!t.validateEmptyDecks&&(u.value="You have to choose at lease one deck")}),Q(()=>s.error,()=>{u.value=s.error,r.value=!0}),(l,m)=>(y(),L(J,null,[Pa,I(n(lt),{modelValue:n(t).createGame.selectedDecks,"onUpdate:modelValue":m[0]||(m[0]=k=>n(t).createGame.selectedDecks=k),mode:"tags","close-on-select":!1,searchable:!0,onChange:m[1]||(m[1]=k=>n(t).stepFormChange()),"create-option":!0,groups:!0,options:h.value},null,8,["modelValue","options"]),u.value?(y(),L("div",qa,Z(u.value),1)):T("",!0)],64))}});const Ga={},$a={type:"button",class:"rounded-md border border-transparent bg-primary text-white px-8 font-medium hover:bg-secondary md:py-1 md:px-3 transition duration-150 text-2xl"},_a=b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#FFF",class:"w-5 h-5",viewBox:"0 0 16 16"},[b("path",{"fill-rule":"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"})],-1),Ba=[_a];function Fa(e,s){return y(),L("button",$a,Ba)}const Ra=Rt(Ga,[["render",Fa]]),Aa={class:"mx-auto my-4"},Ma={class:"flex flex-col"},ja={class:"overflow-x-auto shadow-md sm:rounded-lg"},Na={class:"inline-block min-w-full align-middle"},xa={class:"overflow-hidden"},Va={class:"bg-gray-700"},Ka=b("th",{scope:"col",class:"p-4 w-1/12"},[b("span",{class:"sr-only"},"Edit")],-1),Ha={class:"divide-y bg-dark divide-gray-700"},Ua={class:"hover:bg-gray-800 transition duration-300"},Wa={class:"py-4 px-6 text-sm font-medium whitespace-nowrap text-white"},za={class:"py-4 px-6 text-sm font-medium whitespace-nowrap text-white"},Ya={class:"py-4 px-6 text-sm font-medium whitespace-nowrap text-white"},Za={class:"py-4 px-6 text-sm font-medium whitespace-nowrap text-white"},Ja={class:"py-4 px-6 text-sm font-medium whitespace-nowrap text-white"},Qa={class:"py-4 px-6 text-sm font-medium text-right whitespace-nowrap mb-2"},Xa={key:1,class:"bg-dark p-4 text-center w-full text-white"},el={class:"p-2 shadow-lg"},tl=pe({__name:"CreateHandStartCardsForm",setup(e){const s=Fe(),t=B(["RULE TYPE","FROM DECK","TO ROLE","HIDDEN","CARDS"]),u=B(["2","3","3","1","2","1"]),r=B([]),h=()=>{r.value=s.decks.filter(l=>s.createGame.selectedDecks.includes(l.id))};return Q(()=>s.createGame.selectedDecks,()=>{h()}),h(),(l,m)=>(y(),L("div",Aa,[b("div",Ma,[b("div",ja,[b("div",Na,[b("div",xa,[n(s).createGame.hand_start_cards.length!==0?(y(!0),L(J,{key:0},ie(n(s).createGame.hand_start_cards,(k,g)=>{var p,i,o;return y(),L("table",{class:"min-w-full divide-y table-fixed divide-gray-700",key:`start_cards_${g}`},[b("thead",Va,[b("tr",null,[(y(!0),L(J,null,ie(t.value,(c,P)=>(y(),L("th",{scope:"col",key:P,class:G([`w-${u.value[P]}/12`,"py-3 px-6 text-xs font-medium tracking-wider text-left uppercase text-gray-400"])},Z(n(s).createGame.hand_start_cards[g].type===n(Se).DECK&&P===2?"TO DECK":c),3))),128)),Ka])]),b("tbody",Ha,[b("tr",Ua,[b("td",Wa,[I(Je,{options:[{id:n(Se).ROLE,name:"Role"},{id:n(Se).DECK,name:"Deck"}],onUpdate:c=>{n(s).createGame.hand_start_cards[g].type=c,n(s).stepFormChange()},dark:!0,input:{value:n(s).createGame.hand_start_cards[g].type},"empty-value":!1},null,8,["options","onUpdate","input"])]),b("td",za,[I(Je,{options:(p=n(s).createGame.game.deck)==null?void 0:p.filter(c=>c.type===n(pt).DECK).map(c=>({id:c.id,name:c.name})),disable:r.value.length===0,dark:!0,onUpdate:c=>{n(s).createGame.hand_start_cards[g].deck=c,n(s).stepFormChange()},input:{value:n(s).createGame.hand_start_cards[g].deck},"empty-value":!1},null,8,["options","disable","onUpdate","input"])]),b("td",Ya,[I(Je,{options:n(s).createGame.hand_start_cards[g].type===n(Se).ROLE?(i=n(s).createGame.game.roles)==null?void 0:i.map(c=>({id:c.id,name:c.name})):(o=n(s).createGame.game.deck)==null?void 0:o.filter(c=>c.type===n(pt).EXTRA_DECK).map(c=>({id:c.id,name:c.name})),dark:!0,onUpdate:c=>{n(s).createGame.hand_start_cards[g].type===n(Se).ROLE?n(s).createGame.hand_start_cards[g].role=c:n(s).createGame.hand_start_cards[g].toDeck=c,n(s).stepFormChange()},input:{value:n(s).createGame.hand_start_cards[g].type===n(Se).ROLE?n(s).createGame.hand_start_cards[g].role:n(s).createGame.hand_start_cards[g].toDeck},"empty-value":!1},null,8,["options","onUpdate","input"])]),b("td",Za,[I(tt,{"title-show":!1,input:k.hidden,onChange:c=>{n(s).createGame.hand_start_cards[g].hidden=c,n(s).stepFormChange()}},null,8,["input","onChange"])]),b("td",Ja,[I(we,{"title-show":!1,input:k.count_cards,type:"number",min:1,onChange:c=>{k.count_cards=c,n(s).stepFormChange()}},null,8,["input","onChange"])]),b("td",Qa,[I(Te,{gap:2},{default:W(()=>[I(Ra,{onClick:m[0]||(m[0]=c=>{n(s).addHandStartCardsRow(),n(s).stepFormChange()})}),I(ft,{onClick:c=>{n(s).deleteHandStartCardsRow(g),n(s).stepFormChange()}},null,8,["onClick"])]),_:2},1024)])])])])}),128)):(y(),L("div",Xa,[b("div",el,[Le("No rules. "),b("span",{class:"underline cursor-pointer hover:text-primary",onClick:m[1]||(m[1]=k=>{n(s).addHandStartCardsRow(),n(s).stepFormChange()})}," Click here to add a role ")])]))])])])])]))}}),al={class:"text-3xl"},ll=pe({__name:"SubTitle",setup(e){return(s,t)=>(y(),ve(Te,{justify:"between",items:"center",class:"w-full mb-3 border-b-2 border-primary p-2"},{default:W(()=>[b("div",al,[U(s.$slots,"default")]),U(s.$slots,"button")]),_:3}))}}),sl={class:"bg-info w-full px-8 py-3 text-white italic rounded-lg"},nl=pe({__name:"Alert",setup(e){return(s,t)=>(y(),ve(Te,null,{default:W(()=>[b("div",sl,[U(s.$slots,"default")])]),_:3}))}}),rl={class:"w-11/12"},il={class:"w-1/12 text-right"},$e=pe({__name:"MoreItems",props:{errors:{type:Object},items:{type:Array,required:!0},itemsTitle:{type:String,required:!0},disabledItems:{type:Boolean,default:!1},countDisabledItems:{type:Number,default:1},title:{type:String},message:{type:String},buttonTitle:{type:String,required:!0}},emits:["deleteItem","update","addItem"],setup(e,{emit:s}){const t=e,u=Fe(),r=h=>t.disabledItems&&h<t.countDisabledItems;return(h,l)=>(y(),L(J,null,[I(ll,{class:"mt-4"},{button:W(()=>[I(et,{title:e.buttonTitle,onClick:l[0]||(l[0]=m=>{h.$emit("addItem"),n(u).stepFormChange()})},null,8,["title"])]),default:W(()=>[Le(Z(e.title)+" ",1)]),_:1}),e.items.length>0?(y(!0),L(J,{key:0},ie(e.items,(m,k)=>(y(),ve(Te,{items:"end",justify:"center",gap:4,key:k,class:"mb-3"},{default:W(()=>[b("div",rl,[I(we,{title:e.itemsTitle,input:m.name,disabled:r(k),onChange:g=>h.$emit("update",g,k)},null,8,["title","input","disabled","onChange"])]),b("div",il,[r(k)?T("",!0):(y(),ve(ft,{key:0,onClick:g=>{h.$emit("deleteItem",k),n(u).stepFormChange()},class:"mt-4"},null,8,["onClick"]))])]),_:2},1024))),128)):(y(),ve(nl,{key:1,class:"my-2"},{default:W(()=>[Le(Z(e.message),1)]),_:1}))],64))}}),ul={class:"mb-3"},ol={class:"block text-sm font-medium"},dl={class:"mt-1"},cl=pe({__name:"TextAreaFiled",props:{input:{type:String,required:!0},errors:{type:Object},title:{type:String,required:!0}},emits:["change"],setup(e,{emit:s}){const t=e,u=B("");return at(()=>{u.value=t.input}),(r,h)=>(y(),L("div",ul,[b("label",ol,Z(e.title),1),b("div",dl,[$t(b("textarea",{"onUpdate:modelValue":h[0]||(h[0]=l=>u.value=l),rows:"4",onInput:h[1]||(h[1]=l=>r.$emit("change",u.value)),class:"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-secondary focus:outline-none sm:text-sm"},null,544),[[_t,u.value]])]),(y(!0),L(J,null,ie(e.errors,l=>(y(),L("div",{key:l.$uid,class:"text-rose-700 text-base font-medium mt-1 px-2"},Z(l.$message),1))),128))]))}}),vl=["onSubmit"],pl={key:0},fl=b("div",{class:"text-black text-sm"},"*Effortlessly transition between turns for a fluid and engaging gameplay experience.",-1),ml={key:1},gl={key:2},hl={key:3,class:"mt-6 italic text-red-500"},El=pe({__name:"GameForm",emits:["submit"],setup(e,{emit:s}){const t=Fe(),u=Bt(),r=B(null),h=O(()=>({name:{required:Ee},max_players:{required:Ee,numeric:Qe,minLength:Xe(1)},grid_rows:{required:Ee,numeric:Qe,minLength:Xe(1)},grid_cols:{required:Ee,numeric:Qe,minLength:Xe(1)}})),l=B([]),m=B([]),k=At(h,t.createGame.game),g=async()=>{switch(t.stepForm.value){case 1:k.value.$validate();const p=t.validateEmptyDecks;p?r.value=null:r.value="You have to choose at lease one deck",p&&!k.value.$error&&s("submit");break;case 2:t.validateMoreSettings()&&s("submit");break;case 3:t.validateHandStartingCards()&&s("submit");break}};return t.fetchDecks().then(p=>{m.value=p.filter(i=>i.creator===u.user.username),l.value=p.filter(i=>i.creator!==u.user.username)}),Ft(()=>{t.clearFormData()}),(p,i)=>n(t).loading?(y(),ve(jt,{key:1})):(y(),L("form",{key:0,class:"px-4 py-8",onSubmit:_e(g,["prevent"])},[I(Ut,{"active-item":n(t).stepForm.value,loading:n(t).stepForm.loading,onDecrease:i[19]||(i[19]=o=>n(t).stepForm.value=o),onIncrease:i[20]||(i[20]=o=>n(t).stepForm.value=o)},{default:W(()=>[n(t).stepForm.value===1?(y(),L("div",pl,[n(t).createGame.game?(y(),ve(Mt,{key:0,all:2,gap_x:4,gap_y:4,class:"mt-8"},{default:W(()=>[I(ge,{xs:1},{default:W(()=>[I(we,{input:n(t).createGame.game.name,onChange:i[0]||(i[0]=o=>{n(t).createGame.game.name=o,n(t).stepFormChange()}),title:"Name",errors:n(k).name.$errors},null,8,["input","errors"])]),_:1}),I(ge,{xs:1},{default:W(()=>[I(we,{input:n(t).createGame.game.max_players,onChange:i[1]||(i[1]=o=>{n(t).createGame.game.max_players=o,n(t).stepFormChange()}),title:"Max Players",max:10,min:1,type:"number",errors:n(k).max_players.$errors},null,8,["input","errors"])]),_:1}),I(ge,{xs:1},{default:W(()=>[I(we,{input:n(t).createGame.game.grid_rows,onChange:i[2]||(i[2]=o=>{n(t).createGame.game.grid_rows=o,n(t).stepFormChange()}),title:"Grid Rows",max:12,min:0,type:"number",errors:n(k).grid_rows.$errors},null,8,["input","errors"])]),_:1}),I(ge,{xs:1},{default:W(()=>[I(we,{input:n(t).createGame.game.grid_cols,onChange:i[3]||(i[3]=o=>{n(t).createGame.game.grid_cols=o,n(t).stepFormChange()}),title:"Grid Columns",max:12,min:0,type:"number",errors:n(k).grid_cols.$errors},null,8,["input","errors"])]),_:1}),I(ge,{xs:2},{default:W(()=>[I(cl,{title:"Description",input:n(t).createGame.game.description,onChange:i[4]||(i[4]=o=>{n(t).createGame.game.description=o,n(t).stepFormChange()})},null,8,["input"])]),_:1}),l.value.length>0||m.value.length>0?(y(),ve(ge,{key:0,xs:2},{default:W(()=>[I(Ea,{"public-decks":l.value.map(o=>({value:o.id,label:o.name})),"user-decks":m.value.map(o=>({value:o.id,label:o.name})),error:r.value},null,8,["public-decks","user-decks","error"])]),_:1})):T("",!0),I(ge,{xs:2},{default:W(()=>[I(tt,{title:"Private",input:n(t).createGame.game.private,class:"py-2",onChange:i[5]||(i[5]=o=>{n(t).createGame.game.private=o,n(t).stepFormChange()})},null,8,["input"])]),_:1}),I(ge,{xs:2},{default:W(()=>[I(tt,{title:"Auto Next Player *",input:n(t).createGame.game.auto_turn,class:"py-2",onChange:i[6]||(i[6]=o=>{n(t).createGame.game.auto_turn=o,n(t).stepFormChange()})},null,8,["input"]),fl]),_:1})]),_:1})):T("",!0)])):T("",!0),n(t).stepForm.value===2?(y(),L("div",ml,[I($e,{items:n(t).createGame.roles,title:"Roles","button-title":"Add a Role",message:"No roles",onAddItem:i[7]||(i[7]=o=>n(t).addRole()),itemsTitle:"Role name",onUpdate:i[8]||(i[8]=(o,c)=>{n(t).createGame.roles[c].name=o,n(t).stepFormChange()}),onDeleteItem:i[9]||(i[9]=o=>n(t).deleteRole(o)),"disabled-items":!0},null,8,["items"]),I($e,{items:n(t).createGame.extraDecks,title:"Empty decks","button-title":"Add a Deck",message:"No empty decks",onAddItem:i[10]||(i[10]=o=>n(t).addExtraDeck()),itemsTitle:"Deck name","count-disabled-items":2,"disabled-items":!0,onUpdate:i[11]||(i[11]=(o,c)=>{n(t).createGame.extraDecks[c].name=o,n(t).stepFormChange()}),onDeleteItem:i[12]||(i[12]=o=>n(t).deleteExtraDeck(o))},null,8,["items"]),I($e,{items:n(t).createGame.status,title:"Status","button-title":"Add a Status",message:"No status",onAddItem:i[13]||(i[13]=o=>n(t).addStatus()),itemsTitle:"Status name",onUpdate:i[14]||(i[14]=(o,c)=>{n(t).createGame.status[c].name=o,n(t).stepFormChange()}),onDeleteItem:i[15]||(i[15]=o=>n(t).deleteStatus(o))},null,8,["items"]),I($e,{items:n(t).createGame.teams,title:"Teams","button-title":"Add a Team",message:"No teams",onAddItem:i[16]||(i[16]=o=>n(t).addTeam()),itemsTitle:"Team name",onUpdate:i[17]||(i[17]=(o,c)=>{n(t).createGame.teams[c].name=o,n(t).stepFormChange()}),onDeleteItem:i[18]||(i[18]=o=>n(t).deleteTeam(o))},null,8,["items"])])):T("",!0),n(t).stepForm.value===3?(y(),L("div",gl,[I(tl)])):T("",!0),n(t).editGame&&n(t).stepForm.value!==3?(y(),L("div",hl,"Note: If you edit the game settings the cards rules will be erase")):T("",!0)]),_:1},8,["active-item","loading"])],40,vl))}});export{El as _};
