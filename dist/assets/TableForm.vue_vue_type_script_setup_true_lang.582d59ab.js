import{d as w,v as b,k as e,o,c as r,i as n,j as l,D as u,L as c,l as x,w as T}from"./index.14bb9b25.js";import{b as $,c as _,a as S,_ as h}from"./CheckBoxField.vue_vue_type_script_setup_true_lang.7f0ddb16.js";import{u as C}from"./TableStore.4c73e105.js";import{_ as v}from"./InputField.vue_vue_type_script_setup_true_lang.3f8666b4.js";import{u as P,r as f,m as L,a as N}from"./index.esm.099a0bc5.js";import{P as E}from"./PreLoader.971cfd0a.js";import{T as m}from"./PlayerStore.078c6055.js";const I=[{id:m.PAUSE,name:"Pause"},{id:m.FINISH,name:"Finish"},{id:m.PLAYING,name:"Playing"},{id:m.WAITING,name:"Waiting"},{id:m.PLAYER_DISCONNECTED,name:"Player Disconnected"},{id:m.PLAYER_LEAVE,name:"Player Leave"}],A=["onSubmit"],D={key:0,class:"grid grid-cols-2"},B={class:"col-span-2"},V={class:"col-span-2"},G={key:0,class:"col-span-2"},q={key:1,class:"col-span-2 mb-3"},F={key:2,class:"col-span-2 mb-3"},U={key:1},Y={class:"flex justify-center mt-8"},j=n("button",{class:"btn-green",type:"submit"},"Submit",-1),M=n("button",{type:"submit",class:"rounded-md w-full border border-transparent bg-primary text-white px-8 py-3 text-base font-medium hover:bg-secondary hover:text-white md:py-3 md:px-10 md:text-lg"}," Submit ",-1),R={key:1},ee=w({__name:"TableForm",emits:["submit"],setup(W,{emit:H}){const t=C(),i=b(()=>t.editTable?t.edit:t.table),y=b(()=>({name:{required:f,minLength:L(4)},password:{requiredIf:N(()=>t.table.private)},game:{required:f}})),d=P(y,t.editTable?t.edit:t.table),g=async()=>{t.editTable?t._update():(await d.value.$validate(),d.value.$error||(d.value.$reset(),t._submit()))};return(k,a)=>{var p;return e(t).loadingStatus?(o(),r("div",R,[l(E)])):(o(),r("form",{key:0,class:"px-4 py-8",onSubmit:T(g,["prevent"])},[e(i)?(o(),r("div",D,[n("div",B,[l(v,{input:e(i).name,title:"Name",errors:e(d).name.$errors,onChange:a[0]||(a[0]=s=>e(i).name=s)},null,8,["input","errors"])]),n("div",V,[l($,{title:"Private",input:e(i).private,class:"mb-3",onChange:a[1]||(a[1]=s=>e(i).private=s)},null,8,["input"])]),e(i).private?(o(),r("div",G,[l(v,{input:e(i).password?e(i).password:"",type:"password",title:"Password",errors:e(d).password.$errors,onChange:a[2]||(a[2]=s=>e(i).password=s)},null,8,["input","errors"])])):u("",!0),e(t).games?(o(),r("div",q,[l(_,{title:"Game",input:e(t).editTable?{value:(p=e(t).edit.game)==null?void 0:p.id}:{value:e(t).table.game},options:e(t).games.map(s=>({id:s.id,name:s.name})),onUpdate:a[3]||(a[3]=s=>e(t).updateSelectedGame(s)),errors:e(d).game.$errors},null,8,["input","options","errors"])])):u("",!0),e(t).editTable?(o(),r("div",F,[l(_,{title:"Status",input:{value:e(t).edit.status},options:e(I).map(s=>({id:s.id,name:s.name})),onUpdate:a[4]||(a[4]=s=>e(t).edit.status=s)},null,8,["input","options"])])):u("",!0)])):u("",!0),e(t).editTable?(o(),r("div",U,[e(t).role==="admin"?(o(),c(S,{key:0,title:"Delete Table Settings",onClick:a[5]||(a[5]=s=>e(t)._deleteTableDetails())})):u("",!0),n("div",Y,[n("button",{class:"mr-2 btn-grey",type:"button",onClick:a[6]||(a[6]=s=>e(t).editTable=!1)},"Back"),j])])):(o(),c(h,{key:2,class:"mt-8"},{default:x(()=>[M,n("button",{class:"rounded-md w-full border border-transparent bg-gray-400 px-8 py-3 text-base font-medium text-white hover:bg-secondary hover:text-white md:py-3 md:px-10 md:text-lg ml-2",onClick:a[7]||(a[7]=s=>k.$emit("closeModal"))}," Close ")]),_:1}))],40,A))}}});export{ee as _};
