import{d as x,v as b,k as e,o as r,c as i,i as n,j as l,D as u,L as k,l as w,w as S}from"./index.6223a65c.js";import{a as T,b as c,_ as h}from"./CheckBoxField.vue_vue_type_script_setup_true_lang.c7674399.js";import{u as $}from"./TableStore.ed7c5809.js";import{_ as v}from"./InputField.vue_vue_type_script_setup_true_lang.f83c3aaa.js";import{u as C,r as _,m as P,a as L}from"./index.esm.db19b367.js";import{P as N}from"./PreLoader.e3fb3ec5.js";import{T as m}from"./PlayerStore.3cf15375.js";const E=[{id:m.PAUSE,name:"Pause"},{id:m.FINISH,name:"Finish"},{id:m.PLAYING,name:"Playing"},{id:m.WAITING,name:"Waiting"},{id:m.PLAYER_DISCONNECTED,name:"Player Disconnected"},{id:m.PLAYER_LEAVE,name:"Player Leave"}],I=["onSubmit"],D={key:0,class:"grid grid-cols-2"},A={class:"col-span-2 mb-3"},B={class:"col-span-2"},V={key:0,class:"col-span-2"},G={key:1,class:"col-span-2 mb-3"},q={key:2,class:"col-span-2 mb-3"},F={key:1},M={class:"flex justify-center mt-8"},U=n("button",{class:"btn-green",type:"submit"},"Submit",-1),Y=n("button",{type:"submit",class:"rounded-md w-full border border-transparent bg-primary text-white px-8 py-3 text-base font-medium hover:bg-secondary hover:text-white md:py-3 md:px-10 md:text-lg"}," Submit ",-1),j={key:1},Z=x({__name:"TableForm",emits:["submit","closeModal"],setup(R,{emit:W}){const t=$(),o=b(()=>t.editTable?t.edit:t.table),y=b(()=>({name:{required:_,minLength:P(4)},password:{requiredIf:L(()=>t.table.private)},game:{required:_}})),d=C(y,t.editTable?t.edit:t.table),f=async()=>{t.editTable?t._update():(await d.value.$validate(),d.value.$error||(d.value.$reset(),t._submit()))};return(g,a)=>{var p;return e(t).loadingStatus?(r(),i("div",j,[l(N)])):(r(),i("form",{key:0,class:"px-4 py-8",onSubmit:S(f,["prevent"])},[e(o)?(r(),i("div",D,[n("div",A,[l(v,{input:e(o).name,title:"Name",errors:e(d).name.$errors,onChange:a[0]||(a[0]=s=>e(o).name=s)},null,8,["input","errors"])]),n("div",B,[l(T,{title:"Private",input:e(o).private,class:"mb-3",onChange:a[1]||(a[1]=s=>e(o).private=s)},null,8,["input"])]),e(o).private?(r(),i("div",V,[l(v,{input:e(o).password?e(o).password:"",type:"password",title:"Password",errors:e(d).password.$errors,onChange:a[2]||(a[2]=s=>e(o).password=s)},null,8,["input","errors"])])):u("",!0),e(t).games?(r(),i("div",G,[l(c,{title:"Game",input:e(t).editTable?{value:(p=e(t).edit.game)==null?void 0:p.id}:{value:e(t).table.game},options:e(t).games.map(s=>({id:s.id,name:s.name})),onUpdate:a[3]||(a[3]=s=>e(t).updateSelectedGame(s)),errors:e(d).game.$errors},null,8,["input","options","errors"])])):u("",!0),e(t).editTable?(r(),i("div",q,[l(c,{title:"Status",input:{value:e(t).edit.status},options:e(E).map(s=>({id:s.id,name:s.name})),onUpdate:a[4]||(a[4]=s=>e(t).edit.status=s)},null,8,["input","options"])])):u("",!0)])):u("",!0),e(t).editTable?(r(),i("div",F,[e(t).role==="admin"?(r(),i("button",{key:0,title:"Delete Table Settings",class:"text-red-500 cursor-pointer hover:text-red-700",onClick:a[5]||(a[5]=s=>e(t)._deleteTableDetails())},"Delete table data (users, decks, cards) expect the table")):u("",!0),n("div",M,[n("button",{class:"mr-2 btn-grey",type:"button",onClick:a[6]||(a[6]=s=>e(t).editTable=!1)},"Back"),U])])):(r(),k(h,{key:2,class:"mt-8"},{default:w(()=>[Y,n("button",{type:"button",class:"rounded-md w-full border border-transparent bg-gray-400 px-8 py-3 text-base font-medium text-white hover:bg-secondary hover:text-white md:py-3 md:px-10 md:text-lg ml-2",onClick:a[7]||(a[7]=s=>g.$emit("closeModal"))}," Close ")]),_:1}))],40,I))}}});export{E as S,Z as _};
