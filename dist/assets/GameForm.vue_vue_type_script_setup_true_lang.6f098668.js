import{d as fe,o as k,c as L,h as b,B as X,F as G,k as Ce,C as T,e as B,G as Z,H as ie,K as pe,L as U,i as D,w as W,X as Je,V as Re,Y as vt,S as ae,l as Te,t as O,n as J,A as _e,b as at,j as n,D as $t,I as Ft,a as Bt,Z as Rt}from"./index.afe561d7.js";import{_ as et}from"./PrimaryButton.vue_vue_type_script_setup_true_lang.b18fe85a.js";import{_ as De,b as Qe,a as tt}from"./CheckBoxField.vue_vue_type_script_setup_true_lang.529dfc7b.js";import{u as Ae,H as we}from"./GameStore.b318768d.js";import{_ as be}from"./InputField.vue_vue_type_script_setup_true_lang.5253394b.js";import{_ as _t}from"./_plugin-vue_export-helper.cdc0426e.js";import{R as ft,_ as ve,a as At}from"./RemoveButton.6a93848e.js";import{D as pt}from"./DeckType.enum.90a9c7f8.js";import{u as Mt,r as Le,n as Ge,m as $e}from"./index.esm.d85b393f.js";import{P as jt}from"./PreLoader.60a7f53a.js";const Nt={key:0,"aria-hidden":"true",class:"w-4 h-4 ml-2 sm:ml-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},Vt=b("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M13 5l7 7-7 7M5 5l7 7-7 7"},null,-1),xt=[Vt],Kt=fe({__name:"StepFormItem",props:{active:{type:Boolean,require:!0},index:{type:Number,require:!0},title:{type:String,require:!0},lastItem:{type:Boolean,require:!1,default:!1}},setup(e){return(s,t)=>(k(),L("li",{class:G(["flex items-center",e.active?"text-primary":""])},[b("span",{class:G(["flex items-center justify-center w-5 h-5 mr-2 text-xs border rounded-full shrink-0",e.active?"border-primary":"border-gray-400"])},X(e.index),3),Ce(" "+X(e.title)+" ",1),e.lastItem?T("",!0):(k(),L("svg",Nt,xt))],2))}}),Ht={class:"flex items-center w-full p-3 space-x-2 text-sm font-medium text-center rounded-lg shadow-sm text-gray-400 sm:text-base bg-dark border-dark sm:p-4 sm:space-x-4"},Ut=fe({__name:"StepForm",props:{activeItem:{type:Number,require:!0,default:1},loading:{type:Boolean,default:!1}},emits:["increase","decrease"],setup(e,{emit:s}){const t=B([{index:1,title:"Game"},{index:2,title:"More Settings"},{index:3,title:"Starting Cards"}]);return(u,r)=>(k(),L(Z,null,[b("ol",Ht,[(k(!0),L(Z,null,ie(t.value,h=>(k(),pe(Kt,{key:h.index,index:h.index,title:h.title,active:e.activeItem===h.index,"last-item":h.index===t.value.length},null,8,["index","title","active","last-item"]))),128))]),U(u.$slots,"default"),D(De,{justify:"between",gap:8,class:"mt-10"},{default:W(()=>[D(et,{title:"Previous",disable:e.activeItem===1,onClick:r[0]||(r[0]=h=>e.activeItem>1?u.$emit("decrease",e.activeItem-1):"")},null,8,["disable"]),D(et,{title:e.activeItem!==t.value.length?"Next":"Submit",type:"submit",loading:e.loading},null,8,["title","loading"])]),_:1})],64))}});function re(e){return[null,void 0].indexOf(e)!==-1}function Wt(e,s,t){const{object:u,valueProp:r,mode:h}=ae(e),l=Te().proxy,m=t.iv,y=(i,o=!0)=>{m.value=p(i);const c=g(i);s.emit("change",c,l),o&&(s.emit("input",c),s.emit("update:modelValue",c))},g=i=>u.value||re(i)?i:Array.isArray(i)?i.map(o=>o[r.value]):i[r.value],p=i=>re(i)?h.value==="single"?{}:[]:i;return{update:y}}function Yt(e,s){const{value:t,modelValue:u,mode:r,valueProp:h}=ae(e),l=B(r.value!=="single"?[]:{}),m=u&&u.value!==void 0?u:t,y=O(()=>r.value==="single"?l.value[h.value]:l.value.map(p=>p[h.value])),g=O(()=>r.value!=="single"?l.value.map(p=>p[h.value]).join(","):l.value[h.value]);return{iv:l,internalValue:l,ev:m,externalValue:m,textValue:g,plainValue:y}}function zt(e,s,t){const{regex:u}=ae(e),r=Te().proxy,h=t.isOpen,l=t.open,m=B(null),y=B(null),g=()=>{m.value=""},p=c=>{m.value=c.target.value},i=c=>{if(u&&u.value){let P=u.value;typeof P=="string"&&(P=new RegExp(P)),c.key.match(P)||c.preventDefault()}},o=c=>{if(u&&u.value){let M=(c.clipboardData||window.clipboardData).getData("Text"),S=u.value;typeof S=="string"&&(S=new RegExp(S)),M.split("").every(j=>!!j.match(S))||c.preventDefault()}s.emit("paste",c,r)};return J(m,c=>{!h.value&&c&&l(),s.emit("search-change",c,r)}),{search:m,input:y,clearSearch:g,handleSearchInput:p,handleKeypress:i,handlePaste:o}}function Xt(e,s,t){const{groupSelect:u,mode:r,groups:h,disabledProp:l}=ae(e),m=B(null),y=p=>{p===void 0||p!==null&&p[l.value]||h.value&&p&&p.group&&(r.value==="single"||!u.value)||(m.value=p)};return{pointer:m,setPointer:y,clearPointer:()=>{y(null)}}}function Fe(e,s=!0){return s?String(e).toLowerCase().trim():String(e).toLowerCase().normalize("NFD").trim().replace(new RegExp(/æ/g),"ae").replace(new RegExp(/œ/g),"oe").replace(new RegExp(/ø/g),"o").replace(/\p{Diacritic}/gu,"")}function Zt(e){return Object.prototype.toString.call(e)==="[object Object]"}function Jt(e,s){const t=s.slice().sort();return e.length===s.length&&e.slice().sort().every(function(u,r){return u===t[r]})}function Qt(e,s,t){const{options:u,mode:r,trackBy:h,limit:l,hideSelected:m,createTag:y,createOption:g,label:p,appendNewTag:i,appendNewOption:o,multipleLabel:c,object:P,loading:M,delay:S,resolveOnLoad:j,minChars:f,filterResults:F,clearOnSearch:x,clearOnSelect:_,valueProp:C,canDeselect:Q,max:N,strict:K,closeOnSelect:ee,groups:se,reverse:w,infinite:R,groupOptions:z,groupHideEmpty:ue,groupSelect:Ie,onCreate:ye,disabledProp:E,searchStart:Y}=ae(e),A=Te().proxy,q=t.iv,le=t.ev,V=t.search,he=t.clearSearch,d=t.update,$=t.pointer,te=t.clearPointer,Me=t.focus,mt=t.deactivate,je=t.close,Ne=B([]),oe=B([]),ne=B(!1),Ve=B(null),xe=B(R.value&&l.value===-1?10:l.value),st=O(()=>y.value||g.value||!1),gt=O(()=>i.value!==void 0?i.value:o.value!==void 0?o.value:!0),me=O(()=>{if(se.value){let a=oe.value||[],v=[];return a.forEach(I=>{Xe(I[z.value]).forEach(H=>{v.push(Object.assign({},H,I[E.value]?{[E.value]:!0}:{}))})}),v}else{let a=Xe(oe.value||[]);return Ne.value.length&&(a=a.concat(Ne.value)),a}}),nt=O(()=>se.value?Et((oe.value||[]).map((a,v)=>{const I=Xe(a[z.value]);return{...a,index:v,group:!0,[z.value]:ze(I,!1).map(H=>Object.assign({},H,a[E.value]?{[E.value]:!0}:{})),__VISIBLE__:ze(I).map(H=>Object.assign({},H,a[E.value]?{[E.value]:!0}:{}))}})):[]),rt=O(()=>{let a=me.value;return w.value&&(a=a.reverse()),He.value.length&&(a=He.value.concat(a)),ze(a)}),Oe=O(()=>{let a=rt.value;return xe.value>0&&(a=a.slice(0,xe.value)),a}),Ke=O(()=>{switch(r.value){case"single":return!re(q.value[C.value]);case"multiple":case"tags":return!re(q.value)&&q.value.length>0}}),ht=O(()=>c!==void 0&&c.value!==void 0?c.value(q.value,A):q.value&&q.value.length>1?`${q.value.length} options selected`:"1 option selected"),bt=O(()=>!me.value.length&&!ne.value&&!He.value.length),yt=O(()=>me.value.length>0&&Oe.value.length==0&&(V.value&&se.value||!se.value)),He=O(()=>st.value===!1||!V.value?[]:It(V.value)!==-1?[]:[{[C.value]:V.value,[p.value]:V.value,[de.value]:V.value,__CREATE__:!0}]),de=O(()=>h.value||p.value),kt=O(()=>{switch(r.value){case"single":return null;case"multiple":case"tags":return[]}}),St=O(()=>M.value||ne.value),ke=a=>{switch(typeof a!="object"&&(a=ce(a)),r.value){case"single":d(a);break;case"multiple":case"tags":d(q.value.concat(a));break}s.emit("select",it(a),a,A)},Se=a=>{switch(typeof a!="object"&&(a=ce(a)),r.value){case"single":ot();break;case"tags":case"multiple":d(Array.isArray(a)?q.value.filter(v=>a.map(I=>I[C.value]).indexOf(v[C.value])===-1):q.value.filter(v=>v[C.value]!=a[C.value]));break}s.emit("deselect",it(a),a,A)},it=a=>P.value?a:a[C.value],ut=a=>{Se(a)},wt=(a,v)=>{if(v.button!==0){v.preventDefault();return}ut(a)},ot=()=>{s.emit("clear",A),d(kt.value)},ge=a=>{if(a.group!==void 0)return r.value==="single"?!1:Dt(a[z.value])&&a[z.value].length;switch(r.value){case"single":return!re(q.value)&&q.value[C.value]==a[C.value];case"tags":case"multiple":return!re(q.value)&&q.value.map(v=>v[C.value]).indexOf(a[C.value])!==-1}},Ue=a=>a[E.value]===!0,We=()=>N===void 0||N.value===-1||!Ke.value&&N.value>0?!1:q.value.length>=N.value,Ot=a=>{if(!Ue(a)){if(ye&&ye.value&&!ge(a)&&a.__CREATE__&&(a={...a},delete a.__CREATE__,a=ye.value(a,A),a instanceof Promise)){ne.value=!0,a.then(v=>{ne.value=!1,dt(v)});return}dt(a)}},dt=a=>{switch(a.__CREATE__&&(a={...a},delete a.__CREATE__),r.value){case"single":if(a&&ge(a)){Q.value&&Se(a);return}a&&Ye(a),_.value&&he(),ee.value&&(te(),je()),a&&ke(a);break;case"multiple":if(a&&ge(a)){Se(a);return}if(We()){s.emit("max",A);return}a&&(Ye(a),ke(a)),_.value&&he(),m.value&&te(),ee.value&&je();break;case"tags":if(a&&ge(a)){Se(a);return}if(We()){s.emit("max",A);return}a&&Ye(a),_.value&&he(),a&&ke(a),m.value&&te(),ee.value&&je();break}ee.value||Me()},Lt=a=>{if(!(Ue(a)||r.value==="single"||!Ie.value)){switch(r.value){case"multiple":case"tags":Tt(a[z.value])?Se(a[z.value]):ke(a[z.value].filter(v=>q.value.map(I=>I[C.value]).indexOf(v[C.value])===-1).filter(v=>!v[E.value]).filter((v,I)=>q.value.length+1+I<=N.value||N.value===-1));break}ee.value&&mt()}},Ye=a=>{ce(a[C.value])===void 0&&st.value&&(s.emit("tag",a[C.value],A),s.emit("option",a[C.value],A),gt.value&&qt(a),he())},Ct=()=>{r.value!=="single"&&ke(Oe.value)},Tt=a=>a.find(v=>!ge(v)&&!v[E.value])===void 0,Dt=a=>a.find(v=>!ge(v))===void 0,ce=a=>me.value[me.value.map(v=>String(v[C.value])).indexOf(String(a))],It=(a,v=!0)=>me.value.map(I=>parseInt(I[de.value])==I[de.value]?parseInt(I[de.value]):I[de.value]).indexOf(parseInt(a)==a?parseInt(a):a),Pt=a=>["tags","multiple"].indexOf(r.value)!==-1&&m.value&&ge(a),qt=a=>{Ne.value.push(a)},Et=a=>ue.value?a.filter(v=>V.value?v.__VISIBLE__.length:v[z.value].length):a.filter(v=>V.value?v.__VISIBLE__.length:!0),ze=(a,v=!0)=>{let I=a;return V.value&&F.value&&(I=I.filter(H=>Y.value?Fe(H[de.value],K.value).startsWith(Fe(V.value,K.value)):Fe(H[de.value],K.value).indexOf(Fe(V.value,K.value))!==-1)),m.value&&v&&(I=I.filter(H=>!Pt(H))),I},Xe=a=>{let v=a;return Zt(v)&&(v=Object.keys(v).map(I=>{let H=v[I];return{[C.value]:I,[de.value]:H,[p.value]:H}})),v=v.map(I=>typeof I=="object"?I:{[C.value]:I,[de.value]:I,[p.value]:I}),v},Pe=()=>{re(le.value)||(q.value=Ee(le.value))},qe=a=>(ne.value=!0,new Promise((v,I)=>{u.value(V.value,A).then(H=>{oe.value=H||[],typeof a=="function"&&a(H),ne.value=!1}).catch(H=>{console.error(H),oe.value=[],ne.value=!1}).finally(()=>{v()})})),Ze=()=>{if(!!Ke.value)if(r.value==="single"){let a=ce(q.value[C.value]);if(a!==void 0){let v=a[p.value];q.value[p.value]=v,P.value&&(le.value[p.value]=v)}}else q.value.forEach((a,v)=>{let I=ce(q.value[v][C.value]);if(I!==void 0){let H=I[p.value];q.value[v][p.value]=H,P.value&&(le.value[v][p.value]=H)}})},Gt=a=>{qe(a)},Ee=a=>re(a)?r.value==="single"?{}:[]:P.value?a:r.value==="single"?ce(a)||{}:a.filter(v=>!!ce(v)).map(v=>ce(v)),ct=()=>{Ve.value=J(V,a=>{a.length<f.value||!a&&f.value!==0||(ne.value=!0,x.value&&(oe.value=[]),setTimeout(()=>{a==V.value&&u.value(V.value,A).then(v=>{(a==V.value||!V.value)&&(oe.value=v,$.value=Oe.value.filter(I=>I[E.value]!==!0)[0]||null,ne.value=!1)}).catch(v=>{console.error(v)})},S.value))},{flush:"sync"})};if(r.value!=="single"&&!re(le.value)&&!Array.isArray(le.value))throw new Error(`v-model must be an array when using "${r.value}" mode`);return u&&typeof u.value=="function"?j.value?qe(Pe):P.value==!0&&Pe():(oe.value=u.value,Pe()),S.value>-1&&ct(),J(S,(a,v)=>{Ve.value&&Ve.value(),a>=0&&ct()}),J(le,a=>{if(re(a)){d(Ee(a),!1);return}switch(r.value){case"single":(P.value?a[C.value]!=q.value[C.value]:a!=q.value[C.value])&&d(Ee(a),!1);break;case"multiple":case"tags":Jt(P.value?a.map(v=>v[C.value]):a,q.value.map(v=>v[C.value]))||d(Ee(a),!1);break}},{deep:!0}),J(u,(a,v)=>{typeof e.options=="function"?j.value&&(!v||a&&a.toString()!==v.toString())&&qe():(oe.value=e.options,Object.keys(q.value).length||Pe(),Ze())}),J(p,Ze),{pfo:rt,fo:Oe,filteredOptions:Oe,hasSelected:Ke,multipleLabelText:ht,eo:me,extendedOptions:me,fg:nt,filteredGroups:nt,noOptions:bt,noResults:yt,resolving:ne,busy:St,offset:xe,select:ke,deselect:Se,remove:ut,selectAll:Ct,clear:ot,isSelected:ge,isDisabled:Ue,isMax:We,getOption:ce,handleOptionClick:Ot,handleGroupClick:Lt,handleTagRemove:wt,refreshOptions:Gt,resolveOptions:qe,refreshLabels:Ze}}function ea(e,s,t){const{valueProp:u,showOptions:r,searchable:h,groupLabel:l,groups:m,mode:y,groupSelect:g,disabledProp:p}=ae(e),i=t.fo,o=t.fg,c=t.handleOptionClick,P=t.handleGroupClick,M=t.search,S=t.pointer,j=t.setPointer,f=t.clearPointer,F=t.multiselect,x=t.isOpen,_=O(()=>i.value.filter(d=>!d[p.value])),C=O(()=>o.value.filter(d=>!d[p.value])),Q=O(()=>y.value!=="single"&&g.value),N=O(()=>S.value&&S.value.group),K=O(()=>V(S.value)),ee=O(()=>{const d=N.value?S.value:V(S.value),$=C.value.map(Me=>Me[l.value]).indexOf(d[l.value]);let te=C.value[$-1];return te===void 0&&(te=w.value),te}),se=O(()=>{let d=C.value.map($=>$.label).indexOf(N.value?S.value[l.value]:V(S.value)[l.value])+1;return C.value.length<=d&&(d=0),C.value[d]}),w=O(()=>[...C.value].slice(-1)[0]),R=O(()=>S.value.__VISIBLE__.filter(d=>!d[p.value])[0]),z=O(()=>{const d=K.value.__VISIBLE__.filter($=>!$[p.value]);return d[d.map($=>$[u.value]).indexOf(S.value[u.value])-1]}),ue=O(()=>{const d=V(S.value).__VISIBLE__.filter($=>!$[p.value]);return d[d.map($=>$[u.value]).indexOf(S.value[u.value])+1]}),Ie=O(()=>[...ee.value.__VISIBLE__.filter(d=>!d[p.value])].slice(-1)[0]),ye=O(()=>[...w.value.__VISIBLE__.filter(d=>!d[p.value])].slice(-1)[0]),E=d=>!!S.value&&(!d.group&&S.value[u.value]==d[u.value]||d.group!==void 0&&S.value[l.value]==d[l.value])?!0:void 0,Y=()=>{j(_.value[0]||null)},A=()=>{!S.value||S.value[p.value]===!0||(N.value?P(S.value):c(S.value))},q=()=>{if(S.value===null)j((m.value&&Q.value?C.value[0]:_.value[0])||null);else if(m.value&&Q.value){let d=N.value?R.value:ue.value;d===void 0&&(d=se.value),j(d||null)}else{let d=_.value.map($=>$[u.value]).indexOf(S.value[u.value])+1;_.value.length<=d&&(d=0),j(_.value[d]||null)}_e(()=>{he()})},le=()=>{if(S.value===null){let d=_.value[_.value.length-1];m.value&&Q.value&&(d=ye.value,d===void 0&&(d=w.value)),j(d||null)}else if(m.value&&Q.value){let d=N.value?Ie.value:z.value;d===void 0&&(d=N.value?ee.value:K.value),j(d||null)}else{let d=_.value.map($=>$[u.value]).indexOf(S.value[u.value])-1;d<0&&(d=_.value.length-1),j(_.value[d]||null)}_e(()=>{he()})},V=d=>C.value.find($=>$.__VISIBLE__.map(te=>te[u.value]).indexOf(d[u.value])!==-1),he=()=>{let d=F.value.querySelector("[data-pointed]");if(!d)return;let $=d.parentElement.parentElement;m.value&&($=N.value?d.parentElement.parentElement.parentElement:d.parentElement.parentElement.parentElement.parentElement),d.offsetTop+d.offsetHeight>$.clientHeight+$.scrollTop&&($.scrollTop=d.offsetTop+d.offsetHeight-$.clientHeight),d.offsetTop<$.scrollTop&&($.scrollTop=d.offsetTop)};return J(M,d=>{h.value&&(d.length&&r.value?Y():f())}),J(x,d=>{if(d){let $=F.value.querySelectorAll("[data-selected]")[0];if(!$)return;let te=$.parentElement.parentElement;_e(()=>{te.scrollTop>0||(te.scrollTop=$.offsetTop)})}}),{pointer:S,canPointGroups:Q,isPointed:E,setPointerFirst:Y,selectPointer:A,forwardPointer:q,backwardPointer:le}}function ta(e,s,t){const{disabled:u}=ae(e),r=Te().proxy,h=B(!1);return{isOpen:h,open:()=>{h.value||u.value||(h.value=!0,s.emit("open",r))},close:()=>{!h.value||(h.value=!1,s.emit("close",r))}}}function aa(e,s,t){const{searchable:u,disabled:r,clearOnBlur:h}=ae(e),l=t.input,m=t.open,y=t.close,g=t.clearSearch,p=t.isOpen,i=B(null),o=B(null),c=B(null),P=B(!1),M=B(!1),S=O(()=>u.value||r.value?-1:0),j=()=>{u.value&&l.value.blur(),o.value.blur()},f=()=>{u.value&&!r.value&&l.value.focus()},F=(K=!0)=>{r.value||(P.value=!0,K&&m())},x=()=>{P.value=!1,setTimeout(()=>{P.value||(y(),h.value&&g())},1)};return{multiselect:i,wrapper:o,tags:c,tabindex:S,isActive:P,mouseClicked:M,blur:j,focus:f,activate:F,deactivate:x,handleFocusIn:K=>{K.target.closest("[data-tags]")&&K.target.nodeName!=="INPUT"||K.target.closest("[data-clear]")||F(M.value)},handleFocusOut:()=>{x()},handleCaretClick:()=>{x(),j()},handleMousedown:K=>{M.value=!0,p.value&&(K.target.isEqualNode(o.value)||K.target.isEqualNode(c.value))?setTimeout(()=>{x()},0):document.activeElement.isEqualNode(o.value)&&!p.value&&F(),setTimeout(()=>{M.value=!1},0)}}}function la(e,s,t){const{mode:u,addTagOn:r,openDirection:h,searchable:l,showOptions:m,valueProp:y,groups:g,addOptionOn:p,createTag:i,createOption:o,reverse:c}=ae(e),P=Te().proxy,M=t.iv,S=t.update,j=t.search,f=t.setPointer,F=t.selectPointer,x=t.backwardPointer,_=t.forwardPointer,C=t.multiselect,Q=t.wrapper,N=t.tags,K=t.isOpen,ee=t.open,se=t.blur,w=t.fo,R=O(()=>i.value||o.value||!1),z=O(()=>r.value!==void 0?r.value:p.value!==void 0?p.value:["enter"]),ue=()=>{u.value==="tags"&&!m.value&&R.value&&l.value&&!g.value&&f(w.value[w.value.map(E=>E[y.value]).indexOf(j.value)])};return{handleKeydown:E=>{s.emit("keydown",E,P);let Y,A;switch(["ArrowLeft","ArrowRight","Enter"].indexOf(E.key)!==-1&&u.value==="tags"&&(Y=[...C.value.querySelectorAll("[data-tags] > *")].filter(q=>q!==N.value),A=Y.findIndex(q=>q===document.activeElement)),E.key){case"Backspace":if(u.value==="single"||l.value&&[null,""].indexOf(j.value)===-1||M.value.length===0)return;S([...M.value].slice(0,-1));break;case"Enter":if(E.preventDefault(),E.keyCode===229)return;if(A!==-1&&A!==void 0){S([...M.value].filter((q,le)=>le!==A)),A===Y.length-1&&(Y.length-1?Y[Y.length-2].focus():l.value?N.value.querySelector("input").focus():Q.value.focus());return}if(z.value.indexOf("enter")===-1&&R.value)return;ue(),F();break;case" ":if(!R.value&&!l.value){E.preventDefault(),ue(),F();return}if(!R.value)return!1;if(z.value.indexOf("space")===-1&&R.value)return;E.preventDefault(),ue(),F();break;case"Tab":case";":case",":if(z.value.indexOf(E.key.toLowerCase())===-1||!R.value)return;ue(),F(),E.preventDefault();break;case"Escape":se();break;case"ArrowUp":if(E.preventDefault(),!m.value)return;K.value||ee(),x();break;case"ArrowDown":if(E.preventDefault(),!m.value)return;K.value||ee(),_();break;case"ArrowLeft":if(l.value&&N.value&&N.value.querySelector("input").selectionStart||E.shiftKey||u.value!=="tags"||!M.value||!M.value.length)return;E.preventDefault(),A===-1?Y[Y.length-1].focus():A>0&&Y[A-1].focus();break;case"ArrowRight":if(A===-1||E.shiftKey||u.value!=="tags"||!M.value||!M.value.length)return;E.preventDefault(),Y.length>A+1?Y[A+1].focus():l.value?N.value.querySelector("input").focus():l.value||Q.value.focus();break}},handleKeyup:E=>{s.emit("keyup",E,P)},preparePointer:ue}}function sa(e,s,t){const{classes:u,disabled:r,openDirection:h,showOptions:l}=ae(e),m=t.isOpen,y=t.isPointed,g=t.isSelected,p=t.isDisabled,i=t.isActive,o=t.canPointGroups,c=t.resolving,P=t.fo,M=O(()=>({container:"multiselect",containerDisabled:"is-disabled",containerOpen:"is-open",containerOpenTop:"is-open-top",containerActive:"is-active",wrapper:"multiselect-wrapper",singleLabel:"multiselect-single-label",singleLabelText:"multiselect-single-label-text",multipleLabel:"multiselect-multiple-label",search:"multiselect-search",tags:"multiselect-tags",tag:"multiselect-tag",tagDisabled:"is-disabled",tagRemove:"multiselect-tag-remove",tagRemoveIcon:"multiselect-tag-remove-icon",tagsSearchWrapper:"multiselect-tags-search-wrapper",tagsSearch:"multiselect-tags-search",tagsSearchCopy:"multiselect-tags-search-copy",placeholder:"multiselect-placeholder",caret:"multiselect-caret",caretOpen:"is-open",clear:"multiselect-clear",clearIcon:"multiselect-clear-icon",spinner:"multiselect-spinner",inifinite:"multiselect-inifite",inifiniteSpinner:"multiselect-inifite-spinner",dropdown:"multiselect-dropdown",dropdownTop:"is-top",dropdownHidden:"is-hidden",options:"multiselect-options",optionsTop:"is-top",group:"multiselect-group",groupLabel:"multiselect-group-label",groupLabelPointable:"is-pointable",groupLabelPointed:"is-pointed",groupLabelSelected:"is-selected",groupLabelDisabled:"is-disabled",groupLabelSelectedPointed:"is-selected is-pointed",groupLabelSelectedDisabled:"is-selected is-disabled",groupOptions:"multiselect-group-options",option:"multiselect-option",optionPointed:"is-pointed",optionSelected:"is-selected",optionDisabled:"is-disabled",optionSelectedPointed:"is-selected is-pointed",optionSelectedDisabled:"is-selected is-disabled",noOptions:"multiselect-no-options",noResults:"multiselect-no-results",fakeInput:"multiselect-fake-input",assist:"multiselect-assistive-text",spacer:"multiselect-spacer",...u.value})),S=O(()=>!!(m.value&&l.value&&(!c.value||c.value&&P.value.length)));return{classList:O(()=>{const f=M.value;return{container:[f.container].concat(r.value?f.containerDisabled:[]).concat(S.value&&h.value==="top"?f.containerOpenTop:[]).concat(S.value&&h.value!=="top"?f.containerOpen:[]).concat(i.value?f.containerActive:[]),wrapper:f.wrapper,spacer:f.spacer,singleLabel:f.singleLabel,singleLabelText:f.singleLabelText,multipleLabel:f.multipleLabel,search:f.search,tags:f.tags,tag:[f.tag].concat(r.value?f.tagDisabled:[]),tagRemove:f.tagRemove,tagRemoveIcon:f.tagRemoveIcon,tagsSearchWrapper:f.tagsSearchWrapper,tagsSearch:f.tagsSearch,tagsSearchCopy:f.tagsSearchCopy,placeholder:f.placeholder,caret:[f.caret].concat(m.value?f.caretOpen:[]),clear:f.clear,clearIcon:f.clearIcon,spinner:f.spinner,inifinite:f.inifinite,inifiniteSpinner:f.inifiniteSpinner,dropdown:[f.dropdown].concat(h.value==="top"?f.dropdownTop:[]).concat(!m.value||!l.value||!S.value?f.dropdownHidden:[]),options:[f.options].concat(h.value==="top"?f.optionsTop:[]),group:f.group,groupLabel:F=>{let x=[f.groupLabel];return y(F)?x.push(g(F)?f.groupLabelSelectedPointed:f.groupLabelPointed):g(F)&&o.value?x.push(p(F)?f.groupLabelSelectedDisabled:f.groupLabelSelected):p(F)&&x.push(f.groupLabelDisabled),o.value&&x.push(f.groupLabelPointable),x},groupOptions:f.groupOptions,option:(F,x)=>{let _=[f.option];return y(F)?_.push(g(F)?f.optionSelectedPointed:f.optionPointed):g(F)?_.push(p(F)?f.optionSelectedDisabled:f.optionSelected):(p(F)||x&&p(x))&&_.push(f.optionDisabled),_},noOptions:f.noOptions,noResults:f.noResults,assist:f.assist,fakeInput:f.fakeInput}}),showDropdown:S}}function na(e,s,t){const{limit:u,infinite:r}=ae(e),h=t.isOpen,l=t.offset,m=t.search,y=t.pfo,g=t.eo,p=B(null),i=B(null),o=O(()=>l.value<y.value.length),c=M=>{const{isIntersecting:S,target:j}=M[0];if(S){const f=j.offsetParent,F=f.scrollTop;l.value+=u.value==-1?10:u.value,_e(()=>{f.scrollTop=F})}},P=()=>{h.value&&l.value<y.value.length?p.value.observe(i.value):!h.value&&p.value&&p.value.disconnect()};return J(h,()=>{!r.value||P()}),J(m,()=>{!r.value||(l.value=u.value,P())},{flush:"post"}),J(g,()=>{!r.value||P()},{immediate:!1,flush:"post"}),at(()=>{window&&window.IntersectionObserver&&(p.value=new IntersectionObserver(c))}),{hasMore:o,infiniteLoader:i}}function ra(e,s,t){const{placeholder:u,id:r,valueProp:h,label:l,mode:m,groupLabel:y,aria:g,searchable:p}=ae(e),i=t.pointer,o=t.iv,c=t.hasSelected,P=t.multipleLabelText,M=B(null),S=O(()=>{let w=[];return r&&r.value&&w.push(r.value),w.push("assist"),w.join("-")}),j=O(()=>{let w=[];return r&&r.value&&w.push(r.value),w.push("multiselect-options"),w.join("-")}),f=O(()=>{let w=[];if(r&&r.value&&w.push(r.value),i.value)return w.push(i.value.group?"multiselect-group":"multiselect-option"),w.push(i.value.group?i.value.index:i.value[h.value]),w.join("-")}),F=O(()=>u.value),x=O(()=>m.value!=="single"),_=O(()=>{let w="";return m.value==="single"&&c.value&&(w+=o.value[l.value]),m.value==="multiple"&&c.value&&(w+=P.value),m.value==="tags"&&c.value&&(w+=o.value.map(R=>R[l.value]).join(", ")),w}),C=O(()=>{let w={...g.value};return p.value&&(w["aria-labelledby"]=w["aria-labelledby"]?`${S.value} ${w["aria-labelledby"]}`:S.value,_.value&&w["aria-label"]&&(w["aria-label"]=`${_.value}, ${w["aria-label"]}`)),w}),Q=w=>{let R=[];return r&&r.value&&R.push(r.value),R.push("multiselect-option"),R.push(w[h.value]),R.join("-")},N=w=>{let R=[];return r&&r.value&&R.push(r.value),R.push("multiselect-group"),R.push(w.index),R.join("-")},K=w=>{let R=[];return R.push(w[l.value]),R.join(" ")},ee=w=>{let R=[];return R.push(w[y.value]),R.join(" ")},se=w=>`${w} \u274E`;return at(()=>{if(r&&r.value&&document&&document.querySelector){let w=document.querySelector(`[for="${r.value}"]`);M.value=w?w.innerText:null}}),{arias:C,ariaLabel:_,ariaAssist:S,ariaControls:j,ariaPlaceholder:F,ariaMultiselectable:x,ariaActiveDescendant:f,ariaOptionId:Q,ariaOptionLabel:K,ariaGroupId:N,ariaGroupLabel:ee,ariaTagLabel:se}}function ia(e,s,t,u={}){return t.forEach(r=>{r&&(u={...u,...r(e,s,u)})}),u}var lt={name:"Multiselect",emits:["paste","open","close","select","deselect","input","search-change","tag","option","update:modelValue","change","clear","keydown","keyup","max"],props:{value:{required:!1},modelValue:{required:!1},options:{type:[Array,Object,Function],required:!1,default:()=>[]},id:{type:[String,Number],required:!1},name:{type:[String,Number],required:!1,default:"multiselect"},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:"label"},trackBy:{type:String,required:!1,default:void 0},valueProp:{type:String,required:!1,default:"value"},placeholder:{type:String,required:!1,default:null},mode:{type:String,required:!1,default:"single"},searchable:{type:Boolean,required:!1,default:!1},limit:{type:Number,required:!1,default:-1},hideSelected:{type:Boolean,required:!1,default:!0},createTag:{type:Boolean,required:!1,default:void 0},createOption:{type:Boolean,required:!1,default:void 0},appendNewTag:{type:Boolean,required:!1,default:void 0},appendNewOption:{type:Boolean,required:!1,default:void 0},addTagOn:{type:Array,required:!1,default:void 0},addOptionOn:{type:Array,required:!1,default:void 0},caret:{type:Boolean,required:!1,default:!0},loading:{type:Boolean,required:!1,default:!1},noOptionsText:{type:String,required:!1,default:"The list is empty"},noResultsText:{type:String,required:!1,default:"No results found"},multipleLabel:{type:Function,required:!1},object:{type:Boolean,required:!1,default:!1},delay:{type:Number,required:!1,default:-1},minChars:{type:Number,required:!1,default:0},resolveOnLoad:{type:Boolean,required:!1,default:!0},filterResults:{type:Boolean,required:!1,default:!0},clearOnSearch:{type:Boolean,required:!1,default:!1},clearOnSelect:{type:Boolean,required:!1,default:!0},canDeselect:{type:Boolean,required:!1,default:!0},canClear:{type:Boolean,required:!1,default:!0},max:{type:Number,required:!1,default:-1},showOptions:{type:Boolean,required:!1,default:!0},required:{type:Boolean,required:!1,default:!1},openDirection:{type:String,required:!1,default:"bottom"},nativeSupport:{type:Boolean,required:!1,default:!1},classes:{type:Object,required:!1,default:()=>({})},strict:{type:Boolean,required:!1,default:!0},closeOnSelect:{type:Boolean,required:!1,default:!0},autocomplete:{type:String,required:!1},groups:{type:Boolean,required:!1,default:!1},groupLabel:{type:String,required:!1,default:"label"},groupOptions:{type:String,required:!1,default:"options"},groupHideEmpty:{type:Boolean,required:!1,default:!1},groupSelect:{type:Boolean,required:!1,default:!0},inputType:{type:String,required:!1,default:"text"},attrs:{required:!1,type:Object,default:()=>({})},onCreate:{required:!1,type:Function},disabledProp:{type:String,required:!1,default:"disabled"},searchStart:{type:Boolean,required:!1,default:!1},reverse:{type:Boolean,required:!1,default:!1},regex:{type:[Object,String,RegExp],required:!1,default:void 0},rtl:{type:Boolean,required:!1,default:!1},infinite:{type:Boolean,required:!1,default:!1},aria:{required:!1,type:Object,default:()=>({})},clearOnBlur:{required:!1,type:Boolean,default:!0}},setup(e,s){return ia(e,s,[Yt,Xt,ta,zt,Wt,aa,Qt,na,ea,la,sa,ra])}};const ua=["id","dir"],oa=["tabindex","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable","role"],da=["type","modelValue","value","autocomplete","id","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],ca=["onKeyup","aria-label"],va=["onClick"],pa=["type","modelValue","value","id","autocomplete","aria-controls","aria-placeholder","aria-expanded","aria-activedescendant","aria-multiselectable"],fa=["innerHTML"],ma=["id"],ga=["id","aria-label","aria-selected"],ha=["data-pointed","onMouseenter","onClick"],ba=["innerHTML"],ya=["aria-label"],ka=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],Sa=["data-pointed","data-selected","onMouseenter","onClick","id","aria-selected","aria-label"],wa=["innerHTML"],Oa=["innerHTML"],La=["value"],Ca=["name","value"],Ta=["name","value"],Da=["id"];function Ia(e,s,t,u,r,h){return k(),L("div",{ref:"multiselect",class:G(e.classList.container),id:t.searchable?void 0:t.id,dir:t.rtl?"rtl":void 0,onFocusin:s[10]||(s[10]=(...l)=>e.handleFocusIn&&e.handleFocusIn(...l)),onFocusout:s[11]||(s[11]=(...l)=>e.handleFocusOut&&e.handleFocusOut(...l)),onKeyup:s[12]||(s[12]=(...l)=>e.handleKeyup&&e.handleKeyup(...l)),onKeydown:s[13]||(s[13]=(...l)=>e.handleKeydown&&e.handleKeydown(...l))},[b("div",Je({class:e.classList.wrapper,onMousedown:s[9]||(s[9]=(...l)=>e.handleMousedown&&e.handleMousedown(...l)),ref:"wrapper",tabindex:e.tabindex,"aria-controls":t.searchable?void 0:e.ariaControls,"aria-placeholder":t.searchable?void 0:e.ariaPlaceholder,"aria-expanded":t.searchable?void 0:e.isOpen,"aria-activedescendant":t.searchable?void 0:e.ariaActiveDescendant,"aria-multiselectable":t.searchable?void 0:e.ariaMultiselectable,role:t.searchable?void 0:"combobox"},t.searchable?{}:e.arias),[T(" Search "),t.mode!=="tags"&&t.searchable&&!t.disabled?(k(),L("input",Je({key:0,type:t.inputType,modelValue:e.search,value:e.search,class:e.classList.search,autocomplete:t.autocomplete,id:t.searchable?t.id:void 0,onInput:s[0]||(s[0]=(...l)=>e.handleSearchInput&&e.handleSearchInput(...l)),onKeypress:s[1]||(s[1]=(...l)=>e.handleKeypress&&e.handleKeypress(...l)),onPaste:s[2]||(s[2]=Re((...l)=>e.handlePaste&&e.handlePaste(...l),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...t.attrs,...e.arias}),null,16,da)):T("v-if",!0),T(" Tags (with search) "),t.mode=="tags"?(k(),L("div",{key:1,class:G(e.classList.tags),"data-tags":""},[(k(!0),L(Z,null,ie(e.iv,(l,m,y)=>U(e.$slots,"tag",{option:l,handleTagRemove:e.handleTagRemove,disabled:t.disabled},()=>[(k(),L("span",{class:G(e.classList.tag),tabindex:"-1",onKeyup:vt(g=>e.handleTagRemove(l,g),["enter"]),key:y,"aria-label":e.ariaTagLabel(l[t.label])},[Ce(X(l[t.label])+" ",1),t.disabled?T("v-if",!0):(k(),L("span",{key:0,class:G(e.classList.tagRemove),onClick:Re(g=>e.handleTagRemove(l,g),["stop"])},[b("span",{class:G(e.classList.tagRemoveIcon)},null,2)],10,va))],42,ca))])),256)),b("div",{class:G(e.classList.tagsSearchWrapper),ref:"tags"},[T(" Used for measuring search width "),b("span",{class:G(e.classList.tagsSearchCopy)},X(e.search),3),T(" Actual search input "),t.searchable&&!t.disabled?(k(),L("input",Je({key:0,type:t.inputType,modelValue:e.search,value:e.search,class:e.classList.tagsSearch,id:t.searchable?t.id:void 0,autocomplete:t.autocomplete,onInput:s[3]||(s[3]=(...l)=>e.handleSearchInput&&e.handleSearchInput(...l)),onKeypress:s[4]||(s[4]=(...l)=>e.handleKeypress&&e.handleKeypress(...l)),onPaste:s[5]||(s[5]=Re((...l)=>e.handlePaste&&e.handlePaste(...l),["stop"])),ref:"input","aria-controls":e.ariaControls,"aria-placeholder":e.ariaPlaceholder,"aria-expanded":e.isOpen,"aria-activedescendant":e.ariaActiveDescendant,"aria-multiselectable":e.ariaMultiselectable,role:"combobox"},{...t.attrs,...e.arias}),null,16,pa)):T("v-if",!0)],2)],2)):T("v-if",!0),T(" Single label "),t.mode=="single"&&e.hasSelected&&!e.search&&e.iv?U(e.$slots,"singlelabel",{key:2,value:e.iv},()=>[b("div",{class:G(e.classList.singleLabel)},[b("span",{class:G(e.classList.singleLabelText)},X(e.iv[t.label]),3)],2)]):T("v-if",!0),T(" Multiple label "),t.mode=="multiple"&&e.hasSelected&&!e.search?U(e.$slots,"multiplelabel",{key:3,values:e.iv},()=>[b("div",{class:G(e.classList.multipleLabel),innerHTML:e.multipleLabelText},null,10,fa)]):T("v-if",!0),T(" Placeholder "),t.placeholder&&!e.hasSelected&&!e.search?U(e.$slots,"placeholder",{key:4},()=>[b("div",{class:G(e.classList.placeholder),"aria-hidden":"true"},X(t.placeholder),3)]):T("v-if",!0),T(" Spinner "),t.loading||e.resolving?U(e.$slots,"spinner",{key:5},()=>[b("span",{class:G(e.classList.spinner),"aria-hidden":"true"},null,2)]):T("v-if",!0),T(" Clear "),e.hasSelected&&!t.disabled&&t.canClear&&!e.busy?U(e.$slots,"clear",{key:6,clear:e.clear},()=>[b("span",{"aria-hidden":"true",tabindex:"0",role:"button","data-clear":"","aria-roledescription":"\u274E",class:G(e.classList.clear),onClick:s[6]||(s[6]=(...l)=>e.clear&&e.clear(...l)),onKeyup:s[7]||(s[7]=vt((...l)=>e.clear&&e.clear(...l),["enter"]))},[b("span",{class:G(e.classList.clearIcon)},null,2)],34)]):T("v-if",!0),T(" Caret "),t.caret&&t.showOptions?U(e.$slots,"caret",{key:7},()=>[b("span",{class:G(e.classList.caret),onClick:s[8]||(s[8]=(...l)=>e.handleCaretClick&&e.handleCaretClick(...l)),"aria-hidden":"true"},null,2)]):T("v-if",!0)],16,oa),T(" Options "),b("div",{class:G(e.classList.dropdown),tabindex:"-1"},[U(e.$slots,"beforelist",{options:e.fo}),b("ul",{class:G(e.classList.options),id:e.ariaControls,role:"listbox"},[t.groups?(k(!0),L(Z,{key:0},ie(e.fg,(l,m,y)=>(k(),L("li",{class:G(e.classList.group),key:y,id:e.ariaGroupId(l),"aria-label":e.ariaGroupLabel(l),"aria-selected":e.isSelected(l),role:"option"},[b("div",{class:G(e.classList.groupLabel(l)),"data-pointed":e.isPointed(l),onMouseenter:g=>e.setPointer(l,m),onClick:g=>e.handleGroupClick(l)},[U(e.$slots,"grouplabel",{group:l,isSelected:e.isSelected,isPointed:e.isPointed},()=>[b("span",{innerHTML:l[t.groupLabel]},null,8,ba)])],42,ha),b("ul",{class:G(e.classList.groupOptions),"aria-label":e.ariaGroupLabel(l),role:"group"},[(k(!0),L(Z,null,ie(l.__VISIBLE__,(g,p,i)=>(k(),L("li",{class:G(e.classList.option(g,l)),"data-pointed":e.isPointed(g),"data-selected":e.isSelected(g)||void 0,key:i,onMouseenter:o=>e.setPointer(g),onClick:o=>e.handleOptionClick(g),id:e.ariaOptionId(g),"aria-selected":e.isSelected(g),"aria-label":e.ariaOptionLabel(g),role:"option"},[U(e.$slots,"option",{option:g,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[b("span",null,X(g[t.label]),1)])],42,ka))),128))],10,ya)],10,ga))),128)):(k(!0),L(Z,{key:1},ie(e.fo,(l,m,y)=>(k(),L("li",{class:G(e.classList.option(l)),"data-pointed":e.isPointed(l),"data-selected":e.isSelected(l)||void 0,key:y,onMouseenter:g=>e.setPointer(l),onClick:g=>e.handleOptionClick(l),id:e.ariaOptionId(l),"aria-selected":e.isSelected(l),"aria-label":e.ariaOptionLabel(l),role:"option"},[U(e.$slots,"option",{option:l,isSelected:e.isSelected,isPointed:e.isPointed,search:e.search},()=>[b("span",null,X(l[t.label]),1)])],42,Sa))),128))],10,ma),e.noOptions?U(e.$slots,"nooptions",{key:0},()=>[b("div",{class:G(e.classList.noOptions),innerHTML:t.noOptionsText},null,10,wa)]):T("v-if",!0),e.noResults?U(e.$slots,"noresults",{key:1},()=>[b("div",{class:G(e.classList.noResults),innerHTML:t.noResultsText},null,10,Oa)]):T("v-if",!0),t.infinite&&e.hasMore?(k(),L("div",{key:2,class:G(e.classList.inifinite),ref:"infiniteLoader"},[U(e.$slots,"infinite",{},()=>[b("span",{class:G(e.classList.inifiniteSpinner)},null,2)])],2)):T("v-if",!0),U(e.$slots,"afterlist",{options:e.fo})],2),T(" Hacky input element to show HTML5 required warning "),t.required?(k(),L("input",{key:0,class:G(e.classList.fakeInput),tabindex:"-1",value:e.textValue,required:""},null,10,La)):T("v-if",!0),T(" Native input support "),t.nativeSupport?(k(),L(Z,{key:1},[t.mode=="single"?(k(),L("input",{key:0,type:"hidden",name:t.name,value:e.plainValue!==void 0?e.plainValue:""},null,8,Ca)):(k(!0),L(Z,{key:1},ie(e.plainValue,(l,m)=>(k(),L("input",{type:"hidden",name:`${t.name}[]`,value:l,key:m},null,8,Ta))),128))],64)):T("v-if",!0),T(" Screen reader assistive text "),t.searchable&&e.hasSelected?(k(),L("div",{key:2,class:G(e.classList.assist),id:e.ariaAssist,"aria-hidden":"true"},X(e.ariaLabel),11,Da)):T("v-if",!0),T(" Create height for empty input "),b("div",{class:G(e.classList.spacer)},null,2)],42,ua)}lt.render=Ia;lt.__file="src/Multiselect.vue";const Pa=b("label",{class:"block text-sm font-medium mb-1"},"Decks",-1),qa={key:0,class:"text-rose-700 text-base font-medium mt-1 px-2"},Ea=fe({__name:"MultipleSelectField",props:{publicDecks:{type:Array,require:!0},userDecks:{type:Array,require:!0},error:{Type:String||null,required:!1}},setup(e){const s=e,t=Ae(),u=B(s.error),r=B(!1),h=B([{label:"User",options:s.userDecks},{label:"Public",options:s.publicDecks}]);return J(()=>t.createGame.selectedDecks,()=>{if(u.value){u.value=null;return}r.value&&!t.validateEmptyDecks&&(u.value="You have to choose at lease one deck")}),J(()=>s.error,()=>{u.value=s.error,r.value=!0}),(l,m)=>(k(),L(Z,null,[Pa,D(n(lt),{modelValue:n(t).createGame.selectedDecks,"onUpdate:modelValue":m[0]||(m[0]=y=>n(t).createGame.selectedDecks=y),mode:"tags","close-on-select":!1,searchable:!0,onChange:m[1]||(m[1]=y=>n(t).stepFormChange()),"create-option":!0,groups:!0,options:h.value},null,8,["modelValue","options"]),u.value?(k(),L("div",qa,X(u.value),1)):T("",!0)],64))}});const Ga={},$a={type:"button",class:"rounded-md border border-transparent bg-primary text-white px-8 font-medium hover:bg-secondary md:py-1 md:px-3 transition duration-150 text-2xl h-10"},Fa=b("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"#FFF",class:"w-7 h-6",viewBox:"0 0 16 16"},[b("path",{"fill-rule":"evenodd",d:"M8 2a.5.5 0 0 1 .5.5v5h5a.5.5 0 0 1 0 1h-5v5a.5.5 0 0 1-1 0v-5h-5a.5.5 0 0 1 0-1h5v-5A.5.5 0 0 1 8 2Z"})],-1),Ba=[Fa];function Ra(e,s){return k(),L("button",$a,Ba)}const _a=_t(Ga,[["render",Ra]]),Aa={class:"mx-auto my-4"},Ma={class:"flex flex-col"},ja={class:"overflow-x-auto shadow-md sm:rounded-lg"},Na={class:"inline-block min-w-full align-middle"},Va={class:"overflow-hidden"},xa={class:"bg-gray-700"},Ka=b("th",{scope:"col",class:"p-4 w-1/12"},[b("span",{class:"sr-only"},"Edit")],-1),Ha={class:"divide-y bg-dark divide-gray-700"},Ua={class:"hover:bg-gray-800 transition duration-300"},Wa={class:"py-4 px-6 text-sm font-medium whitespace-nowrap text-white"},Ya={class:"py-4 px-6 text-sm font-medium whitespace-nowrap text-white"},za={class:"py-4 px-6 text-sm font-medium whitespace-nowrap text-white"},Xa={class:"py-4 px-6 text-sm font-medium whitespace-nowrap text-white"},Za={class:"py-4 px-6 text-sm font-medium whitespace-nowrap text-white"},Ja={class:"py-4 px-6 text-sm font-medium text-right whitespace-nowrap mb-2"},Qa={key:1,class:"bg-dark p-4 text-center w-full text-white"},el={class:"p-2 shadow-lg"},tl=fe({__name:"CreateHandStartCardsForm",setup(e){const s=Ae(),t=B(["RULE TYPE","FROM DECK","TO ROLE","HIDDEN","CARDS"]),u=B(["2","3","3","1","2","1"]),r=B([]),h=()=>{r.value=s.decks.filter(l=>s.createGame.selectedDecks.includes(l.id))};return J(()=>s.createGame.selectedDecks,()=>{h()}),h(),(l,m)=>(k(),L("div",Aa,[b("div",Ma,[b("div",ja,[b("div",Na,[b("div",Va,[n(s).createGame.hand_start_cards.length!==0?(k(!0),L(Z,{key:0},ie(n(s).createGame.hand_start_cards,(y,g)=>{var p,i,o;return k(),L("table",{class:"min-w-full divide-y table-fixed divide-gray-700",key:`start_cards_${g}`},[b("thead",xa,[b("tr",null,[(k(!0),L(Z,null,ie(t.value,(c,P)=>(k(),L("th",{scope:"col",key:P,class:G([`w-${u.value[P]}/12`,"py-3 px-6 text-xs font-medium tracking-wider text-left uppercase text-gray-400"])},X(n(s).createGame.hand_start_cards[g].type===n(we).DECK&&P===2?"TO DECK":c),3))),128)),Ka])]),b("tbody",Ha,[b("tr",Ua,[b("td",Wa,[D(Qe,{options:[{id:n(we).ROLE,name:"Role"},{id:n(we).DECK,name:"Deck"}],onUpdate:c=>{n(s).createGame.hand_start_cards[g].type=c,n(s).stepFormChange()},dark:!0,input:{value:n(s).createGame.hand_start_cards[g].type},"empty-value":!1},null,8,["options","onUpdate","input"])]),b("td",Ya,[D(Qe,{options:(p=n(s).createGame.game.deck)==null?void 0:p.filter(c=>c.type===n(pt).DECK).map(c=>({id:c.id,name:c.name})),disable:r.value.length===0,dark:!0,onUpdate:c=>{n(s).createGame.hand_start_cards[g].deck=c,n(s).stepFormChange()},input:{value:n(s).createGame.hand_start_cards[g].deck},"empty-value":!1},null,8,["options","disable","onUpdate","input"])]),b("td",za,[D(Qe,{options:n(s).createGame.hand_start_cards[g].type===n(we).ROLE?(i=n(s).createGame.game.roles)==null?void 0:i.map(c=>({id:c.id,name:c.name})):(o=n(s).createGame.game.deck)==null?void 0:o.filter(c=>c.type===n(pt).EXTRA_DECK).map(c=>({id:c.id,name:c.name})),dark:!0,onUpdate:c=>{n(s).createGame.hand_start_cards[g].type===n(we).ROLE?n(s).createGame.hand_start_cards[g].role=c:n(s).createGame.hand_start_cards[g].toDeck=c,n(s).stepFormChange()},input:{value:n(s).createGame.hand_start_cards[g].type===n(we).ROLE?n(s).createGame.hand_start_cards[g].role:n(s).createGame.hand_start_cards[g].toDeck},"empty-value":!1},null,8,["options","onUpdate","input"])]),b("td",Xa,[D(tt,{"title-show":!1,input:y.hidden,onChange:c=>{n(s).createGame.hand_start_cards[g].hidden=c,n(s).stepFormChange()}},null,8,["input","onChange"])]),b("td",Za,[D(be,{"title-show":!1,input:y.count_cards,type:"number",min:1,onChange:c=>{y.count_cards=c,n(s).stepFormChange()}},null,8,["input","onChange"])]),b("td",Ja,[D(De,{gap:2},{default:W(()=>[D(_a,{onClick:m[0]||(m[0]=c=>{n(s).addHandStartCardsRow(),n(s).stepFormChange()})}),D(ft,{onClick:c=>{n(s).deleteHandStartCardsRow(g),n(s).stepFormChange()}},null,8,["onClick"])]),_:2},1024)])])])])}),128)):(k(),L("div",Qa,[b("div",el,[Ce("No rules. "),b("span",{class:"underline cursor-pointer hover:text-primary",onClick:m[1]||(m[1]=y=>{n(s).addHandStartCardsRow(),n(s).stepFormChange()})}," Click here to add a role ")])]))])])])])]))}}),al={class:"text-3xl"},ll=fe({__name:"SubTitle",setup(e){return(s,t)=>(k(),pe(De,{justify:"between",items:"center",class:"w-full mb-3 border-b-2 border-primary p-2"},{default:W(()=>[b("div",al,[U(s.$slots,"default")]),U(s.$slots,"button")]),_:3}))}}),sl={class:"bg-info w-full px-8 py-3 text-white italic rounded-lg"},nl=fe({__name:"Alert",setup(e){return(s,t)=>(k(),pe(De,null,{default:W(()=>[b("div",sl,[U(s.$slots,"default")])]),_:3}))}}),rl={class:"w-11/12"},il={class:"w-1/12 text-right"},Be=fe({__name:"MoreItems",props:{errors:{type:Object},items:{type:Array,required:!0},itemsTitle:{type:String,required:!0},disabledItems:{type:Boolean,default:!1},countDisabledItems:{type:Number,default:1},title:{type:String},message:{type:String},buttonTitle:{type:String,required:!0}},emits:["deleteItem","update","addItem"],setup(e,{emit:s}){const t=e,u=Ae(),r=h=>t.disabledItems&&h<t.countDisabledItems;return(h,l)=>(k(),L(Z,null,[D(ll,{class:"mt-4"},{button:W(()=>[D(et,{title:e.buttonTitle,onClick:l[0]||(l[0]=m=>{h.$emit("addItem"),n(u).stepFormChange()})},null,8,["title"])]),default:W(()=>[Ce(X(e.title)+" ",1)]),_:1}),e.items.length>0?(k(!0),L(Z,{key:0},ie(e.items,(m,y)=>(k(),pe(De,{items:"center",justify:"center",gap:2,key:y},{default:W(()=>[b("div",rl,[D(be,{title:e.itemsTitle,input:m.name,disabled:r(y),onChange:g=>h.$emit("update",g,y)},null,8,["title","input","disabled","onChange"])]),b("div",il,[r(y)?T("",!0):(k(),pe(ft,{key:0,onClick:g=>{h.$emit("deleteItem",y),n(u).stepFormChange()},class:"mt-4"},null,8,["onClick"]))])]),_:2},1024))),128)):(k(),pe(nl,{key:1,class:"my-2"},{default:W(()=>[Ce(X(e.message),1)]),_:1}))],64))}}),ul={class:"mb-3"},ol={class:"block text-sm font-medium"},dl={class:"mt-1"},cl=fe({__name:"TextAreaFiled",props:{input:{type:String,required:!0},errors:{type:Object},title:{type:String,required:!0}},emits:["change"],setup(e,{emit:s}){const t=e,u=B("");return at(()=>{u.value=t.input}),(r,h)=>(k(),L("div",ul,[b("label",ol,X(e.title),1),b("div",dl,[$t(b("textarea",{"onUpdate:modelValue":h[0]||(h[0]=l=>u.value=l),rows:"4",onInput:h[1]||(h[1]=l=>r.$emit("change",u.value)),class:"block w-full appearance-none rounded-md border border-gray-300 px-3 py-2 placeholder-gray-400 shadow-sm focus:border-secondary focus:outline-none sm:text-sm"},null,544),[[Ft,u.value]])]),(k(!0),L(Z,null,ie(e.errors,l=>(k(),L("div",{key:l.$uid,class:"text-rose-700 text-base font-medium mt-1 px-2"},X(l.$message),1))),128))]))}}),vl=["onSubmit"],pl={key:0},fl={key:1},ml={key:2},gl={key:3,class:"mt-6 italic text-red-500"},Dl=fe({__name:"GameForm",emits:["submit"],setup(e,{emit:s}){const t=Ae(),u=Bt(),r=B(null),h=O(()=>({name:{required:Le},min_players:{required:Le,numeric:Ge,minLength:$e(1)},max_players:{required:Le,numeric:Ge,minLength:$e(1)},grid_rows:{required:Le,numeric:Ge,minLength:$e(1)},grid_cols:{required:Le,numeric:Ge,minLength:$e(1)}})),l=B([]),m=B([]),y=Mt(h,t.createGame.game),g=async()=>{switch(t.stepForm.value){case 1:y.value.$validate();const p=t.validateEmptyDecks;p?r.value=null:r.value="You have to choose at lease one deck",p&&!y.value.$error&&s("submit");break;case 2:t.validateMoreSettings()&&s("submit");break;case 3:t.validateHandStartingCards()&&s("submit");break}};return t.fetchDecks().then(p=>{m.value=p.filter(i=>i.creator===u.user.username),l.value=p.filter(i=>i.creator!==u.user.username)}),Rt(()=>{t.clearFormData()}),(p,i)=>n(t).loading?(k(),pe(jt,{key:1})):(k(),L("form",{key:0,class:"px-4 py-8",onSubmit:Re(g,["prevent"])},[D(Ut,{"active-item":n(t).stepForm.value,loading:n(t).stepForm.loading,onDecrease:i[20]||(i[20]=o=>n(t).stepForm.value=o),onIncrease:i[21]||(i[21]=o=>n(t).stepForm.value=o)},{default:W(()=>[n(t).stepForm.value===1?(k(),L("div",pl,[n(t).createGame.game?(k(),pe(At,{key:0,all:2,gap_x:4,class:"mt-8"},{default:W(()=>[D(ve,{xs:2},{default:W(()=>[D(be,{input:n(t).createGame.game.name,onChange:i[0]||(i[0]=o=>{n(t).createGame.game.name=o,n(t).stepFormChange()}),title:"Name",errors:n(y).name.$errors},null,8,["input","errors"])]),_:1}),D(ve,{xs:1},{default:W(()=>[D(be,{input:n(t).createGame.game.min_players,onChange:i[1]||(i[1]=o=>{n(t).createGame.game.min_players=o,n(t).stepFormChange()}),title:"Min Players",max:10,min:1,type:"number",errors:n(y).min_players.$errors},null,8,["input","errors"])]),_:1}),D(ve,{xs:1},{default:W(()=>[D(be,{input:n(t).createGame.game.max_players,onChange:i[2]||(i[2]=o=>{n(t).createGame.game.max_players=o,n(t).stepFormChange()}),title:"Max Players",max:10,min:1,type:"number",errors:n(y).max_players.$errors},null,8,["input","errors"])]),_:1}),D(ve,{xs:1},{default:W(()=>[D(be,{input:n(t).createGame.game.grid_rows,onChange:i[3]||(i[3]=o=>{n(t).createGame.game.grid_rows=o,n(t).stepFormChange()}),title:"Grid Rows",max:12,min:0,type:"number",errors:n(y).grid_rows.$errors},null,8,["input","errors"])]),_:1}),D(ve,{xs:1},{default:W(()=>[D(be,{input:n(t).createGame.game.grid_cols,onChange:i[4]||(i[4]=o=>{n(t).createGame.game.grid_cols=o,n(t).stepFormChange()}),title:"Grid Columns",max:12,min:0,type:"number",errors:n(y).grid_cols.$errors},null,8,["input","errors"])]),_:1}),D(ve,{xs:2},{default:W(()=>[D(cl,{title:"Description",input:n(t).createGame.game.description,onChange:i[5]||(i[5]=o=>{n(t).createGame.game.description=o,n(t).stepFormChange()})},null,8,["input"])]),_:1}),l.value.length>0||m.value.length>0?(k(),pe(ve,{key:0,xs:2},{default:W(()=>[D(Ea,{"public-decks":l.value.map(o=>({value:o.id,label:o.name})),"user-decks":m.value.map(o=>({value:o.id,label:o.name})),error:r.value},null,8,["public-decks","user-decks","error"])]),_:1})):T("",!0),D(ve,{xs:2},{default:W(()=>[D(tt,{title:"Private",input:n(t).createGame.game.private,class:"py-2",onChange:i[6]||(i[6]=o=>{n(t).createGame.game.private=o,n(t).stepFormChange()})},null,8,["input"])]),_:1}),D(ve,{xs:2},{default:W(()=>[D(tt,{title:"Rank",input:n(t).createGame.game.rank,class:"py-2",onChange:i[7]||(i[7]=o=>{n(t).createGame.game.rank=o,n(t).stepFormChange()})},null,8,["input"])]),_:1})]),_:1})):T("",!0)])):T("",!0),n(t).stepForm.value===2?(k(),L("div",fl,[D(Be,{items:n(t).createGame.roles,title:"Roles","button-title":"Add a Role",message:"No roles",onAddItem:i[8]||(i[8]=o=>n(t).addRole()),itemsTitle:"Role name",onUpdate:i[9]||(i[9]=(o,c)=>{n(t).createGame.roles[c].name=o,n(t).stepFormChange()}),onDeleteItem:i[10]||(i[10]=o=>n(t).deleteRole(o)),"disabled-items":!0},null,8,["items"]),D(Be,{items:n(t).createGame.extraDecks,title:"Empty decks","button-title":"Add a Deck",message:"No empty decks",onAddItem:i[11]||(i[11]=o=>n(t).addExtraDeck()),itemsTitle:"Deck name","count-disabled-items":2,"disabled-items":!0,onUpdate:i[12]||(i[12]=(o,c)=>{n(t).createGame.extraDecks[c].name=o,n(t).stepFormChange()}),onDeleteItem:i[13]||(i[13]=o=>n(t).deleteExtraDeck(o))},null,8,["items"]),D(Be,{items:n(t).createGame.status,title:"Status","button-title":"Add a Status",message:"No status",onAddItem:i[14]||(i[14]=o=>n(t).addStatus()),itemsTitle:"Status name",onUpdate:i[15]||(i[15]=(o,c)=>{n(t).createGame.status[c].name=o,n(t).stepFormChange()}),onDeleteItem:i[16]||(i[16]=o=>n(t).deleteStatus(o))},null,8,["items"]),D(Be,{items:n(t).createGame.teams,title:"Teams","button-title":"Add a Team",message:"No teams",onAddItem:i[17]||(i[17]=o=>n(t).addTeam()),itemsTitle:"Team name",onUpdate:i[18]||(i[18]=(o,c)=>{n(t).createGame.teams[c].name=o,n(t).stepFormChange()}),onDeleteItem:i[19]||(i[19]=o=>n(t).deleteTeam(o))},null,8,["items"])])):T("",!0),n(t).stepForm.value===3?(k(),L("div",ml,[D(tl)])):T("",!0),n(t).editGame&&n(t).stepForm.value!==3?(k(),L("div",gl,"Note: If you edit the game settings the cards rules will be erase")):T("",!0)]),_:1},8,["active-item","loading"])],40,vl))}});export{Dl as _};
